/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var hy=Object.create;var Sr=Object.defineProperty;var py=Object.getOwnPropertyDescriptor;var my=Object.getOwnPropertyNames;var gy=Object.getPrototypeOf,yy=Object.prototype.hasOwnProperty;var i=(t,e)=>Sr(t,"name",{value:e,configurable:!0});var pt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$u=(t,e)=>{for(var n in e)Sr(t,n,{get:e[n],enumerable:!0})},Hu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of my(e))!yy.call(t,s)&&s!==n&&Sr(t,s,{get:()=>e[s],enumerable:!(r=py(e,s))||r.enumerable});return t};var Je=(t,e,n)=>(n=t!=null?hy(gy(t)):{},Hu(e||!t||!t.__esModule?Sr(n,"default",{value:t,enumerable:!0}):n,t)),wy=t=>Hu(Sr({},"__esModule",{value:!0}),t);var uc=pt((Ci,lc)=>{(function(t,e){typeof Ci=="object"&&typeof lc<"u"?e(Ci):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Ci,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=i(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let A=S.match(e);if(!A)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return A.shift(),A},"validateAndParse"),r=i(S=>S==="*"||S==="x"||S==="X","isWildcard"),s=i(S=>{let A=parseInt(S,10);return isNaN(A)?S:A},"tryParse"),a=i((S,A)=>typeof S!=typeof A?[String(S),String(A)]:[S,A],"forceType"),l=i((S,A)=>{if(r(S)||r(A))return 0;let[F,I]=a(s(S),s(A));return F>I?1:F<I?-1:0},"compareStrings"),c=i((S,A)=>{for(let F=0;F<Math.max(S.length,A.length);F++){let I=l(S[F]||"0",A[F]||"0");if(I!==0)return I}return 0},"compareSegments"),d=i((S,A)=>{let F=n(S),I=n(A),D=F.pop(),W=I.pop(),E=c(F,I);return E!==0?E:D&&W?c(D.split("."),W.split(".")):D||W?D?-1:1:0},"compareVersions"),h=i((S,A,F)=>{y(F);let I=d(S,A);return p[F].includes(I)},"compare"),p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(p),y=i(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(g.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),w=i((S,A)=>{if(A=A.replace(/([><=]+)\s+/g,"$1"),A.includes("||"))return A.split("||").some(Z=>w(S,Z));if(A.includes(" - ")){let[Z,ie]=A.split(" - ",2);return w(S,`>=${Z} <=${ie}`)}else if(A.includes(" "))return A.trim().replace(/\s{2,}/g," ").split(" ").every(Z=>w(S,Z));let F=A.match(/^([<>=~^]+)/),I=F?F[1]:"=";if(I!=="^"&&I!=="~")return h(S,A,I);let[D,W,E,,K]=n(S),[G,$,Q,,ue]=n(A),te=[D,W,E],L=[G,$??"x",Q??"x"];if(ue&&(!K||c(te,L)!==0||c(K.split("."),ue.split("."))===-1))return!1;let z=L.findIndex(Z=>Z!=="0")+1,U=I==="~"?2:z>1?z:1;return!(c(te.slice(0,U),L.slice(0,U))!==0||c(te.slice(U),L.slice(U))===-1)},"satisfies"),C=i(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),P=i(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=h,t.compareVersions=d,t.satisfies=w,t.validate=C,t.validateStrict=P}))});var dc=pt((gx,cc)=>{var Bn=1e3,Vn=Bn*60,Wn=Vn*60,mn=Wn*24,Dy=mn*7,Ly=mn*365.25;cc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Ry(t);if(n==="number"&&isFinite(t))return e.long?By(t):Ny(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ry(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Ly;case"weeks":case"week":case"w":return n*Dy;case"days":case"day":case"d":return n*mn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Wn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Vn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Bn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}i(Ry,"parse");function Ny(t){var e=Math.abs(t);return e>=mn?Math.round(t/mn)+"d":e>=Wn?Math.round(t/Wn)+"h":e>=Vn?Math.round(t/Vn)+"m":e>=Bn?Math.round(t/Bn)+"s":t+"ms"}i(Ny,"fmtShort");function By(t){var e=Math.abs(t);return e>=mn?Ai(t,e,mn,"day"):e>=Wn?Ai(t,e,Wn,"hour"):e>=Vn?Ai(t,e,Vn,"minute"):e>=Bn?Ai(t,e,Bn,"second"):t+" ms"}i(By,"fmtLong");function Ai(t,e,n,r){var s=e>=n*1.5;return Math.round(t/n)+" "+r+(s?"s":"")}i(Ai,"plural")});var pa=pt((wx,fc)=>{function Vy(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=s,n.enabled=c,n.humanize=dc(),n.destroy=h,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let g=0;for(let y=0;y<p.length;y++)g=(g<<5)-g+p.charCodeAt(y),g|=0;return n.colors[Math.abs(g)%n.colors.length]}i(e,"selectColor"),n.selectColor=e;function n(p){let g,y=null,w,C;function P(...S){if(!P.enabled)return;let A=P,F=Number(new Date),I=F-(g||F);A.diff=I,A.prev=g,A.curr=F,g=F,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let D=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,K)=>{if(E==="%%")return"%";D++;let G=n.formatters[K];if(typeof G=="function"){let $=S[D];E=G.call(A,$),S.splice(D,1),D--}return E}),n.formatArgs.call(A,S),(A.log||n.log).apply(A,S)}return i(P,"debug"),P.namespace=p,P.useColors=n.useColors(),P.color=n.selectColor(p),P.extend=r,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:i(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,C=n.enabled(p)),C),"get"),set:i(S=>{y=S},"set")}),typeof n.init=="function"&&n.init(P),P}i(n,"createDebug");function r(p,g){let y=n(this.namespace+(typeof g>"u"?":":g)+p);return y.log=this.log,y}i(r,"extend");function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}i(s,"enable");function a(p,g){let y=0,w=0,C=-1,P=0;for(;y<p.length;)if(w<g.length&&(g[w]===p[y]||g[w]==="*"))g[w]==="*"?(C=w,P=y,w++):(y++,w++);else if(C!==-1)w=C+1,P++,y=P;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}i(a,"matchesTemplate");function l(){let p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}i(l,"disable");function c(p){for(let g of n.skips)if(a(p,g))return!1;for(let g of n.names)if(a(p,g))return!0;return!1}i(c,"enabled");function d(p){return p instanceof Error?p.stack||p.message:p}i(d,"coerce");function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i(h,"destroy"),n.enable(n.load()),n}i(Vy,"setup");fc.exports=Vy});var hc=pt(($e,Si)=>{$e.formatArgs=Yy;$e.save=zy;$e.load=Uy;$e.useColors=Wy;$e.storage=$y();$e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Wy(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}i(Wy,"useColors");function Yy(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Si.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),t.splice(r,0,e)}i(Yy,"formatArgs");$e.log=console.debug||console.log||(()=>{});function zy(t){try{t?$e.storage.setItem("debug",t):$e.storage.removeItem("debug")}catch{}}i(zy,"save");function Uy(){let t;try{t=$e.storage.getItem("debug")||$e.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}i(Uy,"load");function $y(){try{return localStorage}catch{}}i($y,"localstorage");Si.exports=pa()($e);var{formatters:Hy}=Si.exports;Hy.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var mc=pt((xx,pc)=>{"use strict";pc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),s=e.indexOf("--");return r!==-1&&(s===-1||r<s)}});var wc=pt((vx,yc)=>{"use strict";var jy=require("os"),gc=require("tty"),st=mc(),{env:Se}=process,Ei;st("no-color")||st("no-colors")||st("color=false")||st("color=never")?Ei=0:(st("color")||st("colors")||st("color=true")||st("color=always"))&&(Ei=1);function Ky(){if("FORCE_COLOR"in Se)return Se.FORCE_COLOR==="true"?1:Se.FORCE_COLOR==="false"?0:Se.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Se.FORCE_COLOR,10),3)}i(Ky,"envForceColor");function Gy(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}i(Gy,"translateLevel");function qy(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=Ky();r!==void 0&&(Ei=r);let s=n?Ei:r;if(s===0)return 0;if(n){if(st("color=16m")||st("color=full")||st("color=truecolor"))return 3;if(st("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let a=s||0;if(Se.TERM==="dumb")return a;if(process.platform==="win32"){let l=jy.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Se)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Se)||Se.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Se)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Se.TEAMCITY_VERSION)?1:0;if(Se.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Se){let l=Number.parseInt((Se.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Se.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Se.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Se.TERM)||"COLORTERM"in Se?1:a}i(qy,"supportsColor");function ma(t,e={}){let n=qy(t,{streamIsTTY:t&&t.isTTY,...e});return Gy(n)}i(ma,"getSupportLevel");yc.exports={supportsColor:ma,stdout:ma({isTTY:gc.isatty(1)}),stderr:ma({isTTY:gc.isatty(2)})}});var kc=pt((Ee,Fi)=>{var Zy=require("tty"),Ti=require("util");Ee.init=rw;Ee.log=ew;Ee.formatArgs=Qy;Ee.save=tw;Ee.load=nw;Ee.useColors=Jy;Ee.destroy=Ti.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ee.colors=[6,2,3,4,5,1];try{let t=wc();t&&(t.stderr||t).level>=2&&(Ee.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ee.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function Jy(){return"colors"in Ee.inspectOpts?!!Ee.inspectOpts.colors:Zy.isatty(process.stderr.fd)}i(Jy,"useColors");function Qy(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,s="\x1B[3"+(r<8?r:"8;5;"+r),a=`  ${s};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(s+"m+"+Fi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Xy()+e+" "+t[0]}i(Qy,"formatArgs");function Xy(){return Ee.inspectOpts.hideDate?"":new Date().toISOString()+" "}i(Xy,"getDate");function ew(...t){return process.stderr.write(Ti.formatWithOptions(Ee.inspectOpts,...t)+`
`)}i(ew,"log");function tw(t){t?process.env.DEBUG=t:delete process.env.DEBUG}i(tw,"save");function nw(){return process.env.DEBUG}i(nw,"load");function rw(t){t.inspectOpts={};let e=Object.keys(Ee.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Ee.inspectOpts[e[n]]}i(rw,"init");Fi.exports=pa()(Ee);var{formatters:bc}=Fi.exports;bc.o=function(t){return this.inspectOpts.colors=this.useColors,Ti.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};bc.O=function(t){return this.inspectOpts.colors=this.useColors,Ti.inspect(t,this.inspectOpts)}});var xc=pt((Sx,ga)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ga.exports=hc():ga.exports=kc()});var en=pt((Pa,Hn)=>{(function(t,e){typeof Pa=="object"&&typeof Hn<"u"?Hn.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Pa,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}i(e,"hooks");function n(o){t=o}i(n,"setHookCallback");function r(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}i(r,"isArray");function s(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}i(s,"isObject");function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}i(a,"hasOwnProp");function l(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var u;for(u in o)if(a(o,u))return!1;return!0}i(l,"isObjectEmpty");function c(o){return o===void 0}i(c,"isUndefined");function d(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}i(d,"isNumber");function h(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}i(h,"isDate");function p(o,u){var f=[],m,b=o.length;for(m=0;m<b;++m)f.push(u(o[m],m));return f}i(p,"map");function g(o,u){for(var f in u)a(u,f)&&(o[f]=u[f]);return a(u,"toString")&&(o.toString=u.toString),a(u,"valueOf")&&(o.valueOf=u.valueOf),o}i(g,"extend");function y(o,u,f,m){return xu(o,u,f,m,!0).utc()}i(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}i(w,"defaultParsingFlags");function C(o){return o._pf==null&&(o._pf=w()),o._pf}i(C,"getParsingFlags");var P;Array.prototype.some?P=Array.prototype.some:P=i(function(o){var u=Object(this),f=u.length>>>0,m;for(m=0;m<f;m++)if(m in u&&o.call(this,u[m],m,u))return!0;return!1},"some");function S(o){var u=null,f=!1,m=o._d&&!isNaN(o._d.getTime());if(m&&(u=C(o),f=P.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&f),o._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=m;else return m;return o._isValid}i(S,"isValid");function A(o){var u=y(NaN);return o!=null?g(C(u),o):C(u).userInvalidated=!0,u}i(A,"createInvalid");var F=e.momentProperties=[],I=!1;function D(o,u){var f,m,b,x=F.length;if(c(u._isAMomentObject)||(o._isAMomentObject=u._isAMomentObject),c(u._i)||(o._i=u._i),c(u._f)||(o._f=u._f),c(u._l)||(o._l=u._l),c(u._strict)||(o._strict=u._strict),c(u._tzm)||(o._tzm=u._tzm),c(u._isUTC)||(o._isUTC=u._isUTC),c(u._offset)||(o._offset=u._offset),c(u._pf)||(o._pf=C(u)),c(u._locale)||(o._locale=u._locale),x>0)for(f=0;f<x;f++)m=F[f],b=u[m],c(b)||(o[m]=b);return o}i(D,"copyConfig");function W(o){D(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,e.updateOffset(this),I=!1)}i(W,"Moment");function E(o){return o instanceof W||o!=null&&o._isAMomentObject!=null}i(E,"isMoment");function K(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}i(K,"warn");function G(o,u){var f=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),f){var m=[],b,x,T,N=arguments.length;for(x=0;x<N;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[x];m.push(b)}K(o+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),f=!1}return u.apply(this,arguments)},u)}i(G,"deprecate");var $={};function Q(o,u){e.deprecationHandler!=null&&e.deprecationHandler(o,u),$[o]||(K(u),$[o]=!0)}i(Q,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ue(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}i(ue,"isFunction");function te(o){var u,f;for(f in o)a(o,f)&&(u=o[f],ue(u)?this[f]=u:this["_"+f]=u);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}i(te,"set");function L(o,u){var f=g({},o),m;for(m in u)a(u,m)&&(s(o[m])&&s(u[m])?(f[m]={},g(f[m],o[m]),g(f[m],u[m])):u[m]!=null?f[m]=u[m]:delete f[m]);for(m in o)a(o,m)&&!a(u,m)&&s(o[m])&&(f[m]=g({},f[m]));return f}i(L,"mergeConfigs");function z(o){o!=null&&this.set(o)}i(z,"Locale");var U;Object.keys?U=Object.keys:U=i(function(o){var u,f=[];for(u in o)a(o,u)&&f.push(u);return f},"keys");var Z={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ie(o,u,f){var m=this._calendar[o]||this._calendar.sameElse;return ue(m)?m.call(u,f):m}i(ie,"calendar");function ce(o,u,f){var m=""+Math.abs(o),b=u-m.length,x=o>=0;return(x?f?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}i(ce,"zeroFill");var be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},pe={};function k(o,u,f,m){var b=m;typeof m=="string"&&(b=i(function(){return this[m]()},"func")),o&&(pe[o]=b),u&&(pe[u[0]]=function(){return ce(b.apply(this,arguments),u[1],u[2])}),f&&(pe[f]=function(){return this.localeData().ordinal(b.apply(this,arguments),o)})}i(k,"addFormatToken");function Ae(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}i(Ae,"removeFormattingTokens");function Ft(o){var u=o.match(be),f,m;for(f=0,m=u.length;f<m;f++)pe[u[f]]?u[f]=pe[u[f]]:u[f]=Ae(u[f]);return function(b){var x="",T;for(T=0;T<m;T++)x+=ue(u[T])?u[T].call(b,o):u[T];return x}}i(Ft,"makeFormatFunction");function Kt(o,u){return o.isValid()?(u=cn(u,o.localeData()),oe[u]=oe[u]||Ft(u),oe[u](o)):o.localeData().invalidDate()}i(Kt,"formatMoment");function cn(o,u){var f=5;function m(b){return u.longDateFormat(b)||b}for(i(m,"replaceLongDateFormatTokens"),v.lastIndex=0;f>=0&&v.test(o);)o=o.replace(v,m),v.lastIndex=0,f-=1;return o}i(cn,"expandFormat");var ke={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function dn(o){var u=this._longDateFormat[o],f=this._longDateFormat[o.toUpperCase()];return u||!f?u:(this._longDateFormat[o]=f.match(be).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[o])}i(dn,"longDateFormat");var lt="Invalid date";function Pt(){return this._invalidDate}i(Pt,"invalidDate");var Gt="%d",mr=/\d{1,2}/;function Do(o){return this._ordinal.replace("%d",o)}i(Do,"ordinal");var Qr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Xr(o,u,f,m){var b=this._relativeTime[f];return ue(b)?b(o,u,f,m):b.replace(/%d/i,o)}i(Xr,"relativeTime");function ei(o,u){var f=this._relativeTime[o>0?"future":"past"];return ue(f)?f(u):f.replace(/%s/i,u)}i(ei,"pastFuture");var ti={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ne(o){return typeof o=="string"?ti[o]||ti[o.toLowerCase()]:void 0}i(Ne,"normalizeUnits");function Fn(o){var u={},f,m;for(m in o)a(o,m)&&(f=Ne(m),f&&(u[f]=o[m]));return u}i(Fn,"normalizeObjectUnits");var Lo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ro(o){var u=[],f;for(f in o)a(o,f)&&u.push({unit:f,priority:Lo[f]});return u.sort(function(m,b){return m.priority-b.priority}),u}i(Ro,"getPrioritizedUnits");var ni=/\d/,Be=/\d\d/,ri=/\d{3}/,_=/\d{4}/,O=/[+-]?\d{6}/,R=/\d\d?/,X=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,Ie=/\d{1,3}/,ut=/\d{1,4}/,Ue=/[+-]?\d{1,6}/,rt=/\d+/,wt=/[+-]?\d+/,Ve=/Z|[+-]\d\d:?\d\d/gi,ct=/Z|[+-]\d\d(?::?\d\d)?/gi,dt=/[+-]?\d+(\.\d{1,3})?/,gr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pn=/^[1-9]\d?/,No=/^([1-9]\d|\d)/,ii;ii={};function B(o,u,f){ii[o]=ue(u)?u:function(m,b){return m&&f?f:u}}i(B,"addRegexToken");function Dh(o,u){return a(ii,o)?ii[o](u._strict,u._locale):new RegExp(Lh(o))}i(Dh,"getParseRegexForToken");function Lh(o){return _t(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,f,m,b,x){return f||m||b||x}))}i(Lh,"unescapeFormat");function _t(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}i(_t,"regexEscape");function it(o){return o<0?Math.ceil(o)||0:Math.floor(o)}i(it,"absFloor");function ee(o){var u=+o,f=0;return u!==0&&isFinite(u)&&(f=it(u)),f}i(ee,"toInt");var Bo={};function de(o,u){var f,m=u,b;for(typeof o=="string"&&(o=[o]),d(u)&&(m=i(function(x,T){T[u]=ee(x)},"func")),b=o.length,f=0;f<b;f++)Bo[o[f]]=m}i(de,"addParseToken");function yr(o,u){de(o,function(f,m,b,x){b._w=b._w||{},u(f,b._w,b,x)})}i(yr,"addWeekParseToken");function Rh(o,u,f){u!=null&&a(Bo,o)&&Bo[o](u,f._a,f,o)}i(Rh,"addTimeToArrayFromToken");function si(o){return o%4===0&&o%100!==0||o%400===0}i(si,"isLeapYear");var Me=0,It=1,bt=2,xe=3,ft=4,Mt=5,fn=6,Nh=7,Bh=8;k("Y",0,0,function(){var o=this.year();return o<=9999?ce(o,4):"+"+o}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),B("Y",wt),B("YY",R,Be),B("YYYY",ut,_),B("YYYYY",Ue,O),B("YYYYYY",Ue,O),de(["YYYYY","YYYYYY"],Me),de("YYYY",function(o,u){u[Me]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),de("YY",function(o,u){u[Me]=e.parseTwoDigitYear(o)}),de("Y",function(o,u){u[Me]=parseInt(o,10)});function wr(o){return si(o)?366:365}i(wr,"daysInYear"),e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var su=_n("FullYear",!0);function Vh(){return si(this.year())}i(Vh,"getIsLeapYear");function _n(o,u){return function(f){return f!=null?(ou(this,o,f),e.updateOffset(this,u),this):br(this,o)}}i(_n,"makeGetSet");function br(o,u){if(!o.isValid())return NaN;var f=o._d,m=o._isUTC;switch(u){case"Milliseconds":return m?f.getUTCMilliseconds():f.getMilliseconds();case"Seconds":return m?f.getUTCSeconds():f.getSeconds();case"Minutes":return m?f.getUTCMinutes():f.getMinutes();case"Hours":return m?f.getUTCHours():f.getHours();case"Date":return m?f.getUTCDate():f.getDate();case"Day":return m?f.getUTCDay():f.getDay();case"Month":return m?f.getUTCMonth():f.getMonth();case"FullYear":return m?f.getUTCFullYear():f.getFullYear();default:return NaN}}i(br,"get");function ou(o,u,f){var m,b,x,T,N;if(!(!o.isValid()||isNaN(f))){switch(m=o._d,b=o._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(f):m.setMilliseconds(f));case"Seconds":return void(b?m.setUTCSeconds(f):m.setSeconds(f));case"Minutes":return void(b?m.setUTCMinutes(f):m.setMinutes(f));case"Hours":return void(b?m.setUTCHours(f):m.setHours(f));case"Date":return void(b?m.setUTCDate(f):m.setDate(f));case"FullYear":break;default:return}x=f,T=o.month(),N=o.date(),N=N===29&&T===1&&!si(x)?28:N,b?m.setUTCFullYear(x,T,N):m.setFullYear(x,T,N)}}i(ou,"set$1");function Wh(o){return o=Ne(o),ue(this[o])?this[o]():this}i(Wh,"stringGet");function Yh(o,u){if(typeof o=="object"){o=Fn(o);var f=Ro(o),m,b=f.length;for(m=0;m<b;m++)this[f[m].unit](o[f[m].unit])}else if(o=Ne(o),ue(this[o]))return this[o](u);return this}i(Yh,"stringSet");function zh(o,u){return(o%u+u)%u}i(zh,"mod");var ye;Array.prototype.indexOf?ye=Array.prototype.indexOf:ye=i(function(o){var u;for(u=0;u<this.length;++u)if(this[u]===o)return u;return-1},"indexOf");function Vo(o,u){if(isNaN(o)||isNaN(u))return NaN;var f=zh(u,12);return o+=(u-f)/12,f===1?si(o)?29:28:31-f%7%2}i(Vo,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),k("MMMM",0,0,function(o){return this.localeData().months(this,o)}),B("M",R,Pn),B("MM",R,Be),B("MMM",function(o,u){return u.monthsShortRegex(o)}),B("MMMM",function(o,u){return u.monthsRegex(o)}),de(["M","MM"],function(o,u){u[It]=ee(o)-1}),de(["MMM","MMMM"],function(o,u,f,m){var b=f._locale.monthsParse(o,m,f._strict);b!=null?u[It]=b:C(f).invalidMonth=o});var Uh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),au="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$h=gr,Hh=gr;function jh(o,u){return o?r(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||lu).test(u)?"format":"standalone"][o.month()]:r(this._months)?this._months:this._months.standalone}i(jh,"localeMonths");function Kh(o,u){return o?r(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[lu.test(u)?"format":"standalone"][o.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}i(Kh,"localeMonthsShort");function Gh(o,u,f){var m,b,x,T=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)x=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(x,"").toLocaleLowerCase();return f?u==="MMM"?(b=ye.call(this._shortMonthsParse,T),b!==-1?b:null):(b=ye.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=ye.call(this._shortMonthsParse,T),b!==-1?b:(b=ye.call(this._longMonthsParse,T),b!==-1?b:null)):(b=ye.call(this._longMonthsParse,T),b!==-1?b:(b=ye.call(this._shortMonthsParse,T),b!==-1?b:null))}i(Gh,"handleStrictParse");function qh(o,u,f){var m,b,x;if(this._monthsParseExact)return Gh.call(this,o,u,f);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),f&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!f&&!this._monthsParse[m]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(x.replace(".",""),"i")),f&&u==="MMMM"&&this._longMonthsParse[m].test(o))return m;if(f&&u==="MMM"&&this._shortMonthsParse[m].test(o))return m;if(!f&&this._monthsParse[m].test(o))return m}}i(qh,"localeMonthsParse");function uu(o,u){if(!o.isValid())return o;if(typeof u=="string"){if(/^\d+$/.test(u))u=ee(u);else if(u=o.localeData().monthsParse(u),!d(u))return o}var f=u,m=o.date();return m=m<29?m:Math.min(m,Vo(o.year(),f)),o._isUTC?o._d.setUTCMonth(f,m):o._d.setMonth(f,m),o}i(uu,"setMonth");function cu(o){return o!=null?(uu(this,o),e.updateOffset(this,!0),this):br(this,"Month")}i(cu,"getSetMonth");function Zh(){return Vo(this.year(),this.month())}i(Zh,"getDaysInMonth");function Jh(o){return this._monthsParseExact?(a(this,"_monthsRegex")||du.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=$h),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}i(Jh,"monthsShortRegex");function Qh(o){return this._monthsParseExact?(a(this,"_monthsRegex")||du.call(this),o?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Hh),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}i(Qh,"monthsRegex");function du(){function o(H,ne){return ne.length-H.length}i(o,"cmpLenRev");var u=[],f=[],m=[],b,x,T,N;for(b=0;b<12;b++)x=y([2e3,b]),T=_t(this.monthsShort(x,"")),N=_t(this.months(x,"")),u.push(T),f.push(N),m.push(N),m.push(T);u.sort(o),f.sort(o),m.sort(o),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}i(du,"computeMonthsParse");function Xh(o,u,f,m,b,x,T){var N;return o<100&&o>=0?(N=new Date(o+400,u,f,m,b,x,T),isFinite(N.getFullYear())&&N.setFullYear(o)):N=new Date(o,u,f,m,b,x,T),N}i(Xh,"createDate");function kr(o){var u,f;return o<100&&o>=0?(f=Array.prototype.slice.call(arguments),f[0]=o+400,u=new Date(Date.UTC.apply(null,f)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(o)):u=new Date(Date.UTC.apply(null,arguments)),u}i(kr,"createUTCDate");function oi(o,u,f){var m=7+u-f,b=(7+kr(o,0,m).getUTCDay()-u)%7;return-b+m-1}i(oi,"firstWeekOffset");function fu(o,u,f,m,b){var x=(7+f-m)%7,T=oi(o,m,b),N=1+7*(u-1)+x+T,H,ne;return N<=0?(H=o-1,ne=wr(H)+N):N>wr(o)?(H=o+1,ne=N-wr(o)):(H=o,ne=N),{year:H,dayOfYear:ne}}i(fu,"dayOfYearFromWeeks");function xr(o,u,f){var m=oi(o.year(),u,f),b=Math.floor((o.dayOfYear()-m-1)/7)+1,x,T;return b<1?(T=o.year()-1,x=b+Ot(T,u,f)):b>Ot(o.year(),u,f)?(x=b-Ot(o.year(),u,f),T=o.year()+1):(T=o.year(),x=b),{week:x,year:T}}i(xr,"weekOfYear");function Ot(o,u,f){var m=oi(o,u,f),b=oi(o+1,u,f);return(wr(o)-m+b)/7}i(Ot,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),B("w",R,Pn),B("ww",R,Be),B("W",R,Pn),B("WW",R,Be),yr(["w","ww","W","WW"],function(o,u,f,m){u[m.substr(0,1)]=ee(o)});function ep(o){return xr(o,this._week.dow,this._week.doy).week}i(ep,"localeWeek");var tp={dow:0,doy:6};function np(){return this._week.dow}i(np,"localeFirstDayOfWeek");function rp(){return this._week.doy}i(rp,"localeFirstDayOfYear");function ip(o){var u=this.localeData().week(this);return o==null?u:this.add((o-u)*7,"d")}i(ip,"getSetWeek");function sp(o){var u=xr(this,1,4).week;return o==null?u:this.add((o-u)*7,"d")}i(sp,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),k("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),k("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),B("d",R),B("e",R),B("E",R),B("dd",function(o,u){return u.weekdaysMinRegex(o)}),B("ddd",function(o,u){return u.weekdaysShortRegex(o)}),B("dddd",function(o,u){return u.weekdaysRegex(o)}),yr(["dd","ddd","dddd"],function(o,u,f,m){var b=f._locale.weekdaysParse(o,m,f._strict);b!=null?u.d=b:C(f).invalidWeekday=o}),yr(["d","e","E"],function(o,u,f,m){u[m]=ee(o)});function op(o,u){return typeof o!="string"?o:isNaN(o)?(o=u.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}i(op,"parseWeekday");function ap(o,u){return typeof o=="string"?u.weekdaysParse(o)%7||7:isNaN(o)?null:o}i(ap,"parseIsoWeekday");function Wo(o,u){return o.slice(u,7).concat(o.slice(0,u))}i(Wo,"shiftWeekdays");var lp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),up="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cp=gr,dp=gr,fp=gr;function hp(o,u){var f=r(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return o===!0?Wo(f,this._week.dow):o?f[o.day()]:f}i(hp,"localeWeekdays");function pp(o){return o===!0?Wo(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}i(pp,"localeWeekdaysShort");function mp(o){return o===!0?Wo(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}i(mp,"localeWeekdaysMin");function gp(o,u,f){var m,b,x,T=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)x=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(x,"").toLocaleLowerCase();return f?u==="dddd"?(b=ye.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=ye.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=ye.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=ye.call(this._weekdaysParse,T),b!==-1||(b=ye.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=ye.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=ye.call(this._shortWeekdaysParse,T),b!==-1||(b=ye.call(this._weekdaysParse,T),b!==-1)?b:(b=ye.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=ye.call(this._minWeekdaysParse,T),b!==-1||(b=ye.call(this._weekdaysParse,T),b!==-1)?b:(b=ye.call(this._shortWeekdaysParse,T),b!==-1?b:null))}i(gp,"handleStrictParse$1");function yp(o,u,f){var m,b,x;if(this._weekdaysParseExact)return gp.call(this,o,u,f);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),f&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(x.replace(".",""),"i")),f&&u==="dddd"&&this._fullWeekdaysParse[m].test(o))return m;if(f&&u==="ddd"&&this._shortWeekdaysParse[m].test(o))return m;if(f&&u==="dd"&&this._minWeekdaysParse[m].test(o))return m;if(!f&&this._weekdaysParse[m].test(o))return m}}i(yp,"localeWeekdaysParse");function wp(o){if(!this.isValid())return o!=null?this:NaN;var u=br(this,"Day");return o!=null?(o=op(o,this.localeData()),this.add(o-u,"d")):u}i(wp,"getSetDayOfWeek");function bp(o){if(!this.isValid())return o!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return o==null?u:this.add(o-u,"d")}i(bp,"getSetLocaleDayOfWeek");function kp(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var u=ap(o,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}i(kp,"getSetISODayOfWeek");function xp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yo.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=cp),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}i(xp,"weekdaysRegex");function vp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yo.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=dp),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}i(vp,"weekdaysShortRegex");function Cp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yo.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fp),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}i(Cp,"weekdaysMinRegex");function Yo(){function o(We,Bt){return Bt.length-We.length}i(o,"cmpLenRev");var u=[],f=[],m=[],b=[],x,T,N,H,ne;for(x=0;x<7;x++)T=y([2e3,1]).day(x),N=_t(this.weekdaysMin(T,"")),H=_t(this.weekdaysShort(T,"")),ne=_t(this.weekdays(T,"")),u.push(N),f.push(H),m.push(ne),b.push(N),b.push(H),b.push(ne);u.sort(o),f.sort(o),m.sort(o),b.sort(o),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}i(Yo,"computeWeekdaysParse");function zo(){return this.hours()%12||12}i(zo,"hFormat");function Ap(){return this.hours()||24}i(Ap,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,zo),k("k",["kk",2],0,Ap),k("hmm",0,0,function(){return""+zo.apply(this)+ce(this.minutes(),2)}),k("hmmss",0,0,function(){return""+zo.apply(this)+ce(this.minutes(),2)+ce(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ce(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ce(this.minutes(),2)+ce(this.seconds(),2)});function pu(o,u){k(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}i(pu,"meridiem"),pu("a",!0),pu("A",!1);function mu(o,u){return u._meridiemParse}i(mu,"matchMeridiem"),B("a",mu),B("A",mu),B("H",R,No),B("h",R,Pn),B("k",R,Pn),B("HH",R,Be),B("hh",R,Be),B("kk",R,Be),B("hmm",X),B("hmmss",ae),B("Hmm",X),B("Hmmss",ae),de(["H","HH"],xe),de(["k","kk"],function(o,u,f){var m=ee(o);u[xe]=m===24?0:m}),de(["a","A"],function(o,u,f){f._isPm=f._locale.isPM(o),f._meridiem=o}),de(["h","hh"],function(o,u,f){u[xe]=ee(o),C(f).bigHour=!0}),de("hmm",function(o,u,f){var m=o.length-2;u[xe]=ee(o.substr(0,m)),u[ft]=ee(o.substr(m)),C(f).bigHour=!0}),de("hmmss",function(o,u,f){var m=o.length-4,b=o.length-2;u[xe]=ee(o.substr(0,m)),u[ft]=ee(o.substr(m,2)),u[Mt]=ee(o.substr(b)),C(f).bigHour=!0}),de("Hmm",function(o,u,f){var m=o.length-2;u[xe]=ee(o.substr(0,m)),u[ft]=ee(o.substr(m))}),de("Hmmss",function(o,u,f){var m=o.length-4,b=o.length-2;u[xe]=ee(o.substr(0,m)),u[ft]=ee(o.substr(m,2)),u[Mt]=ee(o.substr(b))});function Sp(o){return(o+"").toLowerCase().charAt(0)==="p"}i(Sp,"localeIsPM");var Ep=/[ap]\.?m?\.?/i,Tp=_n("Hours",!0);function Fp(o,u,f){return o>11?f?"pm":"PM":f?"am":"AM"}i(Fp,"localeMeridiem");var gu={calendar:Z,longDateFormat:ke,invalidDate:lt,ordinal:Gt,dayOfMonthOrdinalParse:mr,relativeTime:Qr,months:Uh,monthsShort:au,week:tp,weekdays:lp,weekdaysMin:up,weekdaysShort:hu,meridiemParse:Ep},me={},vr={},Cr;function Pp(o,u){var f,m=Math.min(o.length,u.length);for(f=0;f<m;f+=1)if(o[f]!==u[f])return f;return m}i(Pp,"commonPrefix");function yu(o){return o&&o.toLowerCase().replace("_","-")}i(yu,"normalizeLocale");function _p(o){for(var u=0,f,m,b,x;u<o.length;){for(x=yu(o[u]).split("-"),f=x.length,m=yu(o[u+1]),m=m?m.split("-"):null;f>0;){if(b=ai(x.slice(0,f).join("-")),b)return b;if(m&&m.length>=f&&Pp(x,m)>=f-1)break;f--}u++}return Cr}i(_p,"chooseLocale");function Ip(o){return!!(o&&o.match("^[^/\\\\]*$"))}i(Ip,"isLocaleNameSane");function ai(o){var u=null,f;if(me[o]===void 0&&typeof Hn<"u"&&Hn&&Hn.exports&&Ip(o))try{u=Cr._abbr,f=require,f("./locale/"+o),qt(u)}catch{me[o]=null}return me[o]}i(ai,"loadLocale");function qt(o,u){var f;return o&&(c(u)?f=Dt(o):f=Uo(o,u),f?Cr=f:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Cr._abbr}i(qt,"getSetGlobalLocale");function Uo(o,u){if(u!==null){var f,m=gu;if(u.abbr=o,me[o]!=null)Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=me[o]._config;else if(u.parentLocale!=null)if(me[u.parentLocale]!=null)m=me[u.parentLocale]._config;else if(f=ai(u.parentLocale),f!=null)m=f._config;else return vr[u.parentLocale]||(vr[u.parentLocale]=[]),vr[u.parentLocale].push({name:o,config:u}),null;return me[o]=new z(L(m,u)),vr[o]&&vr[o].forEach(function(b){Uo(b.name,b.config)}),qt(o),me[o]}else return delete me[o],null}i(Uo,"defineLocale");function Mp(o,u){if(u!=null){var f,m,b=gu;me[o]!=null&&me[o].parentLocale!=null?me[o].set(L(me[o]._config,u)):(m=ai(o),m!=null&&(b=m._config),u=L(b,u),m==null&&(u.abbr=o),f=new z(u),f.parentLocale=me[o],me[o]=f),qt(o)}else me[o]!=null&&(me[o].parentLocale!=null?(me[o]=me[o].parentLocale,o===qt()&&qt(o)):me[o]!=null&&delete me[o]);return me[o]}i(Mp,"updateLocale");function Dt(o){var u;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Cr;if(!r(o)){if(u=ai(o),u)return u;o=[o]}return _p(o)}i(Dt,"getLocale");function Op(){return U(me)}i(Op,"listLocales");function $o(o){var u,f=o._a;return f&&C(o).overflow===-2&&(u=f[It]<0||f[It]>11?It:f[bt]<1||f[bt]>Vo(f[Me],f[It])?bt:f[xe]<0||f[xe]>24||f[xe]===24&&(f[ft]!==0||f[Mt]!==0||f[fn]!==0)?xe:f[ft]<0||f[ft]>59?ft:f[Mt]<0||f[Mt]>59?Mt:f[fn]<0||f[fn]>999?fn:-1,C(o)._overflowDayOfYear&&(u<Me||u>bt)&&(u=bt),C(o)._overflowWeeks&&u===-1&&(u=Nh),C(o)._overflowWeekday&&u===-1&&(u=Bh),C(o).overflow=u),o}i($o,"checkOverflow");var Dp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lp=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rp=/Z|[+-]\d\d(?::?\d\d)?/,li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ho=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Np=/^\/?Date\((-?\d+)/i,Bp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vp={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wu(o){var u,f,m=o._i,b=Dp.exec(m)||Lp.exec(m),x,T,N,H,ne=li.length,We=Ho.length;if(b){for(C(o).iso=!0,u=0,f=ne;u<f;u++)if(li[u][1].exec(b[1])){T=li[u][0],x=li[u][2]!==!1;break}if(T==null){o._isValid=!1;return}if(b[3]){for(u=0,f=We;u<f;u++)if(Ho[u][1].exec(b[3])){N=(b[2]||" ")+Ho[u][0];break}if(N==null){o._isValid=!1;return}}if(!x&&N!=null){o._isValid=!1;return}if(b[4])if(Rp.exec(b[4]))H="Z";else{o._isValid=!1;return}o._f=T+(N||"")+(H||""),Ko(o)}else o._isValid=!1}i(wu,"configFromISO");function Wp(o,u,f,m,b,x){var T=[Yp(o),au.indexOf(u),parseInt(f,10),parseInt(m,10),parseInt(b,10)];return x&&T.push(parseInt(x,10)),T}i(Wp,"extractFromRFC2822Strings");function Yp(o){var u=parseInt(o,10);return u<=49?2e3+u:u<=999?1900+u:u}i(Yp,"untruncateYear");function zp(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}i(zp,"preprocessRFC2822");function Up(o,u,f){if(o){var m=hu.indexOf(o),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return C(f).weekdayMismatch=!0,f._isValid=!1,!1}return!0}i(Up,"checkWeekday");function $p(o,u,f){if(o)return Vp[o];if(u)return 0;var m=parseInt(f,10),b=m%100,x=(m-b)/100;return x*60+b}i($p,"calculateOffset");function bu(o){var u=Bp.exec(zp(o._i)),f;if(u){if(f=Wp(u[4],u[3],u[2],u[5],u[6],u[7]),!Up(u[1],f,o))return;o._a=f,o._tzm=$p(u[8],u[9],u[10]),o._d=kr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),C(o).rfc2822=!0}else o._isValid=!1}i(bu,"configFromRFC2822");function Hp(o){var u=Np.exec(o._i);if(u!==null){o._d=new Date(+u[1]);return}if(wu(o),o._isValid===!1)delete o._isValid;else return;if(bu(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}i(Hp,"configFromString"),e.createFromInputFallback=G("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function In(o,u,f){return o??u??f}i(In,"defaults");function jp(o){var u=new Date(e.now());return o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}i(jp,"currentDateArray");function jo(o){var u,f,m=[],b,x,T;if(!o._d){for(b=jp(o),o._w&&o._a[bt]==null&&o._a[It]==null&&Kp(o),o._dayOfYear!=null&&(T=In(o._a[Me],b[Me]),(o._dayOfYear>wr(T)||o._dayOfYear===0)&&(C(o)._overflowDayOfYear=!0),f=kr(T,0,o._dayOfYear),o._a[It]=f.getUTCMonth(),o._a[bt]=f.getUTCDate()),u=0;u<3&&o._a[u]==null;++u)o._a[u]=m[u]=b[u];for(;u<7;u++)o._a[u]=m[u]=o._a[u]==null?u===2?1:0:o._a[u];o._a[xe]===24&&o._a[ft]===0&&o._a[Mt]===0&&o._a[fn]===0&&(o._nextDay=!0,o._a[xe]=0),o._d=(o._useUTC?kr:Xh).apply(null,m),x=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[xe]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==x&&(C(o).weekdayMismatch=!0)}}i(jo,"configFromArray");function Kp(o){var u,f,m,b,x,T,N,H,ne;u=o._w,u.GG!=null||u.W!=null||u.E!=null?(x=1,T=4,f=In(u.GG,o._a[Me],xr(he(),1,4).year),m=In(u.W,1),b=In(u.E,1),(b<1||b>7)&&(H=!0)):(x=o._locale._week.dow,T=o._locale._week.doy,ne=xr(he(),x,T),f=In(u.gg,o._a[Me],ne.year),m=In(u.w,ne.week),u.d!=null?(b=u.d,(b<0||b>6)&&(H=!0)):u.e!=null?(b=u.e+x,(u.e<0||u.e>6)&&(H=!0)):b=x),m<1||m>Ot(f,x,T)?C(o)._overflowWeeks=!0:H!=null?C(o)._overflowWeekday=!0:(N=fu(f,m,b,x,T),o._a[Me]=N.year,o._dayOfYear=N.dayOfYear)}i(Kp,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Ko(o){if(o._f===e.ISO_8601){wu(o);return}if(o._f===e.RFC_2822){bu(o);return}o._a=[],C(o).empty=!0;var u=""+o._i,f,m,b,x,T,N=u.length,H=0,ne,We;for(b=cn(o._f,o._locale).match(be)||[],We=b.length,f=0;f<We;f++)x=b[f],m=(u.match(Dh(x,o))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&C(o).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),H+=m.length),pe[x]?(m?C(o).empty=!1:C(o).unusedTokens.push(x),Rh(x,m,o)):o._strict&&!m&&C(o).unusedTokens.push(x);C(o).charsLeftOver=N-H,u.length>0&&C(o).unusedInput.push(u),o._a[xe]<=12&&C(o).bigHour===!0&&o._a[xe]>0&&(C(o).bigHour=void 0),C(o).parsedDateParts=o._a.slice(0),C(o).meridiem=o._meridiem,o._a[xe]=Gp(o._locale,o._a[xe],o._meridiem),ne=C(o).era,ne!==null&&(o._a[Me]=o._locale.erasConvertYear(ne,o._a[Me])),jo(o),$o(o)}i(Ko,"configFromStringAndFormat");function Gp(o,u,f){var m;return f==null?u:o.meridiemHour!=null?o.meridiemHour(u,f):(o.isPM!=null&&(m=o.isPM(f),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}i(Gp,"meridiemFixWrap");function qp(o){var u,f,m,b,x,T,N=!1,H=o._f.length;if(H===0){C(o).invalidFormat=!0,o._d=new Date(NaN);return}for(b=0;b<H;b++)x=0,T=!1,u=D({},o),o._useUTC!=null&&(u._useUTC=o._useUTC),u._f=o._f[b],Ko(u),S(u)&&(T=!0),x+=C(u).charsLeftOver,x+=C(u).unusedTokens.length*10,C(u).score=x,N?x<m&&(m=x,f=u):(m==null||x<m||T)&&(m=x,f=u,T&&(N=!0));g(o,f||u)}i(qp,"configFromStringAndArray");function Zp(o){if(!o._d){var u=Fn(o._i),f=u.day===void 0?u.date:u.day;o._a=p([u.year,u.month,f,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),jo(o)}}i(Zp,"configFromObject");function Jp(o){var u=new W($o(ku(o)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}i(Jp,"createFromConfig");function ku(o){var u=o._i,f=o._f;return o._locale=o._locale||Dt(o._l),u===null||f===void 0&&u===""?A({nullInput:!0}):(typeof u=="string"&&(o._i=u=o._locale.preparse(u)),E(u)?new W($o(u)):(h(u)?o._d=u:r(f)?qp(o):f?Ko(o):Qp(o),S(o)||(o._d=null),o))}i(ku,"prepareConfig");function Qp(o){var u=o._i;c(u)?o._d=new Date(e.now()):h(u)?o._d=new Date(u.valueOf()):typeof u=="string"?Hp(o):r(u)?(o._a=p(u.slice(0),function(f){return parseInt(f,10)}),jo(o)):s(u)?Zp(o):d(u)?o._d=new Date(u):e.createFromInputFallback(o)}i(Qp,"configFromInput");function xu(o,u,f,m,b){var x={};return(u===!0||u===!1)&&(m=u,u=void 0),(f===!0||f===!1)&&(m=f,f=void 0),(s(o)&&l(o)||r(o)&&o.length===0)&&(o=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=f,x._i=o,x._f=u,x._strict=m,Jp(x)}i(xu,"createLocalOrUTC");function he(o,u,f,m){return xu(o,u,f,m,!1)}i(he,"createLocal");var Xp=G("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=he.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:A()}),em=G("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=he.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:A()});function vu(o,u){var f,m;if(u.length===1&&r(u[0])&&(u=u[0]),!u.length)return he();for(f=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][o](f))&&(f=u[m]);return f}i(vu,"pickBy");function tm(){var o=[].slice.call(arguments,0);return vu("isBefore",o)}i(tm,"min");function nm(){var o=[].slice.call(arguments,0);return vu("isAfter",o)}i(nm,"max");var rm=i(function(){return Date.now?Date.now():+new Date},"now"),Ar=["year","quarter","month","week","day","hour","minute","second","millisecond"];function im(o){var u,f=!1,m,b=Ar.length;for(u in o)if(a(o,u)&&!(ye.call(Ar,u)!==-1&&(o[u]==null||!isNaN(o[u]))))return!1;for(m=0;m<b;++m)if(o[Ar[m]]){if(f)return!1;parseFloat(o[Ar[m]])!==ee(o[Ar[m]])&&(f=!0)}return!0}i(im,"isDurationValid");function sm(){return this._isValid}i(sm,"isValid$1");function om(){return ht(NaN)}i(om,"createInvalid$1");function ui(o){var u=Fn(o),f=u.year||0,m=u.quarter||0,b=u.month||0,x=u.week||u.isoWeek||0,T=u.day||0,N=u.hour||0,H=u.minute||0,ne=u.second||0,We=u.millisecond||0;this._isValid=im(u),this._milliseconds=+We+ne*1e3+H*6e4+N*1e3*60*60,this._days=+T+x*7,this._months=+b+m*3+f*12,this._data={},this._locale=Dt(),this._bubble()}i(ui,"Duration");function ci(o){return o instanceof ui}i(ci,"isDuration");function Go(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}i(Go,"absRound");function am(o,u,f){var m=Math.min(o.length,u.length),b=Math.abs(o.length-u.length),x=0,T;for(T=0;T<m;T++)(f&&o[T]!==u[T]||!f&&ee(o[T])!==ee(u[T]))&&x++;return x+b}i(am,"compareArrays");function Cu(o,u){k(o,0,0,function(){var f=this.utcOffset(),m="+";return f<0&&(f=-f,m="-"),m+ce(~~(f/60),2)+u+ce(~~f%60,2)})}i(Cu,"offset"),Cu("Z",":"),Cu("ZZ",""),B("Z",ct),B("ZZ",ct),de(["Z","ZZ"],function(o,u,f){f._useUTC=!0,f._tzm=qo(ct,o)});var lm=/([\+\-]|\d\d)/gi;function qo(o,u){var f=(u||"").match(o),m,b,x;return f===null?null:(m=f[f.length-1]||[],b=(m+"").match(lm)||["-",0,0],x=+(b[1]*60)+ee(b[2]),x===0?0:b[0]==="+"?x:-x)}i(qo,"offsetFromString");function Zo(o,u){var f,m;return u._isUTC?(f=u.clone(),m=(E(o)||h(o)?o.valueOf():he(o).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+m),e.updateOffset(f,!1),f):he(o).local()}i(Zo,"cloneWithOffset");function Jo(o){return-Math.round(o._d.getTimezoneOffset())}i(Jo,"getDateOffset"),e.updateOffset=function(){};function um(o,u,f){var m=this._offset||0,b;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=qo(ct,o),o===null)return this}else Math.abs(o)<16&&!f&&(o=o*60);return!this._isUTC&&u&&(b=Jo(this)),this._offset=o,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==o&&(!u||this._changeInProgress?Tu(this,ht(o-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:Jo(this)}i(um,"getSetOffset");function cm(o,u){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,u),this):-this.utcOffset()}i(cm,"getSetZone");function dm(o){return this.utcOffset(0,o)}i(dm,"setOffsetToUTC");function fm(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(Jo(this),"m")),this}i(fm,"setOffsetToLocal");function hm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=qo(Ve,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}i(hm,"setOffsetToParsedOffset");function pm(o){return this.isValid()?(o=o?he(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}i(pm,"hasAlignedHourOffset");function mm(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}i(mm,"isDaylightSavingTime");function gm(){if(!c(this._isDSTShifted))return this._isDSTShifted;var o={},u;return D(o,this),o=ku(o),o._a?(u=o._isUTC?y(o._a):he(o._a),this._isDSTShifted=this.isValid()&&am(o._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}i(gm,"isDaylightSavingTimeShifted");function ym(){return this.isValid()?!this._isUTC:!1}i(ym,"isLocal");function wm(){return this.isValid()?this._isUTC:!1}i(wm,"isUtcOffset");function Au(){return this.isValid()?this._isUTC&&this._offset===0:!1}i(Au,"isUtc");var bm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,km=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ht(o,u){var f=o,m=null,b,x,T;return ci(o)?f={ms:o._milliseconds,d:o._days,M:o._months}:d(o)||!isNaN(+o)?(f={},u?f[u]=+o:f.milliseconds=+o):(m=bm.exec(o))?(b=m[1]==="-"?-1:1,f={y:0,d:ee(m[bt])*b,h:ee(m[xe])*b,m:ee(m[ft])*b,s:ee(m[Mt])*b,ms:ee(Go(m[fn]*1e3))*b}):(m=km.exec(o))?(b=m[1]==="-"?-1:1,f={y:hn(m[2],b),M:hn(m[3],b),w:hn(m[4],b),d:hn(m[5],b),h:hn(m[6],b),m:hn(m[7],b),s:hn(m[8],b)}):f==null?f={}:typeof f=="object"&&("from"in f||"to"in f)&&(T=xm(he(f.from),he(f.to)),f={},f.ms=T.milliseconds,f.M=T.months),x=new ui(f),ci(o)&&a(o,"_locale")&&(x._locale=o._locale),ci(o)&&a(o,"_isValid")&&(x._isValid=o._isValid),x}i(ht,"createDuration"),ht.fn=ui.prototype,ht.invalid=om;function hn(o,u){var f=o&&parseFloat(o.replace(",","."));return(isNaN(f)?0:f)*u}i(hn,"parseIso");function Su(o,u){var f={};return f.months=u.month()-o.month()+(u.year()-o.year())*12,o.clone().add(f.months,"M").isAfter(u)&&--f.months,f.milliseconds=+u-+o.clone().add(f.months,"M"),f}i(Su,"positiveMomentsDifference");function xm(o,u){var f;return o.isValid()&&u.isValid()?(u=Zo(u,o),o.isBefore(u)?f=Su(o,u):(f=Su(u,o),f.milliseconds=-f.milliseconds,f.months=-f.months),f):{milliseconds:0,months:0}}i(xm,"momentsDifference");function Eu(o,u){return function(f,m){var b,x;return m!==null&&!isNaN(+m)&&(Q(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=f,f=m,m=x),b=ht(f,m),Tu(this,b,o),this}}i(Eu,"createAdder");function Tu(o,u,f,m){var b=u._milliseconds,x=Go(u._days),T=Go(u._months);o.isValid()&&(m=m??!0,T&&uu(o,br(o,"Month")+T*f),x&&ou(o,"Date",br(o,"Date")+x*f),b&&o._d.setTime(o._d.valueOf()+b*f),m&&e.updateOffset(o,x||T))}i(Tu,"addSubtract");var vm=Eu(1,"add"),Cm=Eu(-1,"subtract");function Fu(o){return typeof o=="string"||o instanceof String}i(Fu,"isString");function Am(o){return E(o)||h(o)||Fu(o)||d(o)||Em(o)||Sm(o)||o===null||o===void 0}i(Am,"isMomentInput");function Sm(o){var u=s(o)&&!l(o),f=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,T=m.length;for(b=0;b<T;b+=1)x=m[b],f=f||a(o,x);return u&&f}i(Sm,"isMomentInputObject");function Em(o){var u=r(o),f=!1;return u&&(f=o.filter(function(m){return!d(m)&&Fu(o)}).length===0),u&&f}i(Em,"isNumberOrStringArray");function Tm(o){var u=s(o)&&!l(o),f=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<m.length;b+=1)x=m[b],f=f||a(o,x);return u&&f}i(Tm,"isCalendarSpec");function Fm(o,u){var f=o.diff(u,"days",!0);return f<-6?"sameElse":f<-1?"lastWeek":f<0?"lastDay":f<1?"sameDay":f<2?"nextDay":f<7?"nextWeek":"sameElse"}i(Fm,"getCalendarFormat");function Pm(o,u){arguments.length===1&&(arguments[0]?Am(arguments[0])?(o=arguments[0],u=void 0):Tm(arguments[0])&&(u=arguments[0],o=void 0):(o=void 0,u=void 0));var f=o||he(),m=Zo(f,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",x=u&&(ue(u[b])?u[b].call(this,f):u[b]);return this.format(x||this.localeData().calendar(b,this,he(f)))}i(Pm,"calendar$1");function _m(){return new W(this)}i(_m,"clone");function Im(o,u){var f=E(o)?o:he(o);return this.isValid()&&f.isValid()?(u=Ne(u)||"millisecond",u==="millisecond"?this.valueOf()>f.valueOf():f.valueOf()<this.clone().startOf(u).valueOf()):!1}i(Im,"isAfter");function Mm(o,u){var f=E(o)?o:he(o);return this.isValid()&&f.isValid()?(u=Ne(u)||"millisecond",u==="millisecond"?this.valueOf()<f.valueOf():this.clone().endOf(u).valueOf()<f.valueOf()):!1}i(Mm,"isBefore");function Om(o,u,f,m){var b=E(o)?o:he(o),x=E(u)?u:he(u);return this.isValid()&&b.isValid()&&x.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,f):!this.isBefore(b,f))&&(m[1]===")"?this.isBefore(x,f):!this.isAfter(x,f))):!1}i(Om,"isBetween");function Dm(o,u){var f=E(o)?o:he(o),m;return this.isValid()&&f.isValid()?(u=Ne(u)||"millisecond",u==="millisecond"?this.valueOf()===f.valueOf():(m=f.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}i(Dm,"isSame");function Lm(o,u){return this.isSame(o,u)||this.isAfter(o,u)}i(Lm,"isSameOrAfter");function Rm(o,u){return this.isSame(o,u)||this.isBefore(o,u)}i(Rm,"isSameOrBefore");function Nm(o,u,f){var m,b,x;if(!this.isValid())return NaN;if(m=Zo(o,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=Ne(u),u){case"year":x=di(this,m)/12;break;case"month":x=di(this,m);break;case"quarter":x=di(this,m)/3;break;case"second":x=(this-m)/1e3;break;case"minute":x=(this-m)/6e4;break;case"hour":x=(this-m)/36e5;break;case"day":x=(this-m-b)/864e5;break;case"week":x=(this-m-b)/6048e5;break;default:x=this-m}return f?x:it(x)}i(Nm,"diff");function di(o,u){if(o.date()<u.date())return-di(u,o);var f=(u.year()-o.year())*12+(u.month()-o.month()),m=o.clone().add(f,"months"),b,x;return u-m<0?(b=o.clone().add(f-1,"months"),x=(u-m)/(m-b)):(b=o.clone().add(f+1,"months"),x=(u-m)/(b-m)),-(f+x)||0}i(di,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Bm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}i(Bm,"toString");function Vm(o){if(!this.isValid())return null;var u=o!==!0,f=u?this.clone().utc():this;return f.year()<0||f.year()>9999?Kt(f,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ue(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Kt(f,"Z")):Kt(f,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}i(Vm,"toISOString");function Wm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",u="",f,m,b,x;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),f="["+o+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=u+'[")]',this.format(f+m+b+x)}i(Wm,"inspect");function Ym(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=Kt(this,o);return this.localeData().postformat(u)}i(Ym,"format");function zm(o,u){return this.isValid()&&(E(o)&&o.isValid()||he(o).isValid())?ht({to:this,from:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}i(zm,"from");function Um(o){return this.from(he(),o)}i(Um,"fromNow");function $m(o,u){return this.isValid()&&(E(o)&&o.isValid()||he(o).isValid())?ht({from:this,to:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}i($m,"to");function Hm(o){return this.to(he(),o)}i(Hm,"toNow");function Pu(o){var u;return o===void 0?this._locale._abbr:(u=Dt(o),u!=null&&(this._locale=u),this)}i(Pu,"locale");var _u=G("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function Iu(){return this._locale}i(Iu,"localeData");var fi=1e3,Mn=60*fi,hi=60*Mn,Mu=(365*400+97)*24*hi;function On(o,u){return(o%u+u)%u}i(On,"mod$1");function Ou(o,u,f){return o<100&&o>=0?new Date(o+400,u,f)-Mu:new Date(o,u,f).valueOf()}i(Ou,"localStartOfDate");function Du(o,u,f){return o<100&&o>=0?Date.UTC(o+400,u,f)-Mu:Date.UTC(o,u,f)}i(Du,"utcStartOfDate");function jm(o){var u,f;if(o=Ne(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?Du:Ou,o){case"year":u=f(this.year(),0,1);break;case"quarter":u=f(this.year(),this.month()-this.month()%3,1);break;case"month":u=f(this.year(),this.month(),1);break;case"week":u=f(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=f(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=On(u+(this._isUTC?0:this.utcOffset()*Mn),hi);break;case"minute":u=this._d.valueOf(),u-=On(u,Mn);break;case"second":u=this._d.valueOf(),u-=On(u,fi);break}return this._d.setTime(u),e.updateOffset(this,!0),this}i(jm,"startOf");function Km(o){var u,f;if(o=Ne(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?Du:Ou,o){case"year":u=f(this.year()+1,0,1)-1;break;case"quarter":u=f(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=f(this.year(),this.month()+1,1)-1;break;case"week":u=f(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=f(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=hi-On(u+(this._isUTC?0:this.utcOffset()*Mn),hi)-1;break;case"minute":u=this._d.valueOf(),u+=Mn-On(u,Mn)-1;break;case"second":u=this._d.valueOf(),u+=fi-On(u,fi)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}i(Km,"endOf");function Gm(){return this._d.valueOf()-(this._offset||0)*6e4}i(Gm,"valueOf");function qm(){return Math.floor(this.valueOf()/1e3)}i(qm,"unix");function Zm(){return new Date(this.valueOf())}i(Zm,"toDate");function Jm(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}i(Jm,"toArray");function Qm(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}i(Qm,"toObject");function Xm(){return this.isValid()?this.toISOString():null}i(Xm,"toJSON");function eg(){return S(this)}i(eg,"isValid$2");function tg(){return g({},C(this))}i(tg,"parsingFlags");function ng(){return C(this).overflow}i(ng,"invalidAt");function rg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}i(rg,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),B("N",Qo),B("NN",Qo),B("NNN",Qo),B("NNNN",pg),B("NNNNN",mg),de(["N","NN","NNN","NNNN","NNNNN"],function(o,u,f,m){var b=f._locale.erasParse(o,m,f._strict);b?C(f).era=b:C(f).invalidEra=o}),B("y",rt),B("yy",rt),B("yyy",rt),B("yyyy",rt),B("yo",gg),de(["y","yy","yyy","yyyy"],Me),de(["yo"],function(o,u,f,m){var b;f._locale._eraYearOrdinalRegex&&(b=o.match(f._locale._eraYearOrdinalRegex)),f._locale.eraYearOrdinalParse?u[Me]=f._locale.eraYearOrdinalParse(o,b):u[Me]=parseInt(o,10)});function ig(o,u){var f,m,b,x=this._eras||Dt("en")._eras;for(f=0,m=x.length;f<m;++f){switch(typeof x[f].since){case"string":b=e(x[f].since).startOf("day"),x[f].since=b.valueOf();break}switch(typeof x[f].until){case"undefined":x[f].until=1/0;break;case"string":b=e(x[f].until).startOf("day").valueOf(),x[f].until=b.valueOf();break}}return x}i(ig,"localeEras");function sg(o,u,f){var m,b,x=this.eras(),T,N,H;for(o=o.toUpperCase(),m=0,b=x.length;m<b;++m)if(T=x[m].name.toUpperCase(),N=x[m].abbr.toUpperCase(),H=x[m].narrow.toUpperCase(),f)switch(u){case"N":case"NN":case"NNN":if(N===o)return x[m];break;case"NNNN":if(T===o)return x[m];break;case"NNNNN":if(H===o)return x[m];break}else if([T,N,H].indexOf(o)>=0)return x[m]}i(sg,"localeErasParse");function og(o,u){var f=o.since<=o.until?1:-1;return u===void 0?e(o.since).year():e(o.since).year()+(u-o.offset)*f}i(og,"localeErasConvertYear");function ag(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].name;return""}i(ag,"getEraName");function lg(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].narrow;return""}i(lg,"getEraNarrow");function ug(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].abbr;return""}i(ug,"getEraAbbr");function cg(){var o,u,f,m,b=this.localeData().eras();for(o=0,u=b.length;o<u;++o)if(f=b[o].since<=b[o].until?1:-1,m=this.clone().startOf("day").valueOf(),b[o].since<=m&&m<=b[o].until||b[o].until<=m&&m<=b[o].since)return(this.year()-e(b[o].since).year())*f+b[o].offset;return this.year()}i(cg,"getEraYear");function dg(o){return a(this,"_erasNameRegex")||Xo.call(this),o?this._erasNameRegex:this._erasRegex}i(dg,"erasNameRegex");function fg(o){return a(this,"_erasAbbrRegex")||Xo.call(this),o?this._erasAbbrRegex:this._erasRegex}i(fg,"erasAbbrRegex");function hg(o){return a(this,"_erasNarrowRegex")||Xo.call(this),o?this._erasNarrowRegex:this._erasRegex}i(hg,"erasNarrowRegex");function Qo(o,u){return u.erasAbbrRegex(o)}i(Qo,"matchEraAbbr");function pg(o,u){return u.erasNameRegex(o)}i(pg,"matchEraName");function mg(o,u){return u.erasNarrowRegex(o)}i(mg,"matchEraNarrow");function gg(o,u){return u._eraYearOrdinalRegex||rt}i(gg,"matchEraYearOrdinal");function Xo(){var o=[],u=[],f=[],m=[],b,x,T,N,H,ne=this.eras();for(b=0,x=ne.length;b<x;++b)T=_t(ne[b].name),N=_t(ne[b].abbr),H=_t(ne[b].narrow),u.push(T),o.push(N),f.push(H),m.push(T),m.push(N),m.push(H);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+f.join("|")+")","i")}i(Xo,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pi(o,u){k(0,[o,o.length],0,u)}i(pi,"addWeekYearFormatToken"),pi("gggg","weekYear"),pi("ggggg","weekYear"),pi("GGGG","isoWeekYear"),pi("GGGGG","isoWeekYear"),B("G",wt),B("g",wt),B("GG",R,Be),B("gg",R,Be),B("GGGG",ut,_),B("gggg",ut,_),B("GGGGG",Ue,O),B("ggggg",Ue,O),yr(["gggg","ggggg","GGGG","GGGGG"],function(o,u,f,m){u[m.substr(0,2)]=ee(o)}),yr(["gg","GG"],function(o,u,f,m){u[m]=e.parseTwoDigitYear(o)});function yg(o){return Lu.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}i(yg,"getSetWeekYear");function wg(o){return Lu.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}i(wg,"getSetISOWeekYear");function bg(){return Ot(this.year(),1,4)}i(bg,"getISOWeeksInYear");function kg(){return Ot(this.isoWeekYear(),1,4)}i(kg,"getISOWeeksInISOWeekYear");function xg(){var o=this.localeData()._week;return Ot(this.year(),o.dow,o.doy)}i(xg,"getWeeksInYear");function vg(){var o=this.localeData()._week;return Ot(this.weekYear(),o.dow,o.doy)}i(vg,"getWeeksInWeekYear");function Lu(o,u,f,m,b){var x;return o==null?xr(this,m,b).year:(x=Ot(o,m,b),u>x&&(u=x),Cg.call(this,o,u,f,m,b))}i(Lu,"getSetWeekYearHelper");function Cg(o,u,f,m,b){var x=fu(o,u,f,m,b),T=kr(x.year,0,x.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}i(Cg,"setWeekAll"),k("Q",0,"Qo","quarter"),B("Q",ni),de("Q",function(o,u){u[It]=(ee(o)-1)*3});function Ag(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}i(Ag,"getSetQuarter"),k("D",["DD",2],"Do","date"),B("D",R,Pn),B("DD",R,Be),B("Do",function(o,u){return o?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),de(["D","DD"],bt),de("Do",function(o,u){u[bt]=ee(o.match(R)[0])});var Ru=_n("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),B("DDD",Ie),B("DDDD",ri),de(["DDD","DDDD"],function(o,u,f){f._dayOfYear=ee(o)});function Sg(o){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?u:this.add(o-u,"d")}i(Sg,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),B("m",R,No),B("mm",R,Be),de(["m","mm"],ft);var Eg=_n("Minutes",!1);k("s",["ss",2],0,"second"),B("s",R,No),B("ss",R,Be),de(["s","ss"],Mt);var Tg=_n("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("S",Ie,ni),B("SS",Ie,Be),B("SSS",Ie,ri);var Zt,Nu;for(Zt="SSSS";Zt.length<=9;Zt+="S")B(Zt,rt);function Fg(o,u){u[fn]=ee(("0."+o)*1e3)}for(i(Fg,"parseMs"),Zt="S";Zt.length<=9;Zt+="S")de(Zt,Fg);Nu=_n("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Pg(){return this._isUTC?"UTC":""}i(Pg,"getZoneAbbr");function _g(){return this._isUTC?"Coordinated Universal Time":""}i(_g,"getZoneName");var M=W.prototype;M.add=vm,M.calendar=Pm,M.clone=_m,M.diff=Nm,M.endOf=Km,M.format=Ym,M.from=zm,M.fromNow=Um,M.to=$m,M.toNow=Hm,M.get=Wh,M.invalidAt=ng,M.isAfter=Im,M.isBefore=Mm,M.isBetween=Om,M.isSame=Dm,M.isSameOrAfter=Lm,M.isSameOrBefore=Rm,M.isValid=eg,M.lang=_u,M.locale=Pu,M.localeData=Iu,M.max=em,M.min=Xp,M.parsingFlags=tg,M.set=Yh,M.startOf=jm,M.subtract=Cm,M.toArray=Jm,M.toObject=Qm,M.toDate=Zm,M.toISOString=Vm,M.inspect=Wm,typeof Symbol<"u"&&Symbol.for!=null&&(M[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),M.toJSON=Xm,M.toString=Bm,M.unix=qm,M.valueOf=Gm,M.creationData=rg,M.eraName=ag,M.eraNarrow=lg,M.eraAbbr=ug,M.eraYear=cg,M.year=su,M.isLeapYear=Vh,M.weekYear=yg,M.isoWeekYear=wg,M.quarter=M.quarters=Ag,M.month=cu,M.daysInMonth=Zh,M.week=M.weeks=ip,M.isoWeek=M.isoWeeks=sp,M.weeksInYear=xg,M.weeksInWeekYear=vg,M.isoWeeksInYear=bg,M.isoWeeksInISOWeekYear=kg,M.date=Ru,M.day=M.days=wp,M.weekday=bp,M.isoWeekday=kp,M.dayOfYear=Sg,M.hour=M.hours=Tp,M.minute=M.minutes=Eg,M.second=M.seconds=Tg,M.millisecond=M.milliseconds=Nu,M.utcOffset=um,M.utc=dm,M.local=fm,M.parseZone=hm,M.hasAlignedHourOffset=pm,M.isDST=mm,M.isLocal=ym,M.isUtcOffset=wm,M.isUtc=Au,M.isUTC=Au,M.zoneAbbr=Pg,M.zoneName=_g,M.dates=G("dates accessor is deprecated. Use date instead.",Ru),M.months=G("months accessor is deprecated. Use month instead",cu),M.years=G("years accessor is deprecated. Use year instead",su),M.zone=G("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cm),M.isDSTShifted=G("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gm);function Ig(o){return he(o*1e3)}i(Ig,"createUnix");function Mg(){return he.apply(null,arguments).parseZone()}i(Mg,"createInZone");function Bu(o){return o}i(Bu,"preParsePostFormat");var se=z.prototype;se.calendar=ie,se.longDateFormat=dn,se.invalidDate=Pt,se.ordinal=Do,se.preparse=Bu,se.postformat=Bu,se.relativeTime=Xr,se.pastFuture=ei,se.set=te,se.eras=ig,se.erasParse=sg,se.erasConvertYear=og,se.erasAbbrRegex=fg,se.erasNameRegex=dg,se.erasNarrowRegex=hg,se.months=jh,se.monthsShort=Kh,se.monthsParse=qh,se.monthsRegex=Qh,se.monthsShortRegex=Jh,se.week=ep,se.firstDayOfYear=rp,se.firstDayOfWeek=np,se.weekdays=hp,se.weekdaysMin=mp,se.weekdaysShort=pp,se.weekdaysParse=yp,se.weekdaysRegex=xp,se.weekdaysShortRegex=vp,se.weekdaysMinRegex=Cp,se.isPM=Sp,se.meridiem=Fp;function mi(o,u,f,m){var b=Dt(),x=y().set(m,u);return b[f](x,o)}i(mi,"get$1");function Vu(o,u,f){if(d(o)&&(u=o,o=void 0),o=o||"",u!=null)return mi(o,u,f,"month");var m,b=[];for(m=0;m<12;m++)b[m]=mi(o,m,f,"month");return b}i(Vu,"listMonthsImpl");function ea(o,u,f,m){typeof o=="boolean"?(d(u)&&(f=u,u=void 0),u=u||""):(u=o,f=u,o=!1,d(u)&&(f=u,u=void 0),u=u||"");var b=Dt(),x=o?b._week.dow:0,T,N=[];if(f!=null)return mi(u,(f+x)%7,m,"day");for(T=0;T<7;T++)N[T]=mi(u,(T+x)%7,m,"day");return N}i(ea,"listWeekdaysImpl");function Og(o,u){return Vu(o,u,"months")}i(Og,"listMonths");function Dg(o,u){return Vu(o,u,"monthsShort")}i(Dg,"listMonthsShort");function Lg(o,u,f){return ea(o,u,f,"weekdays")}i(Lg,"listWeekdays");function Rg(o,u,f){return ea(o,u,f,"weekdaysShort")}i(Rg,"listWeekdaysShort");function Ng(o,u,f){return ea(o,u,f,"weekdaysMin")}i(Ng,"listWeekdaysMin"),qt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:i(function(o){var u=o%10,f=ee(o%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return o+f},"ordinal")}),e.lang=G("moment.lang is deprecated. Use moment.locale instead.",qt),e.langData=G("moment.langData is deprecated. Use moment.localeData instead.",Dt);var Lt=Math.abs;function Bg(){var o=this._data;return this._milliseconds=Lt(this._milliseconds),this._days=Lt(this._days),this._months=Lt(this._months),o.milliseconds=Lt(o.milliseconds),o.seconds=Lt(o.seconds),o.minutes=Lt(o.minutes),o.hours=Lt(o.hours),o.months=Lt(o.months),o.years=Lt(o.years),this}i(Bg,"abs");function Wu(o,u,f,m){var b=ht(u,f);return o._milliseconds+=m*b._milliseconds,o._days+=m*b._days,o._months+=m*b._months,o._bubble()}i(Wu,"addSubtract$1");function Vg(o,u){return Wu(this,o,u,1)}i(Vg,"add$1");function Wg(o,u){return Wu(this,o,u,-1)}i(Wg,"subtract$1");function Yu(o){return o<0?Math.floor(o):Math.ceil(o)}i(Yu,"absCeil");function Yg(){var o=this._milliseconds,u=this._days,f=this._months,m=this._data,b,x,T,N,H;return o>=0&&u>=0&&f>=0||o<=0&&u<=0&&f<=0||(o+=Yu(ta(f)+u)*864e5,u=0,f=0),m.milliseconds=o%1e3,b=it(o/1e3),m.seconds=b%60,x=it(b/60),m.minutes=x%60,T=it(x/60),m.hours=T%24,u+=it(T/24),H=it(zu(u)),f+=H,u-=Yu(ta(H)),N=it(f/12),f%=12,m.days=u,m.months=f,m.years=N,this}i(Yg,"bubble");function zu(o){return o*4800/146097}i(zu,"daysToMonths");function ta(o){return o*146097/4800}i(ta,"monthsToDays");function zg(o){if(!this.isValid())return NaN;var u,f,m=this._milliseconds;if(o=Ne(o),o==="month"||o==="quarter"||o==="year")switch(u=this._days+m/864e5,f=this._months+zu(u),o){case"month":return f;case"quarter":return f/3;case"year":return f/12}else switch(u=this._days+Math.round(ta(this._months)),o){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+o)}}i(zg,"as");function Rt(o){return function(){return this.as(o)}}i(Rt,"makeAs");var Uu=Rt("ms"),Ug=Rt("s"),$g=Rt("m"),Hg=Rt("h"),jg=Rt("d"),Kg=Rt("w"),Gg=Rt("M"),qg=Rt("Q"),Zg=Rt("y"),Jg=Uu;function Qg(){return ht(this)}i(Qg,"clone$1");function Xg(o){return o=Ne(o),this.isValid()?this[o+"s"]():NaN}i(Xg,"get$2");function pn(o){return function(){return this.isValid()?this._data[o]:NaN}}i(pn,"makeGetter");var ey=pn("milliseconds"),ty=pn("seconds"),ny=pn("minutes"),ry=pn("hours"),iy=pn("days"),sy=pn("months"),oy=pn("years");function ay(){return it(this.days()/7)}i(ay,"weeks");var Nt=Math.round,Dn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ly(o,u,f,m,b){return b.relativeTime(u||1,!!f,o,m)}i(ly,"substituteTimeAgo");function uy(o,u,f,m){var b=ht(o).abs(),x=Nt(b.as("s")),T=Nt(b.as("m")),N=Nt(b.as("h")),H=Nt(b.as("d")),ne=Nt(b.as("M")),We=Nt(b.as("w")),Bt=Nt(b.as("y")),Jt=x<=f.ss&&["s",x]||x<f.s&&["ss",x]||T<=1&&["m"]||T<f.m&&["mm",T]||N<=1&&["h"]||N<f.h&&["hh",N]||H<=1&&["d"]||H<f.d&&["dd",H];return f.w!=null&&(Jt=Jt||We<=1&&["w"]||We<f.w&&["ww",We]),Jt=Jt||ne<=1&&["M"]||ne<f.M&&["MM",ne]||Bt<=1&&["y"]||["yy",Bt],Jt[2]=u,Jt[3]=+o>0,Jt[4]=m,ly.apply(null,Jt)}i(uy,"relativeTime$1");function cy(o){return o===void 0?Nt:typeof o=="function"?(Nt=o,!0):!1}i(cy,"getSetRelativeTimeRounding");function dy(o,u){return Dn[o]===void 0?!1:u===void 0?Dn[o]:(Dn[o]=u,o==="s"&&(Dn.ss=u-1),!0)}i(dy,"getSetRelativeTimeThreshold");function fy(o,u){if(!this.isValid())return this.localeData().invalidDate();var f=!1,m=Dn,b,x;return typeof o=="object"&&(u=o,o=!1),typeof o=="boolean"&&(f=o),typeof u=="object"&&(m=Object.assign({},Dn,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),x=uy(this,!f,m,b),f&&(x=b.pastFuture(+this,x)),b.postformat(x)}i(fy,"humanize");var na=Math.abs;function Ln(o){return(o>0)-(o<0)||+o}i(Ln,"sign");function gi(){if(!this.isValid())return this.localeData().invalidDate();var o=na(this._milliseconds)/1e3,u=na(this._days),f=na(this._months),m,b,x,T,N=this.asSeconds(),H,ne,We,Bt;return N?(m=it(o/60),b=it(m/60),o%=60,m%=60,x=it(f/12),f%=12,T=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=N<0?"-":"",ne=Ln(this._months)!==Ln(N)?"-":"",We=Ln(this._days)!==Ln(N)?"-":"",Bt=Ln(this._milliseconds)!==Ln(N)?"-":"",H+"P"+(x?ne+x+"Y":"")+(f?ne+f+"M":"")+(u?We+u+"D":"")+(b||m||o?"T":"")+(b?Bt+b+"H":"")+(m?Bt+m+"M":"")+(o?Bt+T+"S":"")):"P0D"}i(gi,"toISOString$1");var re=ui.prototype;re.isValid=sm,re.abs=Bg,re.add=Vg,re.subtract=Wg,re.as=zg,re.asMilliseconds=Uu,re.asSeconds=Ug,re.asMinutes=$g,re.asHours=Hg,re.asDays=jg,re.asWeeks=Kg,re.asMonths=Gg,re.asQuarters=qg,re.asYears=Zg,re.valueOf=Jg,re._bubble=Yg,re.clone=Qg,re.get=Xg,re.milliseconds=ey,re.seconds=ty,re.minutes=ny,re.hours=ry,re.days=iy,re.weeks=ay,re.months=sy,re.years=oy,re.humanize=fy,re.toISOString=gi,re.toString=gi,re.toJSON=gi,re.locale=Pu,re.localeData=Iu,re.toIsoString=G("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gi),re.lang=_u,k("X",0,0,"unix"),k("x",0,0,"valueOf"),B("x",wt),B("X",dt),de("X",function(o,u,f){f._d=new Date(parseFloat(o)*1e3)}),de("x",function(o,u,f){f._d=new Date(ee(o))});return e.version="2.30.1",n(he),e.fn=M,e.min=tm,e.max=nm,e.now=rm,e.utc=y,e.unix=Ig,e.months=Og,e.isDate=h,e.locale=qt,e.invalid=A,e.duration=ht,e.isMoment=E,e.weekdays=Lg,e.parseZone=Mg,e.localeData=Dt,e.isDuration=ci,e.monthsShort=Dg,e.weekdaysMin=Ng,e.defineLocale=Uo,e.updateLocale=Mp,e.locales=Op,e.weekdaysShort=Rg,e.normalizeUnits=Ne,e.relativeTimeRounding=cy,e.relativeTimeThreshold=dy,e.calendarFormat=Fm,e.prototype=M,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var ad=pt((kC,od)=>{"use strict";function At(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}i(At,"assertPath");function sd(t,e){for(var n="",r=0,s=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=c,a=0;continue}}else if(n.length===2||n.length===1){n="",r=0,s=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(s+1,c):n=t.slice(s+1,c),r=c-s-1;s=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}i(sd,"normalizeStringPosix");function Iw(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}i(Iw,"_format");var qn={resolve:i(function(){for(var e="",n=!1,r,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(r===void 0&&(r=process.cwd()),a=r),At(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=sd(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:i(function(e){if(At(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=sd(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:i(function(e){return At(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];At(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":qn.normalize(e)},"join"),relative:i(function(e,n){if(At(e),At(n),e===n||(e=qn.resolve(e),n=qn.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var s=e.length,a=s-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,d=c-l,h=a<d?a:d,p=-1,g=0;g<=h;++g){if(g===h){if(d>h){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>h&&(e.charCodeAt(r+g)===47?p=g:g===0&&(p=0));break}var y=e.charCodeAt(r+g),w=n.charCodeAt(l+g);if(y!==w)break;y===47&&(p=g)}var C="";for(g=r+p+1;g<=s;++g)(g===s||e.charCodeAt(g)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:i(function(e){return e},"_makeLong"),dirname:i(function(e){if(At(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,s=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){s=l;break}}else a=!1;return s===-1?r?"/":".":r&&s===1?"//":e.slice(0,s)},"dirname"),basename:i(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');At(e);var r=0,s=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!a){r=l+1;break}}else d===-1&&(a=!1,d=l+1),c>=0&&(h===n.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=d))}return r===s?s=d:s===-1&&(s=e.length),e.slice(r,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){r=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":e.slice(r,s)}},"basename"),extname:i(function(e){At(e);for(var n=-1,r=0,s=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var d=e.charCodeAt(c);if(d===47){if(!a){r=c+1;break}continue}s===-1&&(a=!1,s=c+1),d===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===r+1?"":e.slice(n,s)},"extname"),format:i(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Iw("/",e)},"format"),parse:i(function(e){At(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),s=r===47,a;s?(n.root="/",a=1):a=0;for(var l=-1,c=0,d=-1,h=!0,p=e.length-1,g=0;p>=a;--p){if(r=e.charCodeAt(p),r===47){if(!h){c=p+1;break}continue}d===-1&&(h=!1,d=p+1),r===46?l===-1?l=p:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||d===-1||g===0||g===1&&l===d-1&&l===c+1?d!==-1&&(c===0&&s?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(c,d)):(c===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(c,l),n.base=e.slice(c,d)),n.ext=e.slice(l,d)),c>0?n.dir=e.slice(0,c-1):s&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};qn.posix=qn;od.exports=qn});var Bf=pt((e_,Nf)=>{"use strict";var ws=Object.prototype.hasOwnProperty,Rf=Object.prototype.toString,_f=Object.defineProperty,If=Object.getOwnPropertyDescriptor,Mf=i(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Rf.call(e)==="[object Array]"},"isArray"),Of=i(function(e){if(!e||Rf.call(e)!=="[object Object]")return!1;var n=ws.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ws.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var s;for(s in e);return typeof s>"u"||ws.call(e,s)},"isPlainObject"),Df=i(function(e,n){_f&&n.name==="__proto__"?_f(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Lf=i(function(e,n){if(n==="__proto__")if(ws.call(e,n)){if(If)return If(e,n).value}else return;return e[n]},"getProperty");Nf.exports=i(function t(){var e,n,r,s,a,l,c=arguments[0],d=1,h=arguments.length,p=!1;for(typeof c=="boolean"&&(p=c,c=arguments[1]||{},d=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});d<h;++d)if(e=arguments[d],e!=null)for(n in e)r=Lf(c,n),s=Lf(e,n),c!==s&&(p&&s&&(Of(s)||(a=Mf(s)))?(a?(a=!1,l=r&&Mf(r)?r:[]):l=r&&Of(r)?r:{},Df(c,{name:n,newValue:t(p,l,s)})):typeof s<"u"&&Df(c,{name:n,newValue:s}));return c},"extend")});var Kk={};$u(Kk,{default:()=>jk});module.exports=wy(Kk);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ve(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}i(ve,"appendCodeBlock");function ju(t){return`${String(t)}px`}i(ju,"toPx");var j=i(t=>typeof t=="string","isString"),Er=i(()=>{let t,e,n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},"defer"),Ku=i(t=>t==null?"":""+t,"makeString"),by=i((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),ky=/###/g,Gu=i(t=>t&&t.indexOf("###")>-1?t.replace(ky,"."):t,"cleanKey"),qu=i(t=>!t||j(t),"canNotTraverseDeeper"),Tr=i((t,e,n)=>{let r=j(e)?e.split("."):e,s=0;for(;s<r.length-1;){if(qu(t))return{};let a=Gu(r[s]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++s}return qu(t)?{}:{obj:t,k:Gu(r[s])}},"getLastOfPath"),Zu=i((t,e,n)=>{let{obj:r,k:s}=Tr(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Tr(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Tr(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},"setPath"),xy=i((t,e,n,r)=>{let{obj:s,k:a}=Tr(t,e,Object);s[a]=s[a]||[],s[a].push(n)},"pushPath"),wi=i((t,e)=>{let{obj:n,k:r}=Tr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),vy=i((t,e,n)=>{let r=wi(t,n);return r!==void 0?r:wi(e,n)},"getPathWithDefaults"),ic=i((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?j(t[r])||t[r]instanceof String||j(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):ic(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Rn=i(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Ay=i(t=>j(t)?t.replace(/[&<>"'\/]/g,e=>Cy[e]):t,"escape"),sa=class{static{i(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Sy=[" ",",","?","!",";"],Ey=new sa(20),Ty=i((t,e,n)=>{e=e||"",n=n||"";let r=Sy.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;let s=Ey.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`),a=!s.test(t);if(!a){let l=t.indexOf(n);l>0&&!s.test(t.substring(0,l))&&(a=!0)}return a},"looksLikeObjectPath"),oa=i((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),s=t;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=n),c+=r[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}s=l}return s},"deepFind"),Fr=i(t=>t?.replace("_","-"),"getCleanedCode"),Fy={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},aa=class t{static{i(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Fy,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(j(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},kt=new aa,Nn=class{static{i(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...n])})}},bi=class extends Nn{static{i(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):j(r)&&a?c.push(...r.split(a)):c.push(r)));let d=wi(this.data,c);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),d||!l||!j(r)?d:oa(this.data?.[e]?.[n],r,a)}addResource(e,n,r,s,a={silent:!1}){let l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),Zu(this.data,c,s),a.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(let a in r)(j(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=n,n=c[1]),this.addNamespaces(n);let d=wi(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?ic(d,r,a):d={...d,...r},Zu(this.data,c,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}},sc={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,s)??e}),e}},oc=Symbol("i18next/PATH_KEY");function Py(){let t=[],e=Object.create(null),n;return e.get=(r,s)=>(n?.revoke?.(),s===oc?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}i(Py,"createProxy");function la(t,e){let{[oc]:n}=t(Py());return n.join(e?.keySeparator??".")}i(la,"keysFromSelector");var Ju={},ra=i(t=>!j(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),ki=class t extends Nn{static{i(this,"Translator")}constructor(e,n={}){super(),by(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=kt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};if(e==null)return!1;let s=this.resolve(e,r);if(s?.res===void 0)return!1;let a=ra(s.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ty(e,r,s);if(l&&!c){let d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:j(a)?[a]:a};let h=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(s)}return{key:e,namespaces:j(a)?[a]:a}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=la(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);let a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],s),h=d[d.length-1],p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");let g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;let w=this.resolve(e,s),C=w?.res,P=w?.usedKey||c,S=w?.exactUsedKey||c,A=["[object Number]","[object Function]","[object RegExp]"],F=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject,D=s.count!==void 0&&!j(s.count),W=t.hasDefaultValue(s),E=D?this.pluralResolver.getSuffix(g,s.count,s):"",K=s.ordinal&&D?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",G=D&&!s.ordinal&&s.count===0,$=G&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${K}`]||s.defaultValue,Q=C;I&&!C&&W&&(Q=$);let ue=ra(Q),te=Object.prototype.toString.apply(Q);if(I&&Q&&ue&&A.indexOf(te)<0&&!(j(F)&&Array.isArray(Q))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,Q,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(w.res=L,w.usedParams=this.getUsedParamsDetails(s),w):L}if(l){let L=Array.isArray(Q),z=L?[]:{},U=L?S:P;for(let Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z)){let ie=`${U}${l}${Z}`;W&&!C?z[Z]=this.translate(ie,{...s,defaultValue:ra($)?$[Z]:void 0,joinArrays:!1,ns:d}):z[Z]=this.translate(ie,{...s,joinArrays:!1,ns:d}),z[Z]===ie&&(z[Z]=Q[Z])}C=z}}else if(I&&j(F)&&Array.isArray(C))C=C.join(F),C&&(C=this.extendTranslation(C,e,s,r));else{let L=!1,z=!1;!this.isValidLookup(C)&&W&&(L=!0,C=$),this.isValidLookup(C)||(z=!0,C=c);let Z=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:C,ie=W&&$!==C&&this.options.updateMissing;if(z||L||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,h,c,ie?$:C),l){let oe=this.resolve(c,{...s,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ce=[],be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&be&&be[0])for(let oe=0;oe<be.length;oe++)ce.push(be[oe]);else this.options.saveMissingTo==="all"?ce=this.languageUtils.toResolveHierarchy(s.lng||this.language):ce.push(s.lng||this.language);let v=i((oe,pe,k)=>{let Ae=W&&k!==C?k:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,h,pe,Ae,ie,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(oe,h,pe,Ae,ie,s),this.emit("missingKey",oe,h,pe,C)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&D?ce.forEach(oe=>{let pe=this.pluralResolver.getSuffixes(oe,s);G&&s[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(k=>{v([oe],c+k,s[`defaultValue${k}`]||$)})}):v(ce,c,$))}C=this.extendTranslation(C,e,s,w,r),z&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${p}${c}`),(z||L)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,L?C:void 0,s))}return a?(w.res=C,w.usedParams=this.getUsedParamsDetails(s),w):C}extendTranslation(e,n,r,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let d=j(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(d){let g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let p=r.replace&&!j(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||s.usedLng,r),d){let g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}let l=r.postProcess||this.options.postProcess,c=j(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=sc.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,a,l,c;return j(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;let h=this.extractFromKey(d,n),p=h.key;s=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));let y=n.count!==void 0&&!j(n.count),w=y&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(j(n.context)||typeof n.context=="number")&&n.context!=="",P=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(S=>{this.isValidLookup(r)||(c=S,!Ju[`${P[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Ju[`${P[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${P.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(A=>{if(this.isValidLookup(r))return;l=A;let F=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,p,A,S,n);else{let D;y&&(D=this.pluralResolver.getSuffix(A,n.count,n));let W=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&D.indexOf(E)===0&&F.push(p+D.replace(E,this.options.pluralSeparator)),F.push(p+D),w&&F.push(p+W)),C){let K=`${p}${this.options.contextSeparator||"_"}${n.context}`;F.push(K),y&&(n.ordinal&&D.indexOf(E)===0&&F.push(K+D.replace(E,this.options.pluralSeparator)),F.push(K+D),w&&F.push(K+W))}}let I;for(;I=F.pop();)this.isValidLookup(r)||(a=I,r=this.getResource(A,S,I,n))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!j(e.replace),s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(let a of n)delete s[a]}return s}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},xi=class{static{i(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kt.create("languageUtils")}getScriptPartFromCode(e){if(e=Fr(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Fr(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(j(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;let a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),j(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],a=i(l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return j(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):j(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}},Qu={zero:0,one:1,two:2,few:3,many:4,other:5},Xu={select:i(t=>t===1?"one":"other","select"),resolvedOptions:i(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},ua=class{static{i(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=kt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=Fr(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xu;if(!e.match(/-|_/))return Xu;let d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>Qu[s]-Qu[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){let s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},ec=i((t,e,n,r=".",s=!0)=>{let a=vy(t,e,n);return!a&&s&&j(n)&&(a=oa(t,n,r),a===void 0&&(a=oa(e,n,r))),a},"deepFindWithDefaults"),ia=i(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),ca=class{static{i(this,"Interpolator")}constructor(e={}){this.logger=kt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:P,nestingOptionsSeparator:S,maxReplaces:A,alwaysFormat:F}=e.interpolation;this.escape=n!==void 0?n:Ay,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Rn(a):l||"{{",this.suffix=c?Rn(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?Rn(y):w||Rn("$t("),this.nestingSuffix=C?Rn(C):P||Rn(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=A||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=i((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let a,l,c,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=i(w=>{if(w.indexOf(this.formatSeparator)<0){let A=ec(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,r,{...s,...n,interpolationkey:w}):A}let C=w.split(this.formatSeparator),P=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(ec(n,d,P,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...s,...n,interpolationkey:P})},"handleFormat");this.resetRegExp();let p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:i(w=>ia(w),"safeValue")},{regex:this.regexp,safeValue:i(w=>this.escapeValue?ia(this.escape(w)):ia(w),"safeValue")}].forEach(w=>{for(c=0;a=w.regex.exec(e);){let C=a[1].trim();if(l=h(C),l===void 0)if(typeof p=="function"){let S=p(e,a,s);l=j(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),l="";else!j(l)&&!this.useRawValueToEscape&&(l=Ku(l));let P=w.safeValue(l);if(e=e.replace(a[0],P),g?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,a,l,c=i((d,h)=>{let p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;let g=d.split(new RegExp(`${p}[ ]*{`)),y=`{${g[1]}`;d=g[0],y=this.interpolate(y,l);let w=y.match(/'/g),C=y.match(/"/g);((w?.length??0)%2===0&&!C||C.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,P),`${d}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d},"handleHasOptions");for(;s=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!j(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),a=n(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!j(a))return a;j(a)||(a=Ku(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}},_y=i(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){let[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),tc=i(t=>{let e={};return(n,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});let l=r+JSON.stringify(a),c=e[l];return c||(c=t(Fr(r),s),e[l]=c),c(n)}},"createCachedFormatter"),Iy=i(t=>(e,n,r)=>t(Fr(n),r)(e),"createNonCachedFormatter"),da=class{static{i(this,"Formatter")}constructor(e={}){this.logger=kt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?tc:Iy;this.formats={number:r((s,a)=>{let l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:r((s,a)=>{let l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((s,a)=>{let l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:r((s,a)=>{let l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:r((s,a)=>{let l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=tc(n)}format(e,n,r,s={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){let c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{let{formatName:h,formatOptions:p}=_y(d);if(this.formats[h]){let g=c;try{let y=s?.formatParams?.[s.interpolationkey]||{},w=y.locale||y.lng||s.locale||s.lng||r;g=this.formats[h](c,w,{...p,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}},My=i((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),fa=class extends Nn{static{i(this,"Connector")}constructor(e,n,r,s={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=kt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,n,r,s){let a={},l={},c={},d={};return e.forEach(h=>{let p=!0;n.forEach(g=>{let y=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),d[g]===void 0&&(d[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){let s=e.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let c={};this.queue.forEach(d=>{xy(d.loaded,[a],l),My(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});let p=d.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:a,callback:l});return}this.readingCalls++;let c=i((h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,a*2,l)},a);return}l(h,p)},"resolver"),d=this.backend[r].bind(this.backend);if(d.length===2){try{let h=d(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return d(e,n,c)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();j(e)&&(e=this.languageUtils.toResolveHierarchy(e)),j(n)&&(n=[n]);let a=this.queueLoad(e,n,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,s,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let d={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(e,n,r,s,d):p=h(e,n,r,s),p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}else h(e,n,r,s,c,d)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}},nc=i(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),j(t[1])&&(e.defaultValue=t[1]),j(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:i(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),rc=i(t=>(j(t.ns)&&(t.ns=[t.ns]),j(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),j(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),yi=i(()=>{},"noop"),Oy=i(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),ha=class t extends Nn{static{i(this,"I18n")}constructor(e={},n){if(super(),this.options=rc(e),this.services={},this.logger=kt,this.modules={external:[]},Oy(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(j(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=nc();this.options={...r,...this.options,...rc(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=i(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?kt.init(s(this.modules.logger),this.options):kt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=da;let p=new xi(this.options);this.store=new bi(this.options.resources,this.options);let g=this.services;g.logger=kt,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new ua(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=s(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new ca(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new fa(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new ki(this.services,this.options),this.translator.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=yi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});let c=Er(),d=i(()=>{let h=i((p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,n=yi){let r=n,s=j(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let a=[],l=i(c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})},"append");s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){let s=Er();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=yi),this.services.backendConnector.reload(e,n,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&sc.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=Er();this.emit("languageChanging",e);let s=i(c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},"setLngProps"),a=i((c,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},"done"),l=i(c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let d=j(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(j(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{a(p,h)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){let s=i((a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||s.keyPrefix);let h=this.options.keySeparator||".",p;return d.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=la(g,{...this.options,...l})),`${d.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=la(a,{...this.options,...l})),p=d.keyPrefix?`${d.keyPrefix}${h}${a}`:a),this.t(p,d)},"fixedT");return j(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let l=i((c,d)=>{let h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2},"loadNotPending");if(n.precheck){let c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!s||l(a,e)))}loadNamespaces(e,n){let r=Er();return this.options.ns?(j(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=Er();j(e)&&(e=[e]);let s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let s=new Intl.Locale(e);if(s&&s.getTextInfo){let a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new xi(nc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){let r=new t(e,n);return r.createInstance=t.createInstance,r}cloneInstance(e={},n=yi){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},a=new t(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){let c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((p,g)=>(p[g]={...d[h][g]},p),d[h]),d),{});a.store=new bi(c,s),a.services.resourceStore=a.store}return a.translator=new ki(a.services,s),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Oe=ha.createInstance(),Xk=Oe.createInstance,ex=Oe.dir,ac=Oe.init,tx=Oe.loadResources,nx=Oe.reloadResources,rx=Oe.use,ix=Oe.changeLanguage,sx=Oe.getFixedT,vi=Oe.t,ox=Oe.exists,ax=Oe.setDefaultNamespace,lx=Oe.hasLoadedNamespace,ux=Oe.loadNamespaces,cx=Oe.loadLanguages;var Wc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Y=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(Y||{});var Bc=require("obsidian");var Lc=Je(uc(),1);var Ca=Je(xc(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ya(t,e){let n=t.length,r=0;for(let s=0;s<n;s++){if(!Object.hasOwn(t,s))continue;let a=t[s];e(a,s,t)&&(t[r++]=a)}t.length=r}i(ya,"filterInPlace");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xt=class{static{i(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(ya(r,s=>s.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ya(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let a={asyncEvents:this,callback:n,name:e,thisArg:r};return s.push(a),a}once(e,n,r){let s=this.on(e,n,r),a=this.on(e,()=>{this.offref(s),this.offref(a)});return s}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wa="asyncError",Pi=new xt;Pi.on(wa,iw);var Cc="An unhandled error occurred executing async operation",Ac="    at",Qt=class t extends Error{static{i(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let s=r,a=new Set;for(;s instanceof t;){if(a.has(s))throw new Error("Circular cause detected");a.add(s),s=s.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},Yn=class t extends Error{static{i(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function Sc(t){Pi.trigger(wa,t)}i(Sc,"emitAsyncErrorEvent");function ba(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=ba(t.cause).split(`
`);e+=`
${vc("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Ac)?`
${r}`:`
${vc(r)}`)}return e}i(ba,"errorToString");function Xt(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}i(Xt,"getStackTrace");function Pr(t,e){e??=globalThis.console,e.error(ba(t))}i(Pr,"printError");function Ec(t){let e=Pi.on(wa,t);return()=>{Pi.offref(e)}}i(Ec,"registerAsyncErrorEventHandler");function _i(t){throw t}i(_i,"throwExpression");function vc(t){return`${Ac} --- ${t} --- (0)`}i(vc,"generateStackTraceLine");function iw(t){Pr(t)}i(iw,"handleAsyncError");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ka="43.6.0",Ii="obsidian-dev-utils",Tc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Vt(){}i(Vt,"noop");async function vt(){}i(vt,"noopAsync");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xa=class{static{i(this,"ValueWrapper")}constructor(e){this.value=e}};function sw(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}i(sw,"getApp");function Wt(t,e,n){let s=t??ow()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new xa(n)}i(Wt,"getObsidianDevUtilsState");function ow(){return typeof window>"u"?null:sw()}i(ow,"getAppOrNull");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var va="__no-plugin-id-initialized__",Fc=va;function Mi(){return Fc}i(Mi,"getPluginId");function Pc(t){t&&(Fc=t)}i(Pc,"setPluginId");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _c=",",Oi="-";function Di(){return{disable:aw,enable:lw,get:Ri,set:_r}}i(Di,"getDebugController");function Li(t,e=0){let n=`${t}:${String(e)}`,r=Wt(null,"debuggers",new Map).value,s=r.get(n);return s||(s=Mr()(t),s.log=(a,...l)=>{uw(t,e,a,...l)},r.set(n,s)),s}i(Li,"getDebugger");function Qe(t){let e=Mi(),n=e===va?"":`${e}:`;return Li(`${n}${Ii}:${t}`)}i(Qe,"getLibDebugger");function Ir(t,e,n,...r){if(!Mc()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Oc(e))}i(Ir,"printWithStackTrace");function Ic(t){let e=Mr().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",s=Ri();_r(t),Li(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),_r(s)}i(Ic,"showInitialDebugMessage");function aw(t){let e=new Set(Ri());for(let n of Or(t)){if(n.startsWith(Oi))continue;let r=Oi+n;e.has(n)&&e.delete(n),e.add(r)}_r(Array.from(e))}i(aw,"disableNamespaces");function lw(t){let e=new Set(Ri());for(let n of Or(t)){if(!n.startsWith(Oi)){let r=Oi+n;e.has(r)&&e.delete(r)}e.add(n)}_r(Array.from(e))}i(lw,"enableNamespaces");function Ri(){return Or(Mr().load()??"")}i(Ri,"getNamespaces");function Mr(){return typeof window>"u"?Ca.default:Wt(null,"debug",Ca.default).value}i(Mr,"getSharedDebugLibInstance");function Mc(){return typeof window<"u"}i(Mc,"isInObsidian");function uw(t,e,n,...r){if(!Mr().enabled(t))return;if(!Mc()){console.debug(n,...r);return}let s=4,a=new Error().stack?.split(`
`)??[];a.splice(0,s+e),console.debug(n,...r,`

---
Logger stack trace:
`,Oc(a.join(`
`)))}i(uw,"logWithCaller");function Oc(t){return new Qt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}i(Oc,"makeStackTraceError");function _r(t){Mr().enable(Or(t).join(_c))}i(_r,"setNamespaces");function Or(t){return typeof t=="string"?t.split(_c).filter(Boolean):t.flatMap(Or)}i(Or,"toArray");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Dc=`${Ii}-styles`;function le(t,...e){t.addClass(Y.LibraryName,Mi(),...e)}i(le,"addPluginCssClasses");function Rc(t){let e=t;e.DEBUG=Di()}i(Rc,"initDebugController");function Nc(t,e){Pc(e),Ic(e);let n=Wt(t,"lastLibraryVersion","0.0.0");(0,Lc.compareVersions)(ka,n.value)<=0||(n.value=ka,document.head.querySelector(`#${Dc}`)?.remove(),document.head.createEl("style",{attr:{id:Dc},text:Tc}))}i(Nc,"initPluginContext");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ni=class extends Bc.Modal{static{i(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,le(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function Vc(t){return await new Promise(e=>{t(e).open()})}i(Vc,"showModal");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Aa=class extends Ni{static{i(this,"AlertModal")}options;constructor(e,n){super(e,n,Y.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:vi(s=>s.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Wc.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(Y.OkButton)}};async function Yc(t){await Vc(e=>new Aa(t,e))}i(Yc,"alert");var $i=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var cw=Number.POSITIVE_INFINITY;function Dr(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Ct();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let r=[];for(let a of e)r.push(Uc(a,s));return n.signal;function s(a){for(let l of r)l();n.abort(a.reason)}}i(Dr,"abortSignalAny");function Ct(){return new AbortController().signal}i(Ct,"abortSignalNever");function zc(t){if(t===cw)return Ct();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}i(zc,"abortSignalTimeout");function Uc(t,e){if(t.aborted)return e(t),Vt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}i(n,"wrappedCallback")}i(Uc,"onAbort");function $c(t,e){return new Promise((n,r)=>{Uc(t,()=>{e?r(t.reason):n(t.reason)})})}i($c,"waitForAbort");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function dw(t,e){e??=Xt(1);try{await t()}catch(n){let r=new Qt(Cc,e,n);if(fw(r))return;Sc(r)}}i(dw,"addErrorHandler");function zn(t,e){return e??=Xt(1),(...n)=>{let r=Xt(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,ge(()=>t(...n),e)}}i(zn,"convertAsyncToSync");function ge(t,e){e??=Xt(1),dw(t,e)}i(ge,"invokeAsyncSafely");function Hc(t,e=0,n,r){r??=Ct(),r.throwIfAborted(),n??=Xt(1),ge(async()=>{await Sa(e,r,!0),await t(r)},n)}i(Hc,"invokeAsyncSafelyAfterDelay");function fw(t){let e=t;for(;!(e instanceof Yn);){if(!(e instanceof Error))return!1;e=e.cause}return Qe("Async:handleSilentError")(t),!0}i(fw,"handleSilentError");var hw=new WeakSet;async function Bi(t,e,n){let r=Qe("Async:retryWithTimeout");n??=Xt(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await pw(a.timeoutInMilliseconds,async l=>{let c=Dr(a.abortSignal,l);c.throwIfAborted();let d=0;for(;!c.aborted;){d++;let h;try{h=await t(c)}catch(p){if(c.aborted||!a.shouldRetryOnError||hw.has(p))throw new Qt("retryWithTimeout failed",n,p);Pr(p),h=!1}if(h){Ir(r,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}Ir(r,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await Sa(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}i(Bi,"retryWithTimeout");async function pw(t,e,n,r){r??=Xt(1);let s=performance.now(),a=new AbortController,l=new AbortController,c=null,d=!1,h=!1,p=Qe("Async:runWithTimeout");if(await Promise.race([g(),y()]),d)return c;throw new Qt("Run with timeout failed",r,a.signal.reason);async function g(){try{c=await e(a.signal);let w=performance.now()-s;Ir(p,r??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),d=!0}catch(w){a.abort(w)}finally{h=!0,l.abort(new Error("Completed"))}}async function y(){for(;!h;){if(await Sa(t,l.signal),h)return;let w=performance.now()-s;Ir(p,r??"",`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let C=Qe("Async:runWithTimeout:timeout");if(!C.enabled){a.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}C(`The execution is not terminated because debugger ${C.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}i(pw,"runWithTimeout");async function Sa(t,e,n){await $c(Dr(e,zc(t))),n&&e?.throwIfAborted()}i(Sa,"sleep");var jc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vi=class extends jc.Component{static{i(this,"AsyncEventsComponent")}registerAsyncEvent(e){Wi(this,e)}};function Wi(t,e){t.register(()=>{e.asyncEvents.offref(e)})}i(Wi,"registerAsyncEvent");var Gc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yi={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ea="en",mw={en:Yi},zi=mw;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kc="translation",Ta=!1;async function Fa(t,e=!0){Ta||(Ta=!0,await ac({fallbackLng:Ea,initAsync:e,lng:(0,Gc.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,r])=>[n,{[Kc]:r}])),returnEmptyString:!1,returnNull:!1}),Oe.addResourceBundle(Ea,Kc,Yi,!0,!1))}i(Fa,"initI18N");function gw(t,e){return Ta||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),ge(()=>Fa(zi,!1))),vi(t,e)}i(gw,"tImpl");var qc=gw;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function yw(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}i(yw,"getAllContainers");function Zc(t){return yw(t).map(e=>e.win)}i(Zc,"getAllDomWindows");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ui=class extends $i.Plugin{static{i(this,"PluginBase")}events=new xt;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Li(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Hc(this.afterLoad.bind(this))}onunload(){super.onunload(),ge(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let r of Zc(this.app))r!==n&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,n){ge(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerDomWindowHandler(s=>{this.registerDomEvent(s.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerDomWindowHandler(s=>{this.registerDomEvent(s,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return zi}handleAsyncError(e){this.showNotice(qc(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await vt()}async onloadImpl(){Nc(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{Rc(n)}),await Fa(this.createTranslationsMap()),this.register(Ec(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Wi(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Wi(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Yn(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await vt()}async onSaveSettings(e,n,r){await vt()}async onunloadImpl(){await vt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new $i.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(zn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Un=class{static{i(this,"CommandBase")}icon;id;name;app;originalId;originalName;plugin;constructor(e){this.id=e.id,this.name=e.name,this.icon=e.icon,this.plugin=e.plugin,this.app=this.plugin.app,this.originalId=this.id,this.originalName=this.name}register(){this.plugin.addCommand(this)}},$n=class{static{i(this,"CommandInvocationBase")}constructor(e){this.plugin=e,this.app=e.app}app;lastCanExecuteResult;invoke(e){return this.lastCanExecuteResult=this.canExecute(),!e&&this.lastCanExecuteResult&&ge(()=>this.execute()),this.lastCanExecuteResult}canExecute(){return!0}async execute(){if(this.lastCanExecuteResult===void 0)throw new Error("canExecute() must be called before execute()");if(!this.lastCanExecuteResult)throw new Error("canExecute() must return true before execute()");await Promise.resolve()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var He=class extends Un{static{i(this,"EditorCommandBase")}editorMenuItemName;editorMenuSection;editorCheckCallback(e,n,r){return this.shouldAddToCommandPalette()?this.createEditorCommandInvocation(n,r).invoke(e):!1}register(){super.register(),this.plugin.registerEvent(this.app.workspace.on("editor-menu",this.handleEditorMenu.bind(this)))}shouldAddToCommandPalette(){return!0}shouldAddToEditorMenu(e,n){return!1}handleEditorMenu(e,n,r){this.shouldAddToEditorMenu(n,r)&&this.createEditorCommandInvocation(n,r).invoke(!0)&&e.addItem(s=>{s.setTitle(this.editorMenuItemName??this.originalName).setIcon(this.icon).setSection(this.editorMenuSection??"").onClick(()=>this.createEditorCommandInvocation(n,r).invoke(!1))})}},je=class extends $n{static{i(this,"EditorCommandInvocationBase")}constructor(e,n,r){super(e),this.editor=n,this.ctx=r}get file(){if(!this._file)throw new Error("File not set");return this._file}_file;canExecute(){return!super.canExecute()||!this.ctx.file?!1:(this._file=this.ctx.file,!0)}};var Ps=Je(en(),1),yt=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jn(t,e,...n){return e??=Ct(),e.throwIfAborted(),ww(t)?await t(e,...n):t}i(jn,"resolveValue");function ww(t){return typeof t=="function"}i(ww,"isFunction");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bw={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var kw={};for(let[t,e]of Object.entries(bw))kw[e]=t;function Jc(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}i(Jc,"insertAt");function Qc(t){return Xe(t,/\u00A0|\u202F/g," ").normalize("NFC")}i(Qc,"normalize");function Xe(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...s)=>{let l=typeof s.at(-1)=="object",c=l?s.length-2:s.length-1,d={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(c-1),source:s.at(c),substring:r},h=s.slice(0,c-1).map((p,g)=>{if(typeof p=="string")return p;if(typeof p>"u")return d.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof p}`)});return n(d,...h)??d.substring}))}i(Xe,"replaceAll");function Yt(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}i(Yt,"trimEnd");function Hi(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}i(Hi,"trimStart");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xc=".",xw=[{constructor:ArrayBuffer,equalityComparer:vw},{constructor:Date,equalityComparer:Cw},{constructor:RegExp,equalityComparer:Sw},{constructor:Map,equalityComparer:Aw},{constructor:Set,equalityComparer:Ew}];function Ke(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=Tw(t,e);if(d!==void 0)return d}let s=Kn(t),a=Kn(e);if(s.length!==a.length)return!1;let l=t,c=e;for(let d of s)if(!a.includes(d)||!Ke(l[d],c[d]))return!1;return!0}i(Ke,"deepEqual");function Kn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[s,a]of Object.entries(r)){if(s==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(s);continue}a.enumerable&&a.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}i(Kn,"getAllKeys");function Gn(t,e){let n=t,r=e.split(Xc);for(let s of r){if(n===void 0)return;n=n[s]}return n}i(Gn,"getNestedPropertyValue");function ed(t,e,n){let r=new Error(`Property path ${e} not found`),s=t,a=e.split(Xc);for(let c of a.slice(0,-1)){if(s===void 0)throw r;s=s[c]}let l=a.at(-1);if(s===void 0||l===void 0)throw r;s[l]=n}i(ed,"setNestedPropertyValue");function vw(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return Ke(n,r)}i(vw,"deepEqualArrayBuffer");function Cw(t,e){return t.getTime()===e.getTime()}i(Cw,"deepEqualDate");function Aw(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!Ke(r,e.get(n)))return!1;return!0}i(Aw,"deepEqualMap");function Sw(t,e){return t.source===e.source&&t.flags===e.flags}i(Sw,"deepEqualRegExp");function Ew(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let s of e)if(Ke(n,s)){r=!0;break}if(!r)return!1}return!0}i(Ew,"deepEqualSet");function Tw(t,e){for(let{constructor:n,equalityComparer:r}of xw)if(t instanceof n&&e instanceof n)return r(t,e)}i(Tw,"deepEqualTyped");var $t=require("obsidian");var Fw=require("obsidian"),nd=require("obsidian"),rd=require("obsidian"),mC=require("obsidian"),gC=require("obsidian");var td=class{static{i(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var zt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},ji={AllProperties:"all-properties",Audio:"audio",Backlink:zt.Backlink,Bases:zt.Bases,Bookmarks:zt.Bookmarks,Canvas:zt.Canvas,Empty:"empty",FileExplorer:zt.FileExplorer,FileProperties:"file-properties",Graph:zt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:zt.OutgoingLink,Outline:zt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Pw(){return nd.TFile}i(Pw,"getTFileConstructor");function _w(){return rd.TFolder}i(_w,"getTFolderConstructor");function gn(t){return t.replace(/\/?[^\/]*$/,"")||"/"}i(gn,"parentFolderPath");function Ki(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(_w())(t.vault,e),n.parent=Ki(t,gn(e)),n.deleted=!0,n)}i(Ki,"createTFolderInstance");function id(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Pw())(t.vault,e),n.parent=Ki(t,gn(e)),n.deleted=!0,n)}i(id,"createTFileInstance");function Ut(t){return!!t.position}i(Ut,"isReferenceCache");function et(t){return!!t.key}i(et,"isFrontmatterLinkCache");var _a=Je(ad(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mw=/[a-zA-Z]:\/[^:]*$/,St=_a.default.posix,AC=St.delimiter,SC=_a.default.posix.sep,tn=St.basename,yn=St.dirname,Zn=St.extname,EC=St.format;var Gi=St.join,TC=St.normalize,FC=St.parse,qi=St.relative;function ld(...t){let e=St.resolve(...t);return e=Ow(e),Mw.exec(e)?.[0]??e}i(ld,"resolve");function Ow(t){return Xe(t,"\\","/")}i(Ow,"toPosixPath");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Dw="canvas",Ia="md";function cd(t,e,n){if(Jn(e))return e.extension===n;if(typeof e=="string"){let r=nn(t,e);return r?r.extension===n:Zn(e).slice(1)===n}return!1}i(cd,"checkExtension");function Ma(t,e,n){if(e===null)return null;if(fd(e))return t.vault.fileMap[e.path]??e;let r=ud(t,e,n);if(r)return r;let s=hd(e);return s===e?null:ud(t,s,n)}i(Ma,"getAbstractFileOrNull");function Ge(t,e,n,r){let s=nn(t,e,r);if(!s)if(n)s=id(t,e);else throw new Error(`File not found: ${e}`);return s}i(Ge,"getFile");function nn(t,e,n){let r=Ma(t,e,n);return Jn(r)?r:null}i(nn,"getFileOrNull");function Zi(t,e,n,r){let s=dd(t,e,r);if(!s)if(n)s=Ki(t,e);else throw new Error(`Folder not found: ${e}`);return s}i(Zi,"getFolder");function dd(t,e,n){let r=Ma(t,e,n);return Lw(r)?r:null}i(dd,"getFolderOrNull");function Pe(t,e){if(fd(e))return e.path;let n=Ma(t,e);return n?n.path:hd(e)}i(Pe,"getPath");function fd(t){return t instanceof $t.TAbstractFile}i(fd,"isAbstractFile");function Lr(t,e){return cd(t,e,Dw)}i(Lr,"isCanvasFile");function Jn(t){return t instanceof $t.TFile}i(Jn,"isFile");function Lw(t){return t instanceof $t.TFolder}i(Lw,"isFolder");function mt(t,e){return cd(t,e,Ia)}i(mt,"isMarkdownFile");function ud(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}i(ud,"getFileInternal");function hd(t){return(0,$t.normalizePath)(ld("/",t))}i(hd,"getResolvedPath");var wn=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function bn(t){let e=(0,wn.getFrontMatterInfo)(t);return(0,wn.parseYaml)(e.frontmatter)??{}}i(bn,"parseFrontmatter");function Ji(t,e){let n=(0,wn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,wn.stringifyYaml)(e);return n.exists?Jc(t,r,n.from,n.to):`---
${r}---
${t}`}i(Ji,"setFrontmatter");var kn=require("obsidian");var Rr=require("@codemirror/state"),Oa=require("@codemirror/view");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pd=new WeakMap;function Da(t){let e=gd(t);t.cm.dispatch({effects:e.reconfigure([Rr.EditorState.readOnly.of(!0),Oa.EditorView.editable.of(!1)])})}i(Da,"lockEditor");function md(t){let e=gd(t);t.cm.dispatch({effects:e.reconfigure([Rr.EditorState.readOnly.of(!1),Oa.EditorView.editable.of(!0)])})}i(md,"unlockEditor");function gd(t){let e=pd.get(t);return e||(e=new Rr.Compartment,pd.set(t,e)),e}i(gd,"ensureCompartment");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Qn(t,e,n,r={}){let a={...{noticeDelayInMilliseconds:200,shouldFailOnMissingFile:!0,shouldLockEditorWhileProcessing:!0,shouldShowNoticeWhileProcessing:!0},...r},l=new AbortController;a.abortSignal=Dr(a.abortSignal,l.signal);let c=!0,d=null,h=Pe(t,e);a.shouldShowNoticeWhileProcessing&&window.setTimeout(()=>{c&&(d=new kn.Notice(createFragment(g=>{g.appendText(`Processing file ${h}...`),g.createEl("br"),g.createEl("button",{text:"Cancel"}).addEventListener("click",()=>{l.abort()})}),0))},a.noticeDelayInMilliseconds);let p=null;if(a.shouldLockEditorWhileProcessing){for(let g of t.workspace.getLeavesOfType(ji.Markdown))g.view instanceof kn.MarkdownView&&g.view.file?.path===h&&Da(g.view.editor);p=t.workspace.on("active-leaf-change",g=>{g?.view instanceof kn.MarkdownView&&g.view.file?.path===h&&Da(g.view.editor)})}try{await Bi(async g=>{g.throwIfAborted();let y=await La(t,e);if(g.throwIfAborted(),y===null)return S();let w=await jn(n,g,y);if(g.throwIfAborted(),w===null)return!1;let C=!0;if(!await yd(t,e,async A=>{g.throwIfAborted(),await t.vault.process(A,F=>(g.throwIfAborted(),F!==y?(Qe("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:F,expectedContent:y,path:A.path}),C=!1,F):w)),g.throwIfAborted()}))return S();return C;function S(){if(a.shouldFailOnMissingFile)throw new Error(`File '${h}' not found`);return!0}},a)}finally{c=!1,d?.hide(),p?.e.offref(p);for(let g of t.workspace.getLeavesOfType(ji.Markdown))g.view instanceof kn.MarkdownView&&g.view.file?.path===h&&md(g.view.editor)}}i(Qn,"process");async function La(t,e){let n=null;return await yd(t,e,async r=>{await Qi(t,r),n=await t.vault.read(r)}),n}i(La,"readSafe");async function Qi(t,e){if(!mt(t,e))return;let n=Pe(t,e);for(let r of t.workspace.getLeavesOfType(ji.Markdown))r.view instanceof kn.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}i(Qi,"saveNote");async function yd(t,e,n){let r=Pe(t,e),s=nn(t,r);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(a){if(s=nn(t,r),!s||s.deleted)return!1;throw a}}i(yd,"invokeFileActionSafe");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function wd(t,e,n){if(!n)return;let r=Ge(t,e);if(!mt(t,r))throw new Error(`File ${r.path} is not a markdown file.`);n===r.basename||n===r.name||await Rw(t,e,s=>{s.aliases??=[],s.aliases.includes(n)||s.aliases.push(n)})}i(wd,"addAlias");async function Rw(t,e,n,r={}){if(!mt(t,e))throw new Error(`File ${Pe(t,e)} is not a markdown file.`);await Qn(t,e,async(s,a)=>{s.throwIfAborted();let l=bn(a),c=bn(a),d=await n(c,s);return s.throwIfAborted(),d===null?null:Ke(l,c)?a:Ji(a,c)},r)}i(Rw,"processFrontmatter");var lr=require("obsidian");var Nw={};function xn(t,e){let n=e||Nw,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kd(t,r,s)}i(xn,"toString");function kd(t,e,n){if(Bw(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bd(t.children,e,n)}return Array.isArray(t)?bd(t,e,n):""}i(kd,"one");function bd(t,e,n){let r=[],s=-1;for(;++s<t.length;)r[s]=kd(t[s],e,n);return r.join("")}i(bd,"all");function Bw(t){return!!(t&&typeof t=="object")}i(Bw,"node");var xd=document.createElement("i");function Xn(t){let e="&"+t+";";xd.innerHTML=e;let n=xd.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}i(Xn,"decodeNamedCharacterReference");function _e(t,e,n,r){let s=t.length,a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}i(_e,"splice");function Ye(t,e){return t.length>0?(_e(t,t.length,0,e),t):e}i(Ye,"push");var vd={}.hasOwnProperty;function Cd(t){let e={},n=-1;for(;++n<t.length;)Vw(e,t[n]);return e}i(Cd,"combineExtensions");function Vw(t,e){let n;for(n in e){let s=(vd.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){vd.call(s,l)||(s[l]=[]);let c=a[l];Ww(s[l],Array.isArray(c)?c:c?[c]:[])}}}i(Vw,"syntaxExtension");function Ww(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_e(t,0,0,r)}i(Ww,"constructs");function Xi(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}i(Xi,"decodeNumericCharacterReference");function Ht(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}i(Ht,"normalizeIdentifier");var tt=rn(/[A-Za-z]/),ze=rn(/[\dA-Za-z]/),Ad=rn(/[#-'*+\--9=?A-Z^-~]/);function Nr(t){return t!==null&&(t<32||t===127)}i(Nr,"asciiControl");var Br=rn(/\d/),Sd=rn(/[\dA-Fa-f]/),Ed=rn(/[!-/:-@[-`{-~]/);function V(t){return t!==null&&t<-2}i(V,"markdownLineEnding");function we(t){return t!==null&&(t<0||t===32)}i(we,"markdownLineEndingOrSpace");function q(t){return t===-2||t===-1||t===32}i(q,"markdownSpace");var Td=rn(/\p{P}|\p{S}/u),Fd=rn(/\s/);function rn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}i(rn,"regexCheck");function J(t,e,n,r){let s=r?r-1:Number.POSITIVE_INFINITY,a=0;return l;function l(d){return q(d)?(t.enter(n),c(d)):e(d)}function c(d){return q(d)&&a++<s?(t.consume(d),c):(t.exit(n),e(d))}}i(J,"factorySpace");var Pd={tokenize:Yw};function Yw(t){let e=t.attempt(this.parser.constructs.contentInitial,r,s),n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),J(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return V(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}i(Yw,"initializeContent");var Id={tokenize:zw},_d={tokenize:Uw};function zw(t){let e=this,n=[],r=0,s,a,l;return c;function c(I){if(r<n.length){let D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,d,h)(I)}return h(I)}function d(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&F();let D=e.events.length,W=D,E;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){E=e.events[W][1].end;break}A(r);let K=D;for(;K<e.events.length;)e.events[K][1].end={...E},K++;return _e(e.events,W+1,0,e.events.slice(D)),e.events.length=K,h(I)}return c(I)}function h(I){if(r===n.length){if(!s)return y(I);if(s.currentConstruct&&s.currentConstruct.concrete)return C(I);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_d,p,g)(I)}function p(I){return s&&F(),A(r),y(I)}function g(I){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,C(I)}function y(I){return e.containerState={},t.attempt(_d,w,C)(I)}function w(I){return r++,n.push([e.currentConstruct,e.containerState]),y(I)}function C(I){if(I===null){s&&F(),A(0),t.consume(I);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),P(I)}function P(I){if(I===null){S(t.exit("chunkFlow"),!0),A(0),t.consume(I);return}return V(I)?(t.consume(I),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(I),P)}function S(I,D){let W=e.sliceStream(I);if(D&&W.push(null),I.previous=a,a&&(a.next=I),a=I,s.defineSkip(I.start),s.write(W),e.parser.lazy[I.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<l&&(!s.events[E][1].end||s.events[E][1].end.offset>l))return;let K=e.events.length,G=K,$,Q;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if($){Q=e.events[G][1].end;break}$=!0}for(A(r),E=K;E<e.events.length;)e.events[E][1].end={...Q},E++;_e(e.events,G+1,0,e.events.slice(K)),e.events.length=E}}function A(I){let D=n.length;for(;D-- >I;){let W=n[D];e.containerState=W[1],W[0].exit.call(e,t)}n.length=I}function F(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}i(zw,"initializeDocument");function Uw(t,e,n){return J(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}i(Uw,"tokenizeContainer");function er(t){if(t===null||we(t)||Fd(t))return 1;if(Td(t))return 2}i(er,"classifyCharacter");function tr(t,e,n){let r=[],s=-1;for(;++s<t.length;){let a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}i(tr,"resolveAll");var Vr={name:"attention",resolveAll:$w,tokenize:Hw};function $w(t,e){let n=-1,r,s,a,l,c,d,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[r][1].end},y={...t[n][1].start};Md(g,-d),Md(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ye(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ye(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=Ye(h,tr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ye(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ye(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,_e(t,r-1,n-r+3,h),n=r+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}i($w,"resolveAllAttention");function Hw(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=er(r),a;return l;function l(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;let h=t.exit("attentionSequence"),p=er(d),g=!p||p===2&&s||n.includes(d),y=!s||s===2&&p||n.includes(r);return h._open=!!(a===42?g:g&&(s||!y)),h._close=!!(a===42?y:y&&(p||!g)),e(d)}}i(Hw,"tokenizeAttention");function Md(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}i(Md,"movePoint");var Ra={name:"autolink",tokenize:jw};function jw(t,e,n){let r=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return tt(w)?(t.consume(w),l):w===64?n(w):h(w)}function l(w){return w===43||w===45||w===46||ze(w)?(r=1,c(w)):h(w)}function c(w){return w===58?(t.consume(w),r=0,d):(w===43||w===45||w===46||ze(w))&&r++<32?(t.consume(w),c):(r=0,h(w))}function d(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Nr(w)?n(w):(t.consume(w),d)}function h(w){return w===64?(t.consume(w),p):Ad(w)?(t.consume(w),h):n(w)}function p(w){return ze(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),r=0,p):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||ze(w))&&r++<63){let C=w===45?y:g;return t.consume(w),C}return n(w)}}i(jw,"tokenizeAutolink");var sn={partial:!0,tokenize:Kw};function Kw(t,e,n){return r;function r(a){return q(a)?J(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||V(a)?e(a):n(a)}}i(Kw,"tokenizeBlankLine");var es={continuation:{tokenize:qw},exit:Zw,name:"blockQuote",tokenize:Gw};function Gw(t,e,n){let r=this;return s;function s(l){if(l===62){let c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return q(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}i(Gw,"tokenizeBlockQuoteStart");function qw(t,e,n){let r=this;return s;function s(l){return q(l)?J(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(es,e,n)(l)}}i(qw,"tokenizeBlockQuoteContinuation");function Zw(t){t.exit("blockQuote")}i(Zw,"exit");var ts={name:"characterEscape",tokenize:Jw};function Jw(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return Ed(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}i(Jw,"tokenizeCharacterEscape");var ns={name:"characterReference",tokenize:Qw};function Qw(t,e,n){let r=this,s=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),d}function d(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,l=ze,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=Sd,p):(t.enter("characterReferenceValue"),a=7,l=Br,p(g))}function p(g){if(g===59&&s){let y=t.exit("characterReferenceValue");return l===ze&&!Xn(r.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&s++<a?(t.consume(g),p):n(g)}}i(Qw,"tokenizeCharacterReference");var Od={partial:!0,tokenize:e0},rs={concrete:!0,name:"codeFenced",tokenize:Xw};function Xw(t,e,n){let r=this,s={partial:!0,tokenize:W},a=0,l=0,c;return d;function d(E){return h(E)}function h(E){let K=r.events[r.events.length-1];return a=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===c?(l++,t.consume(E),p):l<3?n(E):(t.exit("codeFencedFenceSequence"),q(E)?J(t,g,"whitespace")(E):g(E))}function g(E){return E===null||V(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(Od,P,D)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||V(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(E)):q(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),J(t,w,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),y)}function w(E){return E===null||V(E)?g(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(E))}function C(E){return E===null||V(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(E)):E===96&&E===c?n(E):(t.consume(E),C)}function P(E){return t.attempt(s,D,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),A}function A(E){return a>0&&q(E)?J(t,F,"linePrefix",a+1)(E):F(E)}function F(E){return E===null||V(E)?t.check(Od,P,D)(E):(t.enter("codeFlowValue"),I(E))}function I(E){return E===null||V(E)?(t.exit("codeFlowValue"),F(E)):(t.consume(E),I)}function D(E){return t.exit("codeFenced"),e(E)}function W(E,K,G){let $=0;return Q;function Q(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),ue}function ue(U){return E.enter("codeFencedFence"),q(U)?J(E,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):te(U)}function te(U){return U===c?(E.enter("codeFencedFenceSequence"),L(U)):G(U)}function L(U){return U===c?($++,E.consume(U),L):$>=l?(E.exit("codeFencedFenceSequence"),q(U)?J(E,z,"whitespace")(U):z(U)):G(U)}function z(U){return U===null||V(U)?(E.exit("codeFencedFence"),K(U)):G(U)}}}i(Xw,"tokenizeCodeFenced");function e0(t,e,n){let r=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}i(e0,"tokenizeNonLazyContinuation");var Wr={name:"codeIndented",tokenize:n0},t0={partial:!0,tokenize:r0};function n0(t,e,n){let r=this;return s;function s(h){return t.enter("codeIndented"),J(t,a,"linePrefix",5)(h)}function a(h){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?d(h):V(h)?t.attempt(t0,l,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||V(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}i(n0,"tokenizeCodeIndented");function r0(t,e,n){let r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):J(t,a,"linePrefix",5)(l)}function a(l){let c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):V(l)?s(l):n(l)}}i(r0,"tokenizeFurtherStart");var Na={name:"codeText",previous:s0,resolve:i0,tokenize:o0};function i0(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}i(i0,"resolveCodeText");function s0(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}i(s0,"previous");function o0(t,e,n){let r=this,s=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),d(y)}function d(y){return y===96?(t.consume(y),s++,d):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(l=t.enter("codeTextSequence"),a=0,g(y)):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||V(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),p)}function g(y){return y===96?(t.consume(y),a++,g):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",p(y))}}i(o0,"tokenizeCodeText");var is=class{static{i(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let s=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Yr(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Yr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Yr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Yr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Yr(this.left,n.reverse())}}};function Yr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}i(Yr,"chunkedPush");function ss(t){let e={},n=-1,r,s,a,l,c,d,h,p=new is(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,a0(p,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return _e(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}i(ss,"subtokenize");function a0(t,e){let n=t.get(e)[1],r=t.get(e)[2],s=e-1,a=[],l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,d=[],h={},p,g,y=-1,w=n,C=0,P=0,S=[P];for(;w;){for(;t.get(++s)[1]!==w;);a.push(s),w._tokenizer||(p=r.sliceStream(w),w.next||p.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(P=y+1,S.push(P),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):S.pop(),y=S.length;y--;){let A=c.slice(S[y],S[y+1]),F=a.pop();d.push([F,F+A.length-1]),t.splice(F,2,A)}for(d.reverse(),y=-1;++y<d.length;)h[C+d[y][0]]=C+d[y][1],C+=d[y][1]-d[y][0]-1;return h}i(a0,"subcontent");var Ba={resolve:u0,tokenize:c0},l0={partial:!0,tokenize:d0};function u0(t){return ss(t),t}i(u0,"resolveContent");function c0(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):V(c)?t.check(l0,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}i(c0,"tokenizeContent");function d0(t,e,n){let r=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),J(t,a,"linePrefix")}function a(l){if(l===null||V(l))return n(l);let c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}i(d0,"tokenizeContinuation");function os(t,e,n,r,s,a,l,c,d){let h=d||Number.POSITIVE_INFINITY,p=0;return g;function g(A){return A===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(A),t.exit(a),y):A===null||A===32||A===41||Nr(A)?n(A):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),P(A))}function y(A){return A===62?(t.enter(a),t.consume(A),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===62?(t.exit("chunkString"),t.exit(c),y(A)):A===null||A===60||V(A)?n(A):(t.consume(A),A===92?C:w)}function C(A){return A===60||A===62||A===92?(t.consume(A),w):w(A)}function P(A){return!p&&(A===null||A===41||we(A))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(A)):p<h&&A===40?(t.consume(A),p++,P):A===41?(t.consume(A),p--,P):A===null||A===32||A===40||Nr(A)?n(A):(t.consume(A),A===92?S:P)}function S(A){return A===40||A===41||A===92?(t.consume(A),P):P(A)}}i(os,"factoryDestination");function as(t,e,n,r,s,a){let l=this,c=0,d;return h;function h(w){return t.enter(r),t.enter(s),t.consume(w),t.exit(s),t.enter(a),p}function p(w){return c>999||w===null||w===91||w===93&&!d||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(s),t.consume(w),t.exit(s),t.exit(r),e):V(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||V(w)||c++>999?(t.exit("chunkString"),p(w)):(t.consume(w),d||(d=!q(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}i(as,"factoryLabel");function ls(t,e,n,r,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(r),t.enter(s),t.consume(y),t.exit(s),l=y===40?41:y,d):n(y)}function d(y){return y===l?(t.enter(s),t.consume(y),t.exit(s),t.exit(r),e):(t.enter(a),h(y))}function h(y){return y===l?(t.exit(a),d(l)):y===null?n(y):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),J(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||V(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?g:p)}function g(y){return y===l||y===92?(t.consume(y),p):p(y)}}i(ls,"factoryTitle");function vn(t,e){let n;return r;function r(s){return V(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):q(s)?J(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}i(vn,"factoryWhitespace");var Va={name:"definition",tokenize:h0},f0={partial:!0,tokenize:p0};function h0(t,e,n){let r=this,s;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return as.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return s=Ht(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),d):n(w)}function d(w){return we(w)?vn(t,h)(w):h(w)}function h(w){return os(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return t.attempt(f0,g,g)(w)}function g(w){return q(w)?J(t,y,"whitespace")(w):y(w)}function y(w){return w===null||V(w)?(t.exit("definition"),r.parser.defined.push(s),e(w)):n(w)}}i(h0,"tokenizeDefinition");function p0(t,e,n){return r;function r(c){return we(c)?vn(t,s)(c):n(c)}function s(c){return ls(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return q(c)?J(t,l,"whitespace")(c):l(c)}function l(c){return c===null||V(c)?e(c):n(c)}}i(p0,"tokenizeTitleBefore");var Wa={name:"hardBreakEscape",tokenize:m0};function m0(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return V(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}i(m0,"tokenizeHardBreakEscape");var Ya={name:"headingAtx",resolve:g0,tokenize:y0};function g0(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_e(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}i(g0,"resolveHeadingAtx");function y0(t,e,n){let r=0;return s;function s(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(t.consume(p),l):p===null||we(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||V(p)?(t.exit("atxHeading"),e(p)):q(p)?J(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||we(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}i(y0,"tokenizeHeadingAtx");var Dd=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],za=["pre","script","style","textarea"];var Ua={concrete:!0,name:"htmlFlow",resolveTo:k0,tokenize:x0},w0={partial:!0,tokenize:C0},b0={partial:!0,tokenize:v0};function k0(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}i(k0,"resolveToHtmlFlow");function x0(t,e,n){let r=this,s,a,l,c,d;return h;function h(k){return p(k)}function p(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),y):k===47?(t.consume(k),a=!0,P):k===63?(t.consume(k),s=3,r.interrupt?e:v):tt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function y(k){return k===45?(t.consume(k),s=2,w):k===91?(t.consume(k),s=5,c=0,C):tt(k)?(t.consume(k),s=4,r.interrupt?e:v):n(k)}function w(k){return k===45?(t.consume(k),r.interrupt?e:v):n(k)}function C(k){let Ae="CDATA[";return k===Ae.charCodeAt(c++)?(t.consume(k),c===Ae.length?r.interrupt?e:te:C):n(k)}function P(k){return tt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||we(k)){let Ae=k===47,Ft=l.toLowerCase();return!Ae&&!a&&za.includes(Ft)?(s=1,r.interrupt?e(k):te(k)):Dd.includes(l.toLowerCase())?(s=6,Ae?(t.consume(k),A):r.interrupt?e(k):te(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?F(k):I(k))}return k===45||ze(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function A(k){return k===62?(t.consume(k),r.interrupt?e:te):n(k)}function F(k){return q(k)?(t.consume(k),F):Q(k)}function I(k){return k===47?(t.consume(k),Q):k===58||k===95||tt(k)?(t.consume(k),D):q(k)?(t.consume(k),I):Q(k)}function D(k){return k===45||k===46||k===58||k===95||ze(k)?(t.consume(k),D):W(k)}function W(k){return k===61?(t.consume(k),E):q(k)?(t.consume(k),W):I(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),d=k,K):q(k)?(t.consume(k),E):G(k)}function K(k){return k===d?(t.consume(k),d=null,$):k===null||V(k)?n(k):(t.consume(k),K)}function G(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||we(k)?W(k):(t.consume(k),G)}function $(k){return k===47||k===62||q(k)?I(k):n(k)}function Q(k){return k===62?(t.consume(k),ue):n(k)}function ue(k){return k===null||V(k)?te(k):q(k)?(t.consume(k),ue):n(k)}function te(k){return k===45&&s===2?(t.consume(k),Z):k===60&&s===1?(t.consume(k),ie):k===62&&s===4?(t.consume(k),oe):k===63&&s===3?(t.consume(k),v):k===93&&s===5?(t.consume(k),be):V(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(w0,pe,L)(k)):k===null||V(k)?(t.exit("htmlFlowData"),L(k)):(t.consume(k),te)}function L(k){return t.check(b0,z,pe)(k)}function z(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),U}function U(k){return k===null||V(k)?L(k):(t.enter("htmlFlowData"),te(k))}function Z(k){return k===45?(t.consume(k),v):te(k)}function ie(k){return k===47?(t.consume(k),l="",ce):te(k)}function ce(k){if(k===62){let Ae=l.toLowerCase();return za.includes(Ae)?(t.consume(k),oe):te(k)}return tt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ce):te(k)}function be(k){return k===93?(t.consume(k),v):te(k)}function v(k){return k===62?(t.consume(k),oe):k===45&&s===2?(t.consume(k),v):te(k)}function oe(k){return k===null||V(k)?(t.exit("htmlFlowData"),pe(k)):(t.consume(k),oe)}function pe(k){return t.exit("htmlFlow"),e(k)}}i(x0,"tokenizeHtmlFlow");function v0(t,e,n){let r=this;return s;function s(l){return V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}i(v0,"tokenizeNonLazyContinuationStart");function C0(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(sn,e,n)}}i(C0,"tokenizeBlankLineBefore");var $a={name:"htmlText",tokenize:A0};function A0(t,e,n){let r=this,s,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),W):v===63?(t.consume(v),I):tt(v)?(t.consume(v),G):n(v)}function h(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),a=0,C):tt(v)?(t.consume(v),F):n(v)}function p(v){return v===45?(t.consume(v),w):n(v)}function g(v){return v===null?n(v):v===45?(t.consume(v),y):V(v)?(l=g,ie(v)):(t.consume(v),g)}function y(v){return v===45?(t.consume(v),w):g(v)}function w(v){return v===62?Z(v):v===45?y(v):g(v)}function C(v){let oe="CDATA[";return v===oe.charCodeAt(a++)?(t.consume(v),a===oe.length?P:C):n(v)}function P(v){return v===null?n(v):v===93?(t.consume(v),S):V(v)?(l=P,ie(v)):(t.consume(v),P)}function S(v){return v===93?(t.consume(v),A):P(v)}function A(v){return v===62?Z(v):v===93?(t.consume(v),A):P(v)}function F(v){return v===null||v===62?Z(v):V(v)?(l=F,ie(v)):(t.consume(v),F)}function I(v){return v===null?n(v):v===63?(t.consume(v),D):V(v)?(l=I,ie(v)):(t.consume(v),I)}function D(v){return v===62?Z(v):I(v)}function W(v){return tt(v)?(t.consume(v),E):n(v)}function E(v){return v===45||ze(v)?(t.consume(v),E):K(v)}function K(v){return V(v)?(l=K,ie(v)):q(v)?(t.consume(v),K):Z(v)}function G(v){return v===45||ze(v)?(t.consume(v),G):v===47||v===62||we(v)?$(v):n(v)}function $(v){return v===47?(t.consume(v),Z):v===58||v===95||tt(v)?(t.consume(v),Q):V(v)?(l=$,ie(v)):q(v)?(t.consume(v),$):Z(v)}function Q(v){return v===45||v===46||v===58||v===95||ze(v)?(t.consume(v),Q):ue(v)}function ue(v){return v===61?(t.consume(v),te):V(v)?(l=ue,ie(v)):q(v)?(t.consume(v),ue):$(v)}function te(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),s=v,L):V(v)?(l=te,ie(v)):q(v)?(t.consume(v),te):(t.consume(v),z)}function L(v){return v===s?(t.consume(v),s=void 0,U):v===null?n(v):V(v)?(l=L,ie(v)):(t.consume(v),L)}function z(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||we(v)?$(v):(t.consume(v),z)}function U(v){return v===47||v===62||we(v)?$(v):n(v)}function Z(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ie(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ce}function ce(v){return q(v)?J(t,be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):be(v)}function be(v){return t.enter("htmlTextData"),l(v)}}i(A0,"tokenizeHtmlText");var Cn={name:"labelEnd",resolveAll:F0,resolveTo:P0,tokenize:_0},S0={tokenize:I0},E0={tokenize:M0},T0={tokenize:O0};function F0(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&_e(t,0,t.length,n),t}i(F0,"resolveAllLabelEnd");function P0(t,e){let n=t.length,r=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);let d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Ye(c,t.slice(a+1,a+r+3)),c=Ye(c,[["enter",p,e]]),c=Ye(c,tr(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),c=Ye(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=Ye(c,t.slice(l+1)),c=Ye(c,[["exit",d,e]]),_e(t,a,t.length,c),t}i(P0,"resolveToLabelEnd");function _0(t,e,n){let r=this,s=r.events.length,a,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return c;function c(y){return a?a._inactive?g(y):(l=r.parser.defined.includes(Ht(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),d):n(y)}function d(y){return y===40?t.attempt(S0,p,l?p:g)(y):y===91?t.attempt(E0,p,l?h:g)(y):l?p(y):g(y)}function h(y){return t.attempt(T0,p,g)(y)}function p(y){return e(y)}function g(y){return a._balanced=!0,n(y)}}i(_0,"tokenizeLabelEnd");function I0(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),s}function s(g){return we(g)?vn(t,a)(g):a(g)}function a(g){return g===41?p(g):os(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return we(g)?vn(t,d)(g):p(g)}function c(g){return n(g)}function d(g){return g===34||g===39||g===40?ls(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return we(g)?vn(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}i(I0,"tokenizeResource");function M0(t,e,n){let r=this;return s;function s(c){return as.call(r,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Ht(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}i(M0,"tokenizeReferenceFull");function O0(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}i(O0,"tokenizeReferenceCollapsed");var Ha={name:"labelStartImage",resolveAll:Cn.resolveAll,tokenize:D0};function D0(t,e,n){let r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}i(D0,"tokenizeLabelStartImage");var ja={name:"labelStartLink",resolveAll:Cn.resolveAll,tokenize:L0};function L0(t,e,n){let r=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}i(L0,"tokenizeLabelStartLink");var zr={name:"lineEnding",tokenize:R0};function R0(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),J(t,e,"linePrefix")}}i(R0,"tokenizeLineEnding");var An={name:"thematicBreak",tokenize:N0};function N0(t,e,n){let r=0,s;return a;function a(h){return t.enter("thematicBreak"),l(h)}function l(h){return s=h,c(h)}function c(h){return h===s?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||V(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===s?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),q(h)?J(t,c,"whitespace")(h):c(h))}}i(N0,"tokenizeThematicBreak");var De={continuation:{tokenize:Y0},exit:U0,name:"list",tokenize:W0},B0={partial:!0,tokenize:$0},V0={partial:!0,tokenize:z0};function W0(t,e,n){let r=this,s=r.events[r.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(w){let C=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:Br(w)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(An,n,h)(w):h(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(w)}return n(w)}function d(w){return Br(w)&&++l<10?(t.consume(w),d):(!r.interrupt||l<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(sn,r.interrupt?n:p,t.attempt(B0,y,g))}function p(w){return r.containerState.initialBlankLine=!0,a++,y(w)}function g(w){return q(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}i(W0,"tokenizeListStart");function Y0(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(sn,s,a);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,J(t,e,"listItemIndent",r.containerState.size+1)(c)}i(s,"onBlank");function a(c){return r.containerState.furtherBlankLines||!q(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(V0,e,l)(c))}i(a,"notBlank");function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,J(t,t.attempt(De,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}i(l,"notInCurrentItem")}i(Y0,"tokenizeListContinuation");function z0(t,e,n){let r=this;return J(t,s,"listItemIndent",r.containerState.size+1);function s(a){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}i(z0,"tokenizeIndent");function U0(t){t.exit(this.containerState.type)}i(U0,"tokenizeListEnd");function $0(t,e,n){let r=this;return J(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){let l=r.events[r.events.length-1];return!q(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}i($0,"tokenizeListItemPrefixWhitespace");var us={name:"setextUnderline",resolveTo:H0,tokenize:j0};function H0(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}i(H0,"resolveToSetextUnderline");function j0(t,e,n){let r=this,s;return a;function a(h){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),q(h)?J(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||V(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}i(j0,"tokenizeSetextUnderline");var Ld={tokenize:K0};function K0(t){let e=this,n=t.attempt(sn,r,t.attempt(this.parser.constructs.flowInitial,s,J(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Ba,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}i(K0,"initializeFlow");var Rd={resolveAll:Wd()},Nd=Vd("string"),Bd=Vd("text");function Vd(t){return{resolveAll:Wd(t==="text"?G0:void 0),tokenize:e};function e(n){let r=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(p){return h(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return h(p)?(n.exit("data"),a(p)):(n.consume(p),d)}function h(p){if(p===null)return!0;let g=s[p],y=-1;if(g)for(;++y<g.length;){let w=g[y];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}i(Vd,"initializeFactory");function Wd(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}i(Wd,"createResolver");function G0(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],s=e.sliceStream(r),a=s.length,l=-1,c=0,d;for(;a--;){let h=s[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}i(G0,"resolveAllLineSuffixes");var Ka={};$u(Ka,{attentionMarkers:()=>nb,contentInitial:()=>Z0,disable:()=>rb,document:()=>q0,flow:()=>Q0,flowInitial:()=>J0,insideSpan:()=>tb,string:()=>X0,text:()=>eb});var q0={42:De,43:De,45:De,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,62:es},Z0={91:Va},J0={[-2]:Wr,[-1]:Wr,32:Wr},Q0={35:Ya,42:An,45:[us,An],60:Ua,61:us,95:An,96:rs,126:rs},X0={38:ns,92:ts},eb={[-5]:zr,[-4]:zr,[-3]:zr,33:Ha,38:ns,42:Vr,60:[Ra,$a],91:ja,92:[Wa,ts],93:Cn,95:Vr,96:Na},tb={null:[Vr,Rd]},nb={null:[42,95]},rb={null:[]};function Yd(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},a=[],l=[],c=[],d=!0,h={attempt:$(K),check:$(G),consume:D,enter:W,exit:E,interrupt:$(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:A,events:[],now:S,parser:t,previous:null,sliceSerialize:C,sliceStream:P,write:w},g=e.tokenize.call(p,h),y;return e.resolveAll&&a.push(e),p;function w(L){return l=Ye(l,L),F(),l[l.length-1]!==null?[]:(Q(e,0),p.events=tr(a,p.events,p),p.events)}i(w,"write");function C(L,z){return sb(P(L),z)}i(C,"sliceSerialize");function P(L){return ib(l,L)}i(P,"sliceStream");function S(){let{_bufferIndex:L,_index:z,line:U,column:Z,offset:ie}=r;return{_bufferIndex:L,_index:z,line:U,column:Z,offset:ie}}i(S,"now");function A(L){s[L.line]=L.column,te()}i(A,"defineSkip");function F(){let L;for(;r._index<l.length;){let z=l[r._index];if(typeof z=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<z.length;)I(z.charCodeAt(r._bufferIndex));else I(z)}}i(F,"main");function I(L){d=void 0,y=L,g=g(L)}i(I,"go");function D(L){V(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,te()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=L,d=!0}i(D,"consume");function W(L,z){let U=z||{};return U.type=L,U.start=S(),p.events.push(["enter",U,p]),c.push(U),U}i(W,"enter");function E(L){let z=c.pop();return z.end=S(),p.events.push(["exit",z,p]),z}i(E,"exit");function K(L,z){Q(L,z.from)}i(K,"onsuccessfulconstruct");function G(L,z){z.restore()}i(G,"onsuccessfulcheck");function $(L,z){return U;function U(Z,ie,ce){let be,v,oe,pe;return Array.isArray(Z)?Ae(Z):"tokenize"in Z?Ae([Z]):k(Z);function k(ke){return dn;function dn(lt){let Pt=lt!==null&&ke[lt],Gt=lt!==null&&ke.null,mr=[...Array.isArray(Pt)?Pt:Pt?[Pt]:[],...Array.isArray(Gt)?Gt:Gt?[Gt]:[]];return Ae(mr)(lt)}}function Ae(ke){return be=ke,v=0,ke.length===0?ce:Ft(ke[v])}function Ft(ke){return dn;function dn(lt){return pe=ue(),oe=ke,ke.partial||(p.currentConstruct=ke),ke.name&&p.parser.constructs.disable.null.includes(ke.name)?cn(lt):ke.tokenize.call(z?Object.assign(Object.create(p),z):p,h,Kt,cn)(lt)}}function Kt(ke){return d=!0,L(oe,pe),ie}function cn(ke){return d=!0,pe.restore(),++v<be.length?Ft(be[v]):ce}}}i($,"constructFactory");function Q(L,z){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&_e(p.events,z,p.events.length-z,L.resolve(p.events.slice(z),p)),L.resolveTo&&(p.events=L.resolveTo(p.events,p))}i(Q,"addResult");function ue(){let L=S(),z=p.previous,U=p.currentConstruct,Z=p.events.length,ie=Array.from(c);return{from:Z,restore:ce};function ce(){r=L,p.previous=z,p.currentConstruct=U,p.events.length=Z,c=ie,te()}}i(ue,"store");function te(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}i(te,"accountForPotentialSkip")}i(Yd,"createTokenizer");function ib(t,e){let n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(r,a)];else{if(l=t.slice(n,s),r>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}i(ib,"sliceChunks");function sb(t,e){let n=-1,r=[],s;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,r.push(l)}return r.join("")}i(sb,"serializeChunks");function Ga(t){let r={constructs:Cd([Ka,...(t||{}).extensions||[]]),content:s(Pd),defined:[],document:s(Id),flow:s(Ld),lazy:{},string:s(Nd),text:s(Bd)};return r;function s(a){return l;function l(c){return Yd(r,a,c)}}}i(Ga,"parse");function qa(t){for(;!ss(t););return t}i(qa,"postprocess");var zd=/[\0\t\n\r]/g;function Za(){let t=1,e="",n=!0,r;return s;function s(a,l,c){let d=[],h,p,g,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(zd.lastIndex=g,h=zd.exec(a),y=h&&h.index!==void 0?h.index:a.length,w=a.charCodeAt(y),!h){e=a.slice(g);break}if(w===10&&g===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),g<y&&(d.push(a.slice(g,y)),t+=y-g),w){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}g=y+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}i(Za,"preprocess");var ob=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cs(t){return t.replace(ob,ab)}i(cs,"decodeString");function ab(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),a=s===120||s===88;return Xi(n.slice(a?2:1),a?16:10)}return Xn(n)||t}i(ab,"decode");function on(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Ud(t.position):"start"in t||"end"in t?Ud(t):"line"in t||"column"in t?Ja(t):""}i(on,"stringifyPosition");function Ja(t){return $d(t&&t.line)+":"+$d(t&&t.column)}i(Ja,"point");function Ud(t){return Ja(t&&t.start)+"-"+Ja(t&&t.end)}i(Ud,"position");function $d(t){return t&&typeof t=="number"?t:1}i($d,"index");var jd={}.hasOwnProperty;function Qa(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lb(n)(qa(Ga(n).document().write(Za()(t,e,!0))))}i(Qa,"fromMarkdown");function lb(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ne),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(Qr),blockQuote:a(lt),characterEscape:$,characterReference:$,codeFenced:a(Pt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Pt,l),codeText:a(Gt,l),codeTextData:$,data:$,codeFlowValue:$,definition:a(mr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Do),hardBreakEscape:a(Xr),hardBreakTrailing:a(Xr),htmlFlow:a(ei,l),htmlFlowData:$,htmlText:a(ei,l),htmlTextData:$,image:a(ti),label:l,link:a(Ne),listItem:a(Lo),listItemValue:y,listOrdered:a(Fn,g),listUnordered:a(Fn),paragraph:a(Ro),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Qr),strong:a(ni),thematicBreak:a(ri)},exit:{atxHeading:d(),atxHeadingSequence:W,autolink:d(),autolinkEmail:dn,autolinkProtocol:ke,blockQuote:d(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:Ft,characterReferenceMarkerNumeric:Ft,characterReferenceValue:Kt,characterReference:cn,codeFenced:d(S),codeFencedFence:P,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:Q,codeIndented:d(A),codeText:d(U),codeTextData:Q,data:Q,definition:d(),definitionDestinationString:D,definitionLabelString:F,definitionTitleString:I,emphasis:d(),hardBreakEscape:d(te),hardBreakTrailing:d(te),htmlFlow:d(L),htmlFlowData:Q,htmlText:d(z),htmlTextData:Q,image:d(ie),label:be,labelText:ce,lineEnding:ue,link:d(Z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Ae,resourceDestinationString:v,resourceTitleString:oe,resource:pe,setextHeading:d(G),setextHeadingLineSequence:K,setextHeadingText:E,strong:d(),thematicBreak:d()}};Kd(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let O={type:"root",children:[]},R={stack:[O],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},X=[],ae=-1;for(;++ae<_.length;)if(_[ae][1].type==="listOrdered"||_[ae][1].type==="listUnordered")if(_[ae][0]==="enter")X.push(ae);else{let Ie=X.pop();ae=s(_,Ie,ae)}for(ae=-1;++ae<_.length;){let Ie=e[_[ae][0]];jd.call(Ie,_[ae][1].type)&&Ie[_[ae][1].type].call(Object.assign({sliceSerialize:_[ae][2].sliceSerialize},R),_[ae][1])}if(R.tokenStack.length>0){let Ie=R.tokenStack[R.tokenStack.length-1];(Ie[1]||Hd).call(R,void 0,Ie[0])}for(O.position={start:an(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:an(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<e.transforms.length;)O=e.transforms[ae](O)||O;return O}function s(_,O,R){let X=O-1,ae=-1,Ie=!1,ut,Ue,rt,wt;for(;++X<=R;){let Ve=_[X];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?ae++:ae--,wt=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(ut&&!wt&&!ae&&!rt&&(rt=X),wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wt=void 0}if(!ae&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||ae===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(ut){let ct=X;for(Ue=void 0;ct--;){let dt=_[ct];if(dt[1].type==="lineEnding"||dt[1].type==="lineEndingBlank"){if(dt[0]==="exit")continue;Ue&&(_[Ue][1].type="lineEndingBlank",Ie=!0),dt[1].type="lineEnding",Ue=ct}else if(!(dt[1].type==="linePrefix"||dt[1].type==="blockQuotePrefix"||dt[1].type==="blockQuotePrefixWhitespace"||dt[1].type==="blockQuoteMarker"||dt[1].type==="listItemIndent"))break}rt&&(!Ue||rt<Ue)&&(ut._spread=!0),ut.end=Object.assign({},Ue?_[Ue][1].start:Ve[1].end),_.splice(Ue||X,0,["exit",ut,Ve[2]]),X++,R++}if(Ve[1].type==="listItemPrefix"){let ct={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};ut=ct,_.splice(X,0,["enter",ct,Ve[2]]),X++,R++,rt=void 0,wt=!0}}}return _[O][1]._spread=Ie,R}function a(_,O){return R;function R(X){c.call(this,_(X),X),O&&O.call(this,X)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(_,O,R){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([O,R||void 0]),_.position={start:an(O.start),end:void 0}}function d(_){return O;function O(R){_&&_.call(this,R),h.call(this,R)}}function h(_,O){let R=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==_.type&&(O?O.call(this,_,X[0]):(X[1]||Hd).call(this,_,X[0]));else throw new Error("Cannot close `"+_.type+"` ("+on({start:_.start,end:_.end})+"): it\u2019s not open");R.position.end=an(_.end)}function p(){return xn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(_){if(this.data.expectingFirstListItemValue){let O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function w(){let _=this.resume(),O=this.stack[this.stack.length-1];O.lang=_}function C(){let _=this.resume(),O=this.stack[this.stack.length-1];O.meta=_}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/(\r?\n|\r)$/g,"")}function F(_){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=Ht(this.sliceSerialize(_)).toLowerCase()}function I(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function D(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function W(_){let O=this.stack[this.stack.length-1];if(!O.depth){let R=this.sliceSerialize(_).length;O.depth=R}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function K(_){let O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function $(_){let R=this.stack[this.stack.length-1].children,X=R[R.length-1];(!X||X.type!=="text")&&(X=Be(),X.position={start:an(_.start),end:void 0},R.push(X)),this.stack.push(X)}function Q(_){let O=this.stack.pop();O.value+=this.sliceSerialize(_),O.position.end=an(_.end)}function ue(_){let O=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=O.children[O.children.length-1];R.position.end=an(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(O.type)&&($.call(this,_),Q.call(this,_))}function te(){this.data.atHardBreak=!0}function L(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function z(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function U(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function Z(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ie(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ce(_){let O=this.sliceSerialize(_),R=this.stack[this.stack.length-2];R.label=cs(O),R.identifier=Ht(O).toLowerCase()}function be(){let _=this.stack[this.stack.length-1],O=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let X=_.children;R.children=X}else R.alt=O}function v(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function oe(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function pe(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Ae(_){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=Ht(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function Ft(_){this.data.characterReferenceType=_.type}function Kt(_){let O=this.sliceSerialize(_),R=this.data.characterReferenceType,X;R?(X=Xi(O,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=Xn(O);let ae=this.stack[this.stack.length-1];ae.value+=X}function cn(_){let O=this.stack.pop();O.position.end=an(_.end)}function ke(_){Q.call(this,_);let O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(_)}function dn(_){Q.call(this,_);let O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(_)}function lt(){return{type:"blockquote",children:[]}}function Pt(){return{type:"code",lang:null,meta:null,value:""}}function Gt(){return{type:"inlineCode",value:""}}function mr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Do(){return{type:"emphasis",children:[]}}function Qr(){return{type:"heading",depth:0,children:[]}}function Xr(){return{type:"break"}}function ei(){return{type:"html",value:""}}function ti(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Fn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function Lo(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function Ro(){return{type:"paragraph",children:[]}}function ni(){return{type:"strong",children:[]}}function Be(){return{type:"text",value:""}}function ri(){return{type:"thematicBreak"}}}i(lb,"compiler");function an(t){return{line:t.line,column:t.column,offset:t.offset}}i(an,"point");function Kd(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Kd(t,r):ub(t,r)}}i(Kd,"configure");function ub(t,e){let n;for(n in e)if(jd.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}i(ub,"extension");function Hd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+on({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+on({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+on({start:e.start,end:e.end})+") is still open")}i(Hd,"defaultOnError");function nr(t){let e=this;e.parser=n;function n(r){return Qa(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}i(n,"parser")}i(nr,"remarkParse");var Gd={}.hasOwnProperty;function qd(t,e){let n=e||{};function r(s,...a){let l=r.invalid,c=r.handlers;if(s&&Gd.call(s,t)){let d=String(s[t]);l=Gd.call(c,d)?c[d]:r.unknown}if(l)return l.call(this,s,...a)}return i(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}i(qd,"zwitch");var cb={}.hasOwnProperty;function Xa(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Xa(t,e.extensions[n]);for(r in e)if(cb.call(e,r))switch(r){case"extensions":break;case"unsafe":{Zd(t[r],e[r]);break}case"join":{Zd(t[r],e[r]);break}case"handlers":{db(t[r],e[r]);break}default:t.options[r]=e[r]}return t}i(Xa,"configure");function Zd(t,e){e&&t.push(...e)}i(Zd,"list");function db(t,e){e&&Object.assign(t,e)}i(db,"map");function Jd(t,e,n,r){let s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),fb);return s(),l}i(Jd,"blockquote");function fb(t,e,n){return">"+(n?"":" ")+t}i(fb,"map");function ds(t,e){return Qd(t,e.inConstruct,!0)&&!Qd(t,e.notInConstruct,!1)}i(ds,"patternInScope");function Qd(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}i(Qd,"listInScope");function el(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&ds(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}i(el,"hardBreak");function Xd(t,e){let n=String(t),r=n.indexOf(e),s=r,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++a>l&&(l=a):a=1,s=r+e.length,r=n.indexOf(e,s);return l}i(Xd,"longestStreak");function Ur(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}i(Ur,"formatCodeAsIndented");function ef(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}i(ef,"checkFence");function tf(t,e,n,r){let s=ef(n),a=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(Ur(t,n)){let g=n.enter("codeIndented"),y=n.indentLines(a,hb);return g(),y}let c=n.createTracker(r),d=s.repeat(Math.max(Xd(a,s)+1,3)),h=n.enter("codeFenced"),p=c.move(d);if(t.lang){let g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(d),h(),p}i(tf,"code");function hb(t,e,n){return(n?"":"    ")+t}i(hb,"map");function rr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}i(rr,"checkQuote");function nf(t,e,n,r){let s=rr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),d=n.createTracker(r),h=d.move("[");return h+=d.move(n.safe(n.associationId(t),{before:h,after:"]",...d.current()})),h+=d.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+s),h+=d.move(n.safe(t.title,{before:h,after:s,...d.current()})),h+=d.move(s),c()),l(),h}i(nf,"definition");function rf(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}i(rf,"checkEmphasis");function nt(t){return"&#x"+t.toString(16).toUpperCase()+";"}i(nt,"encodeCharacterReference");function ir(t,e,n){let r=er(t),s=er(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(ir,"encodeInfo");tl.peek=pb;function tl(t,e,n,r){let s=rf(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(s),d=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=d.charCodeAt(0),p=ir(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(d=nt(h)+d.slice(1));let g=d.charCodeAt(d.length-1),y=ir(r.after.charCodeAt(0),g,s);y.inside&&(d=d.slice(0,-1)+nt(g));let w=l.move(s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+w}i(tl,"emphasis");function pb(t,e,n){return n.options.emphasis||"*"}i(pb,"emphasisPeek");var sr=i((function(t){if(t==null)return wb;if(typeof t=="function")return fs(t);if(typeof t=="object")return Array.isArray(t)?mb(t):gb(t);if(typeof t=="string")return yb(t);throw new Error("Expected function, string, or object as test")}),"convert");function mb(t){let e=[],n=-1;for(;++n<t.length;)e[n]=sr(t[n]);return fs(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}i(mb,"anyFactory");function gb(t){let e=t;return fs(n);function n(r){let s=r,a;for(a in t)if(s[a]!==e[a])return!1;return!0}}i(gb,"propertiesFactory");function yb(t){return fs(e);function e(n){return n&&n.type===t}}i(yb,"typeFactory");function fs(t){return e;function e(n,r,s){return!!(bb(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}i(fs,"castFactory");function wb(){return!0}i(wb,"ok");function bb(t){return t!==null&&typeof t=="object"&&"type"in t}i(bb,"looksLikeANode");function sf(t){return"\x1B[33m"+t+"\x1B[39m"}i(sf,"color");var of=[],hs=!0,Sn=!1,ps="skip";function nl(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;let a=sr(s),l=r?-1:1;c(t,void 0,[])();function c(d,h,p){let g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+sf(d.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=of,C,P,S;if((!e||a(d,h,p[p.length-1]||void 0))&&(w=kb(n(d,p)),w[0]===Sn))return w;if("children"in d&&d.children){let A=d;if(A.children&&w[0]!==ps)for(P=(r?A.children.length:-1)+l,S=p.concat(A);P>-1&&P<A.children.length;){let F=A.children[P];if(C=c(F,P,S)(),C[0]===Sn)return C;P=typeof C[1]=="number"?C[1]:P+l}}return w}}i(c,"factory")}i(nl,"visitParents");function kb(t){return Array.isArray(t)?t:typeof t=="number"?[hs,t]:t==null?of:[t]}i(kb,"toResult");function $r(t,e,n,r){let s,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=r),nl(t,a,c,s);function c(d,h){let p=h[h.length-1],g=p?p.children.indexOf(d):void 0;return l(d,g,p)}i(c,"overload")}i($r,"visit");function ms(t,e){let n=!1;return $r(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Sn}),!!((!t.depth||t.depth<3)&&xn(t)&&(e.options.setext||n))}i(ms,"formatHeadingAsSetext");function af(t,e,n,r){let s=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(ms(t,n)){let p=n.enter("headingSetext"),g=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(s),c=n.enter("headingAtx"),d=n.enter("phrasing");a.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(h)&&(h=nt(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),d(),c(),h}i(af,"heading");rl.peek=xb;function rl(t){return t.value||""}i(rl,"html");function xb(){return"<"}i(xb,"htmlPeek");il.peek=vb;function il(t,e,n,r){let s=rr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),d=n.createTracker(r),h=d.move("![");return h+=d.move(n.safe(t.alt,{before:h,after:"]",...d.current()})),h+=d.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":")",...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+s),h+=d.move(n.safe(t.title,{before:h,after:s,...d.current()})),h+=d.move(s),c()),h+=d.move(")"),l(),h}i(il,"image");function vb(){return"!"}i(vb,"imagePeek");sl.peek=Cb;function sl(t,e,n,r){let s=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(r),d=c.move("!["),h=n.safe(t.alt,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?d+=c.move(g+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}i(sl,"imageReference");function Cb(){return"!"}i(Cb,"imageReferencePeek");ol.peek=Ab;function ol(t,e,n){let r=t.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),d;if(l.atBreak)for(;d=c.exec(r);){let h=d.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(d.index+1)}}return s+r+s}i(ol,"inlineCode");function Ab(){return"`"}i(Ab,"inlineCodePeek");function al(t,e){let n=xn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}i(al,"formatLinkAsAutolink");ll.peek=Sb;function ll(t,e,n,r){let s=rr(n),a=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r),c,d;if(al(t,n)){let p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),d=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(d=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${a}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),d()),h+=l.move(")"),c(),h}i(ll,"link");function Sb(t,e,n){return al(t,n)?"<":"["}i(Sb,"linkPeek");ul.peek=Eb;function ul(t,e,n,r){let s=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(r),d=c.move("["),h=n.containerPhrasing(t,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?d+=c.move(g+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}i(ul,"linkReference");function Eb(){return"["}i(Eb,"linkReferencePeek");function or(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}i(or,"checkBullet");function lf(t){let e=or(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}i(lf,"checkBulletOther");function uf(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}i(uf,"checkBulletOrdered");function gs(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}i(gs,"checkRule");function cf(t,e,n,r){let s=n.enter("list"),a=n.bulletCurrent,l=t.ordered?uf(n):or(n),c=t.ordered?l==="."?")":".":lf(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),gs(n)===l&&p){let g=-1;for(;++g<t.children.length;){let y=t.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;let h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=a,s(),h}i(cf,"list");function df(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}i(df,"checkListItemIndent");function ff(t,e,n,r){let s=df(n),a=n.bulletCurrent||or(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);let d=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return d(),h;function p(g,y,w){return y?(w?"":" ".repeat(l))+g:(w?a:a+" ".repeat(l-a.length))+g}i(p,"map")}i(ff,"listItem");function hf(t,e,n,r){let s=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,r);return a(),s(),l}i(hf,"paragraph");var cl=sr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pf(t,e,n,r){return(t.children.some(function(l){return cl(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}i(pf,"root");function mf(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}i(mf,"checkStrong");dl.peek=Tb;function dl(t,e,n,r){let s=mf(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(s+s),d=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=d.charCodeAt(0),p=ir(r.before.charCodeAt(r.before.length-1),h,s);p.inside&&(d=nt(h)+d.slice(1));let g=d.charCodeAt(d.length-1),y=ir(r.after.charCodeAt(0),g,s);y.inside&&(d=d.slice(0,-1)+nt(g));let w=l.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+w}i(dl,"strong");function Tb(t,e,n){return n.options.strong||"*"}i(Tb,"strongPeek");function gf(t,e,n,r){return n.safe(t.value,r)}i(gf,"text");function yf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}i(yf,"checkRuleRepetition");function wf(t,e,n){let r=(gs(n)+(n.options.ruleSpaces?" ":"")).repeat(yf(n));return n.options.ruleSpaces?r.slice(0,-1):r}i(wf,"thematicBreak");var bf={blockquote:Jd,break:el,code:tf,definition:nf,emphasis:tl,hardBreak:el,heading:af,html:rl,image:il,imageReference:sl,inlineCode:ol,link:ll,linkReference:ul,list:cf,listItem:ff,paragraph:hf,root:pf,strong:dl,text:gf,thematicBreak:wf};var kf=[Fb];function Fb(t,e,n,r){if(e.type==="code"&&Ur(e,r)&&(t.type==="list"||t.type===e.type&&Ur(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ms(e,r))?void 0:n.spread?1:0}i(Fb,"joinDefaults");var En=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],xf=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:En},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:En},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:En},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:En},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:En},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:En},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:En},{atBreak:!0,character:"~"}];function vf(t){return t.label||!t.identifier?t.label||"":cs(t.identifier)}i(vf,"association");function Cf(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}i(Cf,"compilePattern");function Af(t,e,n){let r=e.indexStack,s=t.children||[],a=[],l=-1,c=n.before,d;r.push(-1);let h=e.createTracker(n);for(;++l<s.length;){let p=s[l],g;if(r[r.length-1]=l,l+1<s.length){let C=e.handle.handlers[s[l+1].type];C&&C.peek&&(C=C.peek),g=C?C(s[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&p.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",h=e.createTracker(n),h.move(a.join("")));let y=e.handle(p,t,e,{...h.current(),after:g,before:c});d&&d===y.slice(0,1)&&(y=nt(d.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+nt(c.charCodeAt(0))),w.after&&(d=g)),h.move(y),a.push(y),c=y.slice(-1)}return r.pop(),a.join("")}i(Af,"containerPhrasing");function Sf(t,e,n){let r=e.indexStack,s=t.children||[],a=e.createTracker(n),l=[],c=-1;for(r.push(-1);++c<s.length;){let d=s[c];r[r.length-1]=c,l.push(a.move(e.handle(d,t,e,{before:`
`,after:`
`,...a.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),c<s.length-1&&l.push(a.move(Pb(d,s[c+1],t,e)))}return r.pop(),l.join("")}i(Sf,"containerFlow");function Pb(t,e,n,r){let s=r.join.length;for(;s--;){let a=r.join[s](t,e,n,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}i(Pb,"between");var _b=/\r?\n|\r/g;function Ef(t,e){let n=[],r=0,s=0,a;for(;a=_b.exec(t);)l(t.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,s++;return l(t.slice(r)),n.join("");function l(c){n.push(e(c,s,!c))}i(l,"one")}i(Ef,"indentLines");function Ff(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),s=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let p=t.unsafe[c];if(!ds(t.stack,p))continue;let g=t.compilePattern(p),y;for(;y=g.exec(r);){let w="before"in p||!!p.atBreak,C="after"in p,P=y.index+(w?y[1].length:0);s.includes(P)?(l[P].before&&!w&&(l[P].before=!1),l[P].after&&!C&&(l[P].after=!1)):(s.push(P),l[P]={before:w,after:C})}}s.sort(Ib);let d=n.before?n.before.length:0,h=r.length-(n.after?n.after.length:0);for(c=-1;++c<s.length;){let p=s[c];p<d||p>=h||p+1<h&&s[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||s[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(d!==p&&a.push(Tf(r.slice(d,p),"\\")),d=p,/[!-/:-@[-`{-~]/.test(r.charAt(p))&&(!n.encode||!n.encode.includes(r.charAt(p)))?a.push("\\"):(a.push(nt(r.charCodeAt(p))),d++))}return a.push(Tf(r.slice(d,h),n.after)),a.join("")}i(Ff,"safe");function Ib(t,e){return t-e}i(Ib,"numerical");function Tf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],s=[],a=t+e,l=-1,c=0,d;for(;d=n.exec(a);)r.push(d.index);for(;++l<r.length;)c!==r[l]&&s.push(t.slice(c,r[l])),s.push("\\"),c=r[l];return s.push(t.slice(c)),s.join("")}i(Tf,"escapeBackslashes");function Pf(t){let e=t||{},n=e.now||{},r=e.lineShift||0,s=n.line||1,a=n.column||1;return{move:d,current:l,shift:c};function l(){return{now:{line:s,column:a},lineShift:r}}function c(h){r+=h}function d(h){let p=h||"",g=p.split(/\r?\n|\r/g),y=g[g.length-1];return s+=g.length-1,a=g.length===1?a+y.length:1+y.length+r,p}}i(Pf,"track");function fl(t,e){let n=e||{},r={associationId:vf,containerPhrasing:Lb,containerFlow:Rb,createTracker:Pf,compilePattern:Cf,enter:a,handlers:{...bf},handle:void 0,indentLines:Ef,indexStack:[],join:[...kf],options:{},safe:Nb,stack:[],unsafe:[...xf]};Xa(r,n),r.options.tightDefinitions&&r.join.push(Db),r.handle=qd("type",{invalid:Mb,unknown:Ob,handlers:r.handlers});let s=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function a(l){return r.stack.push(l),c;function c(){r.stack.pop()}i(c,"exit")}i(a,"enter")}i(fl,"toMarkdown");function Mb(t){throw new Error("Cannot handle value `"+t+"`, expected node")}i(Mb,"invalid");function Ob(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}i(Ob,"unknown");function Db(t,e){if(t.type==="definition"&&t.type===e.type)return 0}i(Db,"joinDefinition");function Lb(t,e){return Af(t,this,e)}i(Lb,"containerPhrasingBound");function Rb(t,e){return Sf(t,this,e)}i(Rb,"containerFlowBound");function Nb(t,e){return Ff(this,t,e)}i(Nb,"safeBound");function ys(t){let e=this;e.compiler=n;function n(r){return fl(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}i(n,"compiler")}i(ys,"remarkStringify");function hl(t){if(t)throw t}i(hl,"bail");var xs=Je(Bf(),1);function Hr(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}i(Hr,"isPlainObject");function pl(){let t=[],e={run:n,use:r};return e;function n(...s){let a=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(d,...h){let p=t[++a],g=-1;if(d){l(d);return}for(;++g<s.length;)(h[g]===null||h[g]===void 0)&&(h[g]=s[g]);s=h,p?Vf(p,c)(...h):l(null,...h)}i(c,"next")}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}i(pl,"trough");function Vf(t,e){let n;return r;function r(...l){let c=t.length>l.length,d;c&&l.push(s);try{d=t.apply(this,l)}catch(h){let p=h;if(c&&n)throw p;return s(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,s):d instanceof Error?s(d):a(d))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}i(Vf,"wrap");var Te=class extends Error{static{i(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){let d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=on(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Te.prototype.file="";Te.prototype.name="";Te.prototype.reason="";Te.prototype.message="";Te.prototype.stack="";Te.prototype.column=void 0;Te.prototype.line=void 0;Te.prototype.ancestors=void 0;Te.prototype.cause=void 0;Te.prototype.fatal=void 0;Te.prototype.place=void 0;Te.prototype.ruleId=void 0;Te.prototype.source=void 0;var ot=Je(require("node:path"),1);var ml=Je(require("node:process"),1);var gl=require("node:url");function bs(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}i(bs,"isUrl");var yl=["history","path","basename","stem","extname","dirname"],jr=class{static{i(this,"VFile")}constructor(e){let n;e?bs(e)?n={path:e}:typeof e=="string"||Bb(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ml.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yl.length;){let a=yl[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)yl.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ot.default.basename(this.path):void 0}set basename(e){bl(e,"basename"),wl(e,"basename"),this.path=ot.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ot.default.dirname(this.path):void 0}set dirname(e){Wf(this.basename,"dirname"),this.path=ot.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ot.default.extname(this.path):void 0}set extname(e){if(wl(e,"extname"),Wf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ot.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){bs(e)&&(e=(0,gl.fileURLToPath)(e)),bl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ot.default.basename(this.path,this.extname):void 0}set stem(e){bl(e,"stem"),wl(e,"stem"),this.path=ot.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){let s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){let s=new Te(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function wl(t,e){if(t&&t.includes(ot.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ot.default.sep+"`")}i(wl,"assertPart");function bl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}i(bl,"assertNonEmpty");function Wf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}i(Wf,"assertPath");function Bb(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(Bb,"isUint8Array");var Yf=i((function(t){let r=this.constructor.prototype,s=r[t],a=i(function(){return s.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,r),a}),"CallableInstance");var Vb={}.hasOwnProperty,Cl=class t extends Yf{static{i(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,xs.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(vl("data",this.frozen),this.namespace[e]=n,this):Vb.call(this.namespace,e)&&this.namespace[e]||void 0:e?(vl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=ks(e),r=this.parser||this.Parser;return kl("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),kl("process",this.parser||this.Parser),xl("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){let c=ks(e),d=r.parse(c);r.run(d,c,function(p,g,y){if(p||!g||!y)return h(p);let w=g,C=r.stringify(w,y);Yb(C)?y.value=C:y.result=C,h(p,y)});function h(p,g){p||!g?l(p):a?a(g):n(void 0,g)}i(h,"realDone")}i(s,"executor")}processSync(e){let n=!1,r;return this.freeze(),kl("processSync",this.parser||this.Parser),xl("processSync",this.compiler||this.Compiler),this.process(e,s),Uf("processSync","process",n),r;function s(a,l){n=!0,hl(a),r=l}i(s,"realDone")}run(e,n,r){zf(e),this.freeze();let s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){let d=ks(n);s.run(e,d,h);function h(p,g,y){let w=g||e;p?c(p):l?l(w):r(void 0,w,y)}i(h,"realDone")}i(a,"executor")}runSync(e,n){let r=!1,s;return this.run(e,n,a),Uf("runSync","run",r),s;function a(l,c){hl(l),s=c,r=!0}i(a,"realDone")}stringify(e,n){this.freeze();let r=ks(n),s=this.compiler||this.Compiler;return xl("stringify",s),zf(e),s(e,r)}use(e,...n){let r=this.attachers,s=this.namespace;if(vl("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[p,...g]=h;d(p,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=(0,xs.default)(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){let g=h[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,p){let g=-1,y=-1;for(;++g<r.length;)if(r[g][0]===h){y=g;break}if(y===-1)r.push([h,...p]);else if(p.length>0){let[w,...C]=p,P=r[y][1];Hr(P)&&Hr(w)&&(w=(0,xs.default)(!0,P,w)),r[y]=[h,w,...C]}}}},Al=new Cl().freeze();function kl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}i(kl,"assertParser");function xl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}i(xl,"assertCompiler");function vl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}i(vl,"assertUnfrozen");function zf(t){if(!Hr(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}i(zf,"assertNode");function Uf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}i(Uf,"assertDone");function ks(t){return Wb(t)?t:new jr(t)}i(ks,"vfile");function Wb(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}i(Wb,"looksLikeAVFile");function Yb(t){return typeof t=="string"||zb(t)}i(Yb,"looksLikeAValue");function zb(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(zb,"isUint8Array");var $f=Al().use(nr).use(ys).freeze();var El={d:i((t,e)=>{for(var n in e)El.o(e,n)&&!El.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:i((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Tl={};El.d(Tl,{Z:i(()=>jb,"Z"),$:i(()=>Gf,"$")});var ar={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Hf(t){return t<ar.nul||t===ar.space}i(Hf,"n");function Sl(t){return t<ar.horizontalTab}i(Sl,"i");var Ub={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,s){var a;if(!r)return s;for(typeof r=="string"&&(r=[r]),a=-1;++a<r.length;)if(n.indexOf(r[a])!==-1)return!0;return!1}i(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,d,h){for(var p,g,y,w,C,P,S,A,F=(h.before||"")+(d||"")+(h.after||""),I=[],D=[],W={},E=-1;++E<c.unsafe.length;)if(w=c.unsafe[E],s(c.stack,w))for(C=r(w);P=C.exec(F);)p="before"in w||w.atBreak,g="after"in w,y=P.index+(p?P[1].length:0),I.indexOf(y)===-1?(I.push(y),W[y]={before:p,after:g}):(W[y].before&&!p&&(W[y].before=!1),W[y].after&&!g&&(W[y].after=!1));for(I.sort(a),S=h.before?h.before.length:0,A=F.length-(h.after?h.after.length:0),E=-1;++E<I.length;)(y=I[E])<S||y>=A||y+1<A&&I[E+1]===y+1&&W[y].after&&!W[y+1].before&&!W[y+1].after||(S!==y&&D.push(l(F.slice(S,y),"\\")),S=y,!/[!-/:-@[-`{-~]/.test(F.charAt(y))||h.encode&&h.encode.indexOf(F.charAt(y))!==-1?(D.push("&#x"+F.charCodeAt(y).toString(16).toUpperCase()+";"),S++):D.push("\\"));return D.push(l(F.slice(S,A),h.after)),D.join("")};var r=n(553),s=n(112);function a(c,d){return c-d}i(a,"a");function l(c,d){for(var h,p=/\\(?=[!-/:-@[-`{-~])/g,g=[],y=[],w=-1,C=0,P=c+d;h=p.exec(P);)g.push(h.index);for(;++w<g.length;)C!==g[w]&&y.push(c.slice(C,g[w])),y.push("\\"),C=g[w];return y.push(c.slice(C)),y.join("")}i(l,"o")}},jf={};function Et(t){var e=jf[t];if(e!==void 0)return e.exports;var n=jf[t]={exports:{}};return Ub[t](n,n.exports,Et),n.exports}i(Et,"s");Et.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Et.d(e,{a:e}),e},Et.d=(t,e)=>{for(var n in e)Et.o(e,n)&&!Et.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Et.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Fl={};(()=>{function t(s={}){let a=s.permalinks||[],l=s.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=s.newClassName||"new",d=s.wikiLinkClassName||"internal",h=s.hrefTemplate||(y=>`#/page/${y}`),p;function g(y){return y[y.length-1]}return i(g,"s"),{enter:{wikiLink:i(function(y){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,y)},"wikiLink")},exit:{wikiLinkTarget:i(function(y){let w=this.sliceSerialize(y);g(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:i(function(y){let w=this.sliceSerialize(y);g(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:i(function(y){this.exit(y);let w=p,C=l(w.value),P=C.find((D=>a.indexOf(D)!==-1)),S=P!==void 0,A;A=S?P:C[0]||"";let F=w.value;w.data.alias&&(F=w.data.alias);let I=d;S||(I+=" "+c),w.data.alias=F,w.data.permalink=A,w.data.exists=S,w.data.hName="a",w.data.hProperties={className:I,href:h(A)},w.data.hChildren=[{type:"text",value:F}]},"wikiLink")}}}i(t,"e"),Et.d(Fl,{V:i(()=>t,"V"),x:i(()=>r,"x")});var e=Et(113),n=Et.n(e);function r(s={}){let a=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:i(function(l,c,d){let h=d.enter("wikiLink"),p=n()(d,l.value,{before:"[",after:"]"}),g=n()(d,l.data.alias,{before:"[",after:"]"}),y;return y=g!==p?`[[${p}${a}${g}]]`:`[[${p}]]`,h(),y},"wikiLink")}}}i(r,"n")})();var $b=Fl.V,Hb=Fl.x,Kf=!1;function Gf(t={}){let e=this.data();function n(r,s){e[r]?e[r].push(s):e[r]=[s]}i(n,"a"),!Kf&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Kf=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:i(function(a,l,c){var d,h,p=0,g=0,y=0;return function(F){return F!=="[[".charCodeAt(g)?c(F):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(F))};function w(F){return g===2?(a.exit("wikiLinkMarker"),(function(I){return Sl(I)||I===ar.eof?c(I):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),C(I))})(F)):F!=="[[".charCodeAt(g)?c(F):(a.consume(F),g++,w)}function C(F){return F===r.charCodeAt(p)?d?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),P(F)):c(F):F===s.charCodeAt(y)?d?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(F)):c(F):Sl(F)||F===ar.eof?c(F):(Hf(F)||(d=!0),a.consume(F),C)}function P(F){return p===r.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),S(F)):F!==r.charCodeAt(p)?c(F):(a.consume(F),p++,P)}function S(F){return F===s.charCodeAt(y)?h?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(F)):c(F):Sl(F)||F===ar.eof?c(F):(Hf(F)||(h=!0),a.consume(F),S)}function A(F){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(F)):F!==s.charCodeAt(y)?c(F):(a.consume(F),y++,A)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",$b(t)),n("toMarkdownExtensions",Hb(t))}i(Gf,"k");var jb=Gf,z_=Tl.Z,qf=Tl.$;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kb=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Pl(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Kb.test(t)}i(Pl,"isUrl");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function qe(t){if(!et(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}i(qe,"isFrontmatterLinkCacheWithOffsets");function vs(t){return qe(t)?t:{...t,endOffset:t.original.length,startOffset:0}}i(vs,"toFrontmatterLinkCacheWithOffsets");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Zf(t){return _l(t)&&t.type==="file"}i(Zf,"isCanvasFileNodeReference");function _l(t){return et(t)&&!!t.isCanvas}i(_l,"isCanvasReference");function Cs(t,e){return qe(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}i(Cs,"referenceToFileChange");function Jf(t){return t.sort((e,n)=>{if(et(e)&&et(n)){let r=qe(e)?e.startOffset:0,s=qe(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(qe(n))-Number(qe(e))||r-s}return Ut(e)&&Ut(n)?e.position.start.offset-n.position.start.offset:et(e)?1:-1})}i(Jf,"sortReferences");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Kr(t,e,n,r,s=!0){t.throwIfAborted();let a=await jn(r,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=tk(e,n);if(!sk(a,e,l,n))return s?null:e;if(a=rk(a),!ik(a))return null;let{frontmatterChanged:d,newContent:h}=Qb(a,e,c,n);return await Xb(t,l,d,n),t.throwIfAborted(),ek(h,l,d)}i(Kr,"applyContentChanges");async function Qf(t,e,n,r={},s=!0){await Qn(t,e,async(a,l)=>Lr(t,e)?await Jb(a,l,Pe(t,e),n,s):await Kr(a,l,Pe(t,e),n,s),r)}i(Qf,"applyFileChanges");function Gr(t){return _l(t.reference)}i(Gr,"isCanvasChange");function Gb(t){return Gr(t)&&t.reference.type==="file"}i(Gb,"isCanvasFileNodeChange");function qb(t){return Gr(t)&&t.reference.type==="text"}i(qb,"isCanvasTextNodeChange");function jt(t){return Ut(t.reference)}i(jt,"isContentChange");function As(t){return et(t.reference)}i(As,"isFrontmatterChange");function Ss(t){return qe(t.reference)}i(Ss,"isFrontmatterChangeWithOffsets");function Zb(t){return Ss(t)?t:{...t,reference:vs(t.reference)}}i(Zb,"toFrontmatterChangeWithOffsets");async function Jb(t,e,n,r,s=!0){let a=await jn(r,t,e);if(t.throwIfAborted(),a===null)return null;let l=nk(e),c=new Map;for(let d of a){if(!Gr(d)){let p="Only canvas changes are supported for canvas files";throw console.error(p,{change:d,path:n}),new Error(p)}let h=l.nodes[d.reference.nodeIndex];if(!h){let p="Node not found";throw console.error(p,{nodeIndex:d.reference.nodeIndex,path:n}),new Error(p)}if(Gb(d)){if(h.file!==d.oldContent)return Qe("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:h.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;h.file=d.newContent}else if(qb(d)){let p=c.get(d.reference.nodeIndex);p||(p=[],c.set(d.reference.nodeIndex,p)),p.push(d)}}for(let[d,h]of c.entries()){let p=l.nodes[d];if(!p){let y="Node not found";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}if(typeof p.text!="string"){let y="Node text is not a string";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}let g=h.map(y=>Cs(y.reference.originalReference,y.newContent));p.text=await Kr(t,p.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,g,s)}return JSON.stringify(l,null,"	")}i(Jb,"applyCanvasChanges");function Qb(t,e,n,r){let s="",a=0,l=new Map;for(let c of t)if(jt(c))s+=e.slice(a,c.reference.position.start.offset),s+=c.newContent,a=c.reference.position.end.offset;else if(As(c))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:c});else{let d=l.get(c.reference.key);d||(d=[],l.set(c.reference.key,d)),d.push(Zb(c))}return s+=e.slice(a),{frontmatterChanged:l,newContent:s}}i(Qb,"applyContentChangesToText");async function Xb(t,e,n,r){for(let[s,a]of n.entries()){let l=Gn(e,s);if(typeof l!="string")return;let c=a.map(h=>({newContent:h.newContent,oldContent:h.oldContent,reference:{link:"",original:"",position:{end:{col:h.reference.endOffset,line:0,offset:h.reference.endOffset},start:{col:h.reference.startOffset,line:0,offset:h.reference.startOffset}}}})),d=await Kr(t,l,`${r}.frontmatter.${s}.VIRTUAL_FILE.md`,c);if(d===null)return;ed(e,s,d)}}i(Xb,"applyFrontmatterChangesWithOffsets");function ek(t,e,n){return n.size>0?Ji(t,e):t}i(ek,"buildFinalContent");function tk(t,e){let n={},r=!1;try{n=bn(t)}catch(s){Pr(new Error(`Frontmatter parsing failed in ${e}`,{cause:s})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}i(tk,"parseFrontmatterSafely");function nk(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}i(nk,"parseJsonSafe");function rk(t){return t.sort((e,n)=>jt(e)&&jt(n)?e.reference.position.start.offset-n.reference.position.start.offset:Ss(e)&&Ss(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:As(e)&&As(n)?e.reference.key.localeCompare(n.reference.key):jt(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!Ke(e,t[n-1]))}i(rk,"sortAndFilterChanges");function ik(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let r=t[e-1];if(r&&jt(r)&&jt(n)&&r.reference.position.end.offset&&r.reference.position.end.offset>n.reference.position.start.offset){let s="Overlapping changes";throw console.error(s,{change:n,previousChange:r}),new Error(s)}}return!0}i(ik,"validateChangeOverlaps");function sk(t,e,n,r){let s=Qe("FileChange:validateChanges");for(let a of t)if(jt(a)){let l=a.reference.position.start.offset,c=a.reference.position.end.offset,d=e.slice(l,c);if(d!==a.oldContent)return s("Content mismatch",{actualContent:d,endOffset:c,expectedContent:a.oldContent,path:r,startOffset:l}),!1}else if(Ss(a)){let l=Gn(n,a.reference.key);if(typeof l!="string")return s("Property value is not a string",{frontmatterKey:a.reference.key,path:r,propertyValue:l}),!1;let c=l.slice(a.reference.startOffset,a.reference.endOffset);if(c!==a.oldContent)return s("Content mismatch",{actualContent:c,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:r,startOffset:a.reference.startOffset}),!1}else if(As(a)){let l=Gn(n,a.reference.key);if(l!==a.oldContent)return s("Content mismatch",{actualContent:l,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:r}),!1}return!0}i(sk,"validateChanges");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Xf(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}i(Xf,"ensureMetadataCacheReady");function eh(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Jf(e),e=e.filter((n,r)=>{if(r===0)return!0;let s=e[r-1];if(!s)return!0;if(Ut(n)&&Ut(s))return n.position.start.offset!==s.position.start.offset;if(et(n)&&et(s)){let a=qe(n)?n.startOffset:0,l=qe(s)?s.startOffset:0;return n.key!==s.key||qe(n)!==qe(s)||a!==l}return!0}),e}i(eh,"getAllLinks");function ok(t,e){let n=Ge(t,e,!0);return Ml(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}i(ok,"getBacklinksForFileOrPath");async function Il(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let s=new td;return await Bi(async a=>{a.throwIfAborted();let l=Ge(t,e);await Xf(t),a.throwIfAborted(),s=ok(t,l);for(let c of s.keys()){a.throwIfAborted();let d=nn(t,c);if(!d)return!1;await Qi(t,d),a.throwIfAborted();let h=await La(t,d);if(a.throwIfAborted(),!h)return!1;let p=bn(h),g=s.get(c);if(!g)return!1;for(let y of g){let w;if(Ut(y))w=h.slice(y.position.start.offset,y.position.end.offset);else if(et(y)){let C=Gn(p,y.key);if(typeof C!="string")return!1;let P=vs(y);w=C.slice(P.startOffset,P.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),s}i(Il,"getBacklinksForFileSafe");async function gt(t,e){let n=nn(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await Qi(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Xf(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}i(gt,"getCacheSafe");async function th(t,e){return(await gt(t,e))?.frontmatter??{}}i(th,"getFrontmatterSafe");async function Es(t,e){let r=new TextEncoder().encode(e).buffer;return await t.metadataCache.computeMetadataAsync(r)??{}}i(Es,"parseMetadata");function ak(t,e){let n=nh(t);for(let r of e)for(;r.deleted;){let s=n.get(r.path)??0;s++,n.set(r.path,s),t.vault.fileMap[r.path]=r,Jn(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=Zi(t,gn(r.path),!0)}}i(ak,"registerFiles");function Ml(t,e,n){try{return ak(t,e),n()}finally{lk(t,e)}}i(Ml,"tempRegisterFilesAndRun");function lk(t,e){let n=nh(t);for(let r of e)for(;r.deleted;){let s=n.get(r.path)??1;s--,n.set(r.path,s),s===0&&(n.delete(r.path),delete t.vault.fileMap[r.path],Jn(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=Zi(t,gn(r.path),!0)}}i(lk,"unregisterFiles");function nh(t){return Wt(t,"registeredFilesCounts",new Map).value}i(nh,"getRegisteredFilesCounts");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function rh(t){return t.vault.getConfig("newLinkFormat")}i(rh,"getNewLinkFormat");function Ol(t){return!t.vault.getConfig("useMarkdownLinks")}i(Ol,"shouldUseWikilinks");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uk="\\|",ck=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,dk=/[\\[\]<>_*~=`$]/g,sh=/(?<!\\)\|/g,oh="|";function fk(t){let e=mk(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Rl({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}i(fk,"convertLink");async function ah(t,e,n,r={}){await Qf(t,e,async(s,a)=>{let l=await gt(t,e);s.throwIfAborted();let c=Ge(t,e),d=await t.vault.cachedRead(c);return s.throwIfAborted(),a!==d?null:await dh(l,Lr(t,e),n,s)},r)}i(ah,"editLinks");async function hk(t,e,n,r){r??=Ct(),r.throwIfAborted();let s=await Kr(r,e,"",async()=>{let a=await Es(t,e);r.throwIfAborted();let l=await dh(a,!1,n,r);return r.throwIfAborted(),l});if(r.throwIfAborted(),s===null)throw new Error("Failed to update links in content");return s}i(hk,"editLinksInContent");function Ll(t){return Xe(t,ck,({substring:e})=>encodeURIComponent(e))}i(Ll,"encodeUrl");function pk(t){return Xe(t,dk,"\\$&")}i(pk,"escapeAlias");function mk(t,e,n,r=!1){let{linkPath:s}=lh(e.link),a=Pe(t,n),l=t.metadataCache.getFirstLinkpathDest(s,a);if(l)return l;if(!r)return null;if(s.startsWith("/"))return Ge(t,s,!0);let c=Gi(yn(a),`./${s}`);return c.startsWith("../")?null:Ge(t,c,!0)}i(mk,"extractLinkFile");function gk(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},r=Fk(e).map(a=>a());t=Object.assign({},n,...r,t);let s=Ge(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Ml(e,[s],()=>Ak(t))}i(gk,"generateMarkdownLink");function Dl(t){let e=t.isEmbed?"!":"";if(t.isWikilink){let c=t.alias?`|${t.alias}`:"";return`${e}[[${t.url}${c}]]`}let n=t.alias??"",s=t.shouldEscapeAlias??!0?pk(n):n,a=t.shouldUseAngleBrackets?`<${t.url}>`:Ll(t.url),l=t.title?` ${JSON.stringify(t.title)}`:"";return`${e}[${s}](${a}${l})`}i(Dl,"generateRawMarkdownLink");function ur(t){let e=yk(t);return e[0]?.raw===t?e[0]:null}i(ur,"parseLink");function yk(t){let e=new Set,n="![",r=" [",s=Xe(t,n,p=>(e.add(p.offset),r)),l=$f().use(nr).use(qf,{aliasDivider:oh}).parse(s),c=[],d=[];$r(l,p=>{let g;switch(p.type){case"link":g=_k(p,t);break;case"wikiLink":g=Ik(p,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((p,g)=>p.startOffset-g.startOffset);let h=0;for(let p of c)ih(t,h,p.startOffset-1,d),h=p.endOffset+1;return ih(t,h,t.length-1,d),c.push(...d),c.sort((p,g)=>p.startOffset-g.startOffset),c}i(yk,"parseLinks");function wk(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:s,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(r===!1)return!1;if(!n)return!0;let d=Ge(e,c,!0),h=Pe(e,s),p=Pe(e,a??s),g=yn(h),y=yn(p),w=new Set;for(let P of[d.path,l]){if(!P)continue;let S=Pe(e,P);w.add(S),w.add(tn(S)),w.add(qi(g,S)),w.add(qi(y,S))}for(let P of[p,h])w.add(e.metadataCache.fileToLinktext(d,P,!1));let C=Xe((0,lr.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let P of w){if(P.toLowerCase()===C)return!0;let S=yn(P),A=tn(P,Zn(P));if(Gi(S,A).toLowerCase()===C)return!0}return!1}i(wk,"shouldResetAlias");function lh(t){let e=(0,lr.parseLinktext)(Qc(t));return{linkPath:e.path,subpath:e.subpath}}i(lh,"splitSubpath");function bk(t){return ur(t)?.hasAngleBrackets??!1}i(bk,"testAngleBrackets");function uh(t){return ur(t)?.isEmbed??!1}i(uh,"testEmbed");function kk(t){return ur(t)?.url.startsWith("./")??!1}i(kk,"testLeadingDot");function xk(t){return ur(t)?.url.startsWith("/")??!1}i(xk,"testLeadingSlash");function vk(t){return ur(t)?.isWikilink??!1}i(vk,"testWikilink");function Rl(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:s,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:d}=t;if(!a)return n.original;let h=Ge(e,a,!0),p=Pe(e,l??s),g=Pe(e,c??a),y=hh(e,n.original,r),{subpath:w}=lh(n.link),C=!d;if(Lr(e,s)&&Zf(n))return h.path+w;let P=ur(n.original),S;return y&&P?.alias&&(S=P.alias,C=!0),S??=wk({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:s,oldSourcePathOrFile:l,oldTargetPath:g,targetPathOrFile:h})?void 0:P?.alias,C||(S===tn(g,Zn(g))?S=h.basename:S===tn(g)&&(S=h.name)),gk({alias:S,app:e,isSingleSubpathAllowed:p===g&&!!P?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:s,subpath:w,targetPathOrFile:h})}i(Rl,"updateLink");async function ch(t){let{app:e,content:n,linkStyle:r,newSourcePathOrFile:s,oldSourcePathOrFile:a,shouldUpdateEmbedOnlyLinks:l,shouldUpdateFileNameAlias:c}=t;return await hk(e,n,d=>{let h=uh(d.original);if(!(l!==void 0&&l!==h))return fk({app:e,link:d,linkStyle:r,newSourcePathOrFile:s,oldSourcePathOrFile:a,shouldUpdateFileNameAlias:c})})}i(ch,"updateLinksInContent");function ih(t,e,n,r){if(e>n)return;let s=t.slice(e,n+1);Xe(s,/(?<Url>\S+)/g,(a,l)=>{Pl(l)&&r.push({encodedUrl:Ll(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}i(ih,"extractTextLinks");function Ck(t,e,n,r,s){n==="/"&&(n="");let a;if(e.path===n&&r&&s.isSingleSubpathAllowed)a="";else switch(s.linkPathStyle){case"AbsolutePathInVault":a=e.path,s.shouldUseLeadingSlashForAbsolutePaths&&!a.startsWith("/")&&(a=`/${a}`);break;case"RelativePathToTheNote":a=qi(yn(n),e.path),s.shouldUseLeadingDotForRelativePaths&&!a.startsWith(".")&&(a=`./${a}`);break;case"ShortestPathWhenPossible":{let l=mt(t,e)?e.basename:e.name,c=t.metadataCache.getLinkpathDest(l,n);a=c.length===1&&c[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${s.linkPathStyle}.`)}return a=s.isWikilink?Yt(a,`.${Ia}`):a,a+=r,a}i(Ck,"generateLinkText");function Ak(t){let{app:e}=t,n=Ge(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=Pe(e,t.sourcePathOrFile),s=t.subpath??"",a=Pk(t,n),l=Ck(e,n,r,s,a);return a.isWikilink?Ek(l,t.alias,a.isEmbed):Sk(l,n,t,a)}i(Ak,"generateMarkdownLinkImpl");function Sk(t,e,n,r){let{app:s}=n,a=n.alias??"";return!a&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(a=!n.shouldIncludeAttachmentExtensionToEmbedAlias||mt(s,e)?e.basename:e.name),Dl({alias:a,isEmbed:r.isEmbed,isWikilink:!1,shouldEscapeAlias:n.shouldEscapeAlias??!0,shouldUseAngleBrackets:r.shouldUseAngleBrackets,url:t})}i(Sk,"generateMarkdownStyleLink");function Ek(t,e,n){return e?.toLowerCase()===t.toLowerCase()?Dl({isEmbed:n,isWikilink:!0,url:e}):Dl({alias:e,isEmbed:n,isWikilink:!0,url:t})}i(Ek,"generateWikiLink");async function dh(t,e,n,r){if(r??=Ct(),r.throwIfAborted(),!t)return[];let s=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of eh(t)){r.throwIfAborted();let c=await n(l,r);if(r.throwIfAborted(),c===void 0)continue;let d=Cs(l,c);if(e)if(Gr(d))s.push(d);else{let h="Unsupported file change";throw console.error(h,d),new Error(h)}else Mk(d,a)&&(d.newContent=d.newContent.replaceAll(sh,uk)),s.push(d)}return s}i(dh,"getFileChanges");function Tk(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=rh(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}i(Tk,"getFinalLinkPathStyle");function Fk(t){return Wt(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}i(Fk,"getGenerateMarkdownLinkDefaultOptionsFns");function Pk(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?uh(t.originalLink):void 0)??(!(0,lr.requireApiVersion)("1.10.0")&&!mt(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:hh(n,t.originalLink,t.linkStyle),linkPathStyle:Tk(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?bk(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?kk(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?xk(t.originalLink):void 0)??!1}}i(Pk,"getLinkConfig");function fh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}i(fh,"getRawLink");function _k(t,e){let a=fh(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,d=e.slice(c+2,(t.position?.end.offset??0)-1),h=a.startsWith("<")||d.startsWith("<"),p=Pl(t.url),g=t.url;if(!p&&!h)try{g=decodeURIComponent(g)}catch(y){console.error(`Failed to decode URL ${g}`,y)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:p?Ll(g):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:h,isEmbed:!1,isExternal:p,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:g}}i(_k,"parseLinkNode");function Ik(t,e){return{alias:e.includes(oh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:fh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}i(Ik,"parseWikilinkNode");function Mk(t,e){return!jt(t)||!sh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}i(Mk,"shouldEscapeWikilinkDivider");function hh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Ol(t);case"PreserveExisting":return e===void 0?Ol(t):vk(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}i(hh,"shouldUseWikilinkStyle");var Ts=/[*\\<>:|?#^[\]"]+/g,ph=/[ .]+$/g;var Nl=class t{constructor(e,n){this.frontmatter=e;this.node=n;if(n.level!==0)throw new Error("Node level must be 0")}static{i(this,"MarkdownHeadingDocument")}mergeWith(e,n){let r=n==="append"?this.node.append(e.node):e.node.append(this.node);return new t(this.frontmatter,r)}toString(){return this.frontmatter+this.node.toString()}async wrapText(e){await this.node.wrapText(e)}},Bl=class t{constructor(e,n,r,s,a=!1){this.level=e;this.heading=n;this.text=r;this.isFake=a;if(e===0&&!a)throw new Error("Root node must be fake");if(s.some(l=>l.level!==e+1))throw new Error("Child level must be exactly one level deeper than parent level");this.children=s}static{i(this,"MarkdownHeadingNode")}children;append(e){if(this.level!==e.level)throw new Error("Node level must be the same as the merging level");if(this.heading!==e.heading)throw new Error("Node heading must be the same as the merging heading");let n=this.getChildrenKeys(),r=e.getChildrenKeys(),s=[...this.children],a=new Map;for(let h=0;h<s.length;h++){let p=s[h];if(!p)continue;let g=n.get(p)??"";a.set(g,h)}for(let h of e.children){let p=r.get(h)??"",g=a.get(p);if(g===void 0){s.push(h);continue}s[g]&&(s[g]=s[g].append(h))}let l=Yt(this.text,`
`),c=Hi(e.text,`
`),d=l&&c?`${l}
${c}`:l||c||"";return new t(this.level,this.heading,d,s,this.isFake)}toString(){let e="";this.isFake||(e+="#".repeat(this.level),this.heading&&(e+=` ${this.heading}`)),e+=this.text;for(let n of this.children)e+=n.toString();return e}async wrapText(e){this.text=await e(this.text);for(let n of this.children)await n.wrapText(e)}getChildrenKeys(){let e=new Map,n=new Map;for(let r of this.children){let s=(e.get(r.heading)??0)+1;e.set(r.heading,s),n.set(r,`${r.heading}
${String(s)}`)}return n}};async function Wl(t,e){let n=await Es(t,e),r=n.frontmatterPosition?.end.offset??0,s=e.slice(0,r);n.headings??=[],n.headings.sort((l,c)=>l.position.start.offset-c.position.start.offset);let a=Vl({content:e,contentStartOffset:r,heading:"",headingEndIndex:n.headings.length,headingsCaches:n.headings,headingStartIndex:0,isFake:!0,level:0});return new Nl(s,a)}i(Wl,"parseMarkdownHeadingDocument");function Vl(t){let e=t.isFake&&t.level>0?"":t.content.slice(t.headingsCaches[t.headingStartIndex-1]?.position.end.offset??t.contentStartOffset,t.headingsCaches[t.headingStartIndex]?.position.start.offset??t.content.length),n=[];for(let s=t.headingStartIndex;s<t.headingEndIndex;s++)t.headingsCaches[s]?.level===t.level+1&&n.push(s);let r=[];if(t.headingStartIndex<t.headingEndIndex&&n[0]!==t.headingStartIndex){let s=Vl({content:t.content,contentStartOffset:t.contentStartOffset,heading:"",headingEndIndex:n[0]??t.headingEndIndex,headingsCaches:t.headingsCaches,headingStartIndex:t.headingStartIndex,isFake:!0,level:t.level+1});r.push(s)}for(let s=0;s<n.length;s++){let a=n[s]??0,l=Vl({content:t.content,contentStartOffset:t.contentStartOffset,heading:t.headingsCaches[a]?.heading??"",headingEndIndex:n[s+1]??t.headingEndIndex,headingsCaches:t.headingsCaches,headingStartIndex:a+1,isFake:!1,level:t.level+1});r.push(l)}return new Bl(t.level,t.heading,e,r,t.isFake)}i(Vl,"parseHeadingNode");var Fs=class{static{i(this,"PluginSettings")}defaultFrontmatterMergeStrategy="MergeAndPreferNewValues";releaseNotesShown=[];replacement="_";shouldAddInvalidTitleToFrontmatterTitleKey=!0;shouldAddInvalidTitleToNoteAlias=!0;shouldAllowOnlyCurrentFolderByDefault=!1;shouldAllowSplitIntoUnresolvedPathByDefault=!0;shouldAskBeforeMerging=!0;shouldFixFootnotesByDefault=!0;shouldIncludeFrontmatterWhenSplittingByDefault=!1;shouldMergeHeadingsByDefault=!1;shouldOpenNoteAfterMerge=!1;shouldReplaceInvalidTitleCharacters=!0;shouldTreatTitleAsPathByDefault=!0;template="";textAfterExtractionMode="link"};var Le=class{constructor(e,n,r,s=""){this.plugin=e;this.sourceFile=n;this.editor=r;this.heading=s;this.app=e.app,this.shouldIncludeFrontmatter=e.settings.shouldIncludeFrontmatterWhenSplittingByDefault,this.shouldTreatTitleAsPath=e.settings.shouldTreatTitleAsPathByDefault,this.shouldFixFootnotes=e.settings.shouldFixFootnotesByDefault,this.shouldAllowOnlyCurrentFolder=e.settings.shouldAllowOnlyCurrentFolderByDefault,this.shouldMergeHeadings=e.settings.shouldMergeHeadingsByDefault,this.shouldAllowSplitIntoUnresolvedPath=e.settings.shouldAllowSplitIntoUnresolvedPathByDefault,this.frontmatterMergeStrategy=e.settings.defaultFrontmatterMergeStrategy,this.initHeading()}static{i(this,"AdvancedNoteComposer")}action="merge";app;frontmatterMergeStrategy;mode="append";shouldAllowOnlyCurrentFolder;shouldAllowSplitIntoUnresolvedPath;shouldFixFootnotes;shouldIncludeFrontmatter;shouldMergeHeadings;shouldTreatTitleAsPath;get targetFile(){if(!this._targetFile)throw new Error("Target file not set");return this._targetFile}_targetFile;async canIncludeFrontmatter(){let e=await gt(this.app,this.sourceFile);if(!e?.frontmatterPosition)return!1;let n=await this.getSelections();return!(!n[0]||n[0].startOffset<e.frontmatterPosition.end.offset)}async mergeFile(e){e&&await this.plugin.settingsManager.editAndSave(r=>{r.shouldAskBeforeMerging=!1}),this.plugin.consoleDebug(`Merging note ${this.sourceFile.path} into ${this.targetFile.path}`);let n=await this.app.vault.read(this.sourceFile);await this.insertIntoTargetFile(n),await this.app.fileManager.trashFile(this.sourceFile),this.plugin.settings.shouldOpenNoteAfterMerge&&await this.app.workspace.getLeaf().openFile(this.targetFile)}async selectItem(e,n,r){this.action==="merge"?await this.selectItemForMerge(e,n,r):await this.selectItemForSplit(e,n,r)}async splitFile(){this._targetFile||await this.selectItemForSplit(null,!1,this.heading),this.plugin.consoleDebug(`Splitting note ${this.sourceFile.path} into ${this.targetFile.path}`),await this.insertIntoTargetFile(this.editor?.getSelection()??"");let e=this.app.fileManager.generateMarkdownLink(this.targetFile,this.sourceFile.path);switch(this.plugin.settings.textAfterExtractionMode){case"embed":this.editor?.replaceSelection(`!${e}`);break;case"link":this.editor?.replaceSelection(e);break;case"none":this.editor?.replaceSelection("");break;default:throw new Error(`Invalid text after extraction mode: ${this.plugin.settings.textAfterExtractionMode}`)}}applyTemplate(e){let n=this.plugin.settings.template;return n?(n.includes("{{content}}")||(n+=`

{{content}}`),Xe(n,/{{(?<Key>.+?(?::(?<Format>.+?))?)}}/g,(r,s,a)=>{switch(s.toLowerCase()){case"fromPath".toLowerCase():return this.sourceFile.path;case"fromTitle".toLowerCase():return this.sourceFile.basename;case"newPath".toLowerCase():return this.targetFile.path;case"newTitle".toLowerCase():return this.targetFile.basename;case"content":return e;case"date":return(0,Ps.default)().format(a||"YYYY-MM-DD");case"time":return(0,Ps.default)().format(a||"HH:mm");default:throw new Error(`Invalid template key: ${s}`)}})):e}async createNewMarkdownFileFromLinktext(e){e=Yt(e,".md");let n=`${this.fixFileName(e)}.md`,r=this.shouldAllowOnlyCurrentFolder?`/${this.sourceFile.parent?.getParentPrefix()??""}`:"",s=await this.app.fileManager.createNewMarkdownFileFromLinktext(r+n,this.sourceFile.path);return s.basename!==e&&(this.plugin.settings.shouldAddInvalidTitleToNoteAlias&&await wd(this.app,s,e),this.plugin.settings.shouldAddInvalidTitleToFrontmatterTitleKey&&await this.app.fileManager.processFrontMatter(s,a=>{a.title=e})),s}async fixBacklinks(e){for(let n of e.keys()){let r=e.get(n)??[];await ah(this.app,n,s=>{if(r.includes(JSON.stringify(s)))return Rl({app:this.app,link:s,newSourcePathOrFile:n,newTargetPathOrFile:this.targetFile,oldTargetPathOrFile:this.sourceFile,shouldUpdateFileNameAlias:!0})})}}fixFileName(e){return e?(this.shouldTreatTitleAsPath||(e=e.replaceAll("/","\\")),this.plugin.settings.shouldReplaceInvalidTitleCharacters?e.split("/").filter(s=>!!s).map(s=>{let a=s;return a=a.replaceAll(Ts,l=>this.plugin.settings.replacement.repeat(l.length)),a=a.replaceAll(ph,l=>this.plugin.settings.replacement.repeat(l.length)),(a.startsWith(".")||a.startsWith(" "))&&(a=this.plugin.settings.replacement+a.slice(1)),a}).join("/"):e):"Untitled"}async fixFootnotes(e){if(!this.shouldFixFootnotes)return e;let n=await gt(this.app,this.sourceFile),r=await this.app.vault.cachedRead(this.sourceFile),s=await this.app.vault.cachedRead(this.targetFile),a=/\[\^(?<FootnoteId>[^\s\]]+?)\]/g,l=new Set(Array.from(s.matchAll(a)).map(w=>w.groups?.FootnoteId??"")),c=await this.getSelections(),d=new Set,h=new Set,p=new Set,g=new Set,y=new Map;for(let w of n?.footnoteRefs??[])this.isSelected(w.position,c)?(this.updateTargetFootnoteIdRenameMap(w.id,y,l),d.add(w.id)):h.add(w.id);for(let w of n?.footnotes??[]){let C=`
${r.slice(w.position.start.offset,w.position.end.offset)}`;this.isSelected(w.position,c)?(this.updateTargetFootnoteIdRenameMap(w.id,y,l),h.has(w.id)&&p.add(w.id)):d.has(w.id)&&(e+=C),d.has(w.id)&&!h.has(w.id)&&g.add(w.id)}if(e=Xe(e,a,(w,C)=>`[^${y.get(C)??C}]`),this.editor){let w=this.editor.listSelections();for(let C of n?.footnotes??[])g.has(C.id)?w.push({anchor:this.editor.offsetToPos(C.position.end.offset),head:this.editor.offsetToPos(C.position.start.offset)}):p.has(C.id)&&(w=this.removeSelectionRange(w,C.position));this.editor.setSelections(w)}return e}async fixLinks(e){return await ch({app:this.app,content:e,newSourcePathOrFile:this.targetFile,oldSourcePathOrFile:this.sourceFile})}async getSelections(){return this.editor?this.editor.listSelections().map(r=>{let s={endOffset:this.editor?.posToOffset(r.anchor)??0,startOffset:this.editor?.posToOffset(r.head)??0};return s.startOffset>s.endOffset&&([s.startOffset,s.endOffset]=[s.endOffset,s.startOffset]),s}).sort((r,s)=>r.startOffset-s.startOffset):[{endOffset:(await this.app.vault.read(this.sourceFile)).length,startOffset:0}]}async includeFrontmatter(e){if(!this.shouldIncludeFrontmatter||!await this.canIncludeFrontmatter())return e;let n=await gt(this.app,this.sourceFile);return`---
${(0,yt.stringifyYaml)(n?.frontmatter??{})}---
${e}`}initHeading(){if(!this.heading){let e=this.editor?.getSelection().split(`
`)??[];if(e.length>0){let n=zl(e[0]??"");this.heading=n??""}}this.heading&&(this.shouldTreatTitleAsPath=!1)}async insertIntoTargetFile(e){e=await this.includeFrontmatter(e),e=await this.fixFootnotes(e),e=await this.fixLinks(e);let n=await this.prepareBacklinksToFix(),r=await th(this.app,this.targetFile),s=(0,yt.getFrontMatterInfo)(e),a=(0,yt.parseYaml)(s.frontmatter)??{};e=e.slice(s.contentStart),e=this.applyTemplate(e),s=(0,yt.getFrontMatterInfo)(e);let l=(0,yt.parseYaml)(s.frontmatter)??{};if(e=e.slice(s.contentStart),await this.insertIntoTargetFileImpl(e),this.frontmatterMergeStrategy!=="KeepOriginalFrontmatter"){let c=r.title,d=this.mergeFrontmatter(r,a);d=this.mergeFrontmatter(d,l),c===void 0?delete d.title:d.title=c,await this.app.fileManager.processFrontMatter(this.targetFile,h=>{for(let p of Object.keys(h))delete h[p];Object.assign(h,d)})}await this.fixBacklinks(n)}async insertIntoTargetFileImpl(e){if(!this.shouldMergeHeadings){await this.app.fileManager.insertIntoFile(this.targetFile,e,this.mode);return}await Qn(this.app,this.targetFile,async(n,r)=>{let s=await Wl(this.app,r),a=await Wl(this.app,e);return await a.wrapText(this.wrapText.bind(this)),s.mergeWith(a,this.mode).toString()})}isSelected(e,n){return n.some(r=>r.startOffset<=e.start.offset&&e.end.offset<=r.endOffset)}mergeFrontmatter(e,n){switch(this.frontmatterMergeStrategy){case"KeepOriginalFrontmatter":return e;case"MergeAndPreferNewValues":return this.mergeRecursively(e,n);case"MergeAndPreferOriginalValues":return this.mergeRecursively(n,e);case"PreserveBothOriginalAndNewFrontmatter":{let r=0,s,a,l,c=Object.keys(e),d=Object.keys(n);do{let h=r>0?String(r):"";s=`__merged${h}`,a=`__from${h}`,l=`__mergeDate${h}`,r++}while(c.includes(s)||d.includes(a)||d.includes(l));return{...e,[s]:{[a]:this.sourceFile.path,[l]:(0,Ps.default)().format(),...n}}}case"ReplaceWithNewFrontmatter":return n;default:throw new Error(`Invalid frontmatter merge strategy: ${this.frontmatterMergeStrategy}`)}}mergeRecursively(e,n){let r=Object.keys(e);for(let[s,a]of Object.entries(n))if(r.includes(s)){let l=e[s];l==null?e[s]=a:Array.isArray(e[s])&&Array.isArray(a)?e[s]=[...e[s],...a].unique():typeof e[s]=="object"&&typeof a=="object"?e[s]=this.mergeRecursively(e[s],a):e[s]=a}else e[s]=a;return e}async prepareBacklinksToFix(){let e=await this.getSelections(),n=this.app.metadataCache.getFileCache(this.sourceFile)??{},r=new Set;this.action==="merge"&&r.add("");for(let l of n.headings??[])this.isSelected(l.position,e)&&r.add(`#${l.heading}`);for(let l of Object.values(n.blocks??{}))this.isSelected(l.position,e)&&r.add(`#^${l.id}`);let s=await Il(this.app,this.sourceFile),a=new Map;for(let l of s.keys()){let c=s.get(l)??[];for(let d of c){let{subpath:h}=(0,yt.parseLinktext)(d.link);if(!r.has(h))continue;let p=a.get(l);p||(p=[],a.set(l,p)),p.push(JSON.stringify(d))}}return a}removeSelectionRange(e,n){if(!this.editor)return e;let r=n.start.offset,s=n.end.offset,a=[];for(let l of e){let c=this.editor.posToOffset(l.anchor),d=this.editor.posToOffset(l.head);if(c>d&&([c,d]=[d,c]),d<r||c>s)a.push(l);else{let h=c<r,p=d>s;h&&a.push({anchor:this.editor.offsetToPos(c),head:this.editor.offsetToPos(r)}),p&&a.push({anchor:this.editor.offsetToPos(s),head:this.editor.offsetToPos(d)})}}return a}async selectItemForMerge(e,n,r){if(n||e?.type==="unresolved"){let s=e?.type==="unresolved"?e.linktext??"":r,a=this.app.fileManager.getNewFileParent(this.sourceFile.path,s);this._targetFile=await this.app.fileManager.createNewMarkdownFile(a,s,"");return}if(e?.type==="bookmark"&&e.item?.type==="file"){let s=this.app.vault.getFileByPath(e.item.path??"");if(s){this._targetFile=s;return}throw new Error("Bookmark file not found")}if(e?.file){this._targetFile=e.file;return}throw new Error("No valid file selected")}async selectItemForSplit(e,n,r){if(n||!e){this._targetFile=await this.createNewMarkdownFileFromLinktext(r);return}if(e.type==="unresolved"){this._targetFile=await this.createNewMarkdownFileFromLinktext(e.linktext??"");return}if(e.type==="file"||e.type==="alias"){if(!e.file)throw new Error("File not found");this._targetFile=e.file;return}this._targetFile=await this.createNewMarkdownFileFromLinktext(r)}updateTargetFootnoteIdRenameMap(e,n,r){if(n.has(e))return;if(!r.has(e)){r.add(e);return}let s=1,a=e;for(;r.has(a);)a=`${e}-${String(s)}`,s++;n.set(e,a),r.add(a)}wrapText(e){if(e=e.trim(),!e)return"";let n=this.applyTemplate(e),r=(0,yt.getFrontMatterInfo)(n);return n=n.slice(r.contentStart),n?(n.endsWith(`
`)||(n+=`
`),n.startsWith(`
`)||(n=`
${n}`),n):""}};function zl(t){return/^#{1,6} (?<Heading>.*)/m.exec(t)?.groups?.Heading??null}i(zl,"extractHeadingFromLine");function cr(t,e,n,r){let s=t.metadataCache.getFileCache(e);if(!s)return null;let a=null,l=0,c=null;for(let h of s.headings??[]){if(a&&h.level<=l){c=h;break}!a&&h.position.start.line===r&&(l=h.level,a=h)}if(!a)return null;let d;if(c)for(d=c.position.start.line-1;!n.getLine(d).trim()&&d>r;)d--;else d=n.lineCount()-1;return{end:{ch:n.getLine(d).length,line:d},heading:a.heading.trim(),start:{ch:0,line:r}}}i(cr,"getSelectionUnderHeading");var yh=require("obsidian");var fe=require("obsidian");var $l=class{static{i(this,"Animation")}duration;end={};fn;from={};to={};constructor(e){let n=e??{},r=100,s="ease-in-out";this.duration=n.duration??r,this.fn=n.fn??s}addProp(e,n,r,s){return typeof n=="string"&&(this.from[e]=n),typeof r=="string"&&(this.to[e]=r),typeof s=="string"&&(this.end[e]=s),this}},dr=class extends fe.SuggestModal{constructor(n){super(n.app);this.composer=n;le(this.containerEl,"suggest-modal-base"),this.shouldShowUnresolved=!1,this.shouldShowMarkdown=!0,this.shouldShowNonAttachments=!0,this.shouldShowAlias=!0,this.shouldShowNonImageAttachments=!0,this.shouldShowImages=!0,this.shouldShowAllTypes=!0,this.shouldShowAlias=!1,this.shouldShowNonFileBookmarks=!1,this.allowCreateNewFile=!1,this.context="view";let r=20;this.limit=r,this.scope.register([],"Tab",this.handleTabKey.bind(this)),this.createButtonEl=createEl("button","clickable-icon",s=>{(0,fe.setIcon)(s,"lucide-file-plus"),s.addEventListener("click",this.handleCreateButtonClick.bind(this))})}static{i(this,"SuggestModalBase")}allowCreateNewFile;shouldShowAlias;shouldShowImages;shouldShowMarkdown;shouldShowNonAttachments;shouldShowNonFileBookmarks;shouldShowNonImageAttachments;shouldShowUnresolved;context;createButtonEl;shouldShowAllTypes;get supportsCreate(){return this.allowCreateNewFile&&this.shouldShowMarkdown}getSuggestions(n){if(n=n.trim(),!n)return this.getRecentFiles();let a=this.app.vault.getFiles().filter(this.shouldIncludeFile.bind(this)).length<1e4?(0,fe.prepareFuzzySearch)(n):(0,fe.prepareSimpleSearch)(n),l=[];return l.push(...this.searchFiles(n,a)),l.push(...this.searchUnresolvedLinks(a)),l.push(...this.searchBookmarks(a)),(0,fe.sortSearchResults)(l),l}onChooseSuggestion(n,r){ge(()=>this.onChooseSuggestionAsync(n,r))}onInput(){if(super.onInput(),fe.Platform.isMobile&&this.allowCreateNewFile){let n=this.inputEl.value.trim();if(n===""){this.createButtonEl.detach();return}if(!this.createButtonEl.parentElement){this.ctaEl.appendChild(this.createButtonEl);let r=150,s="cubic-bezier(0, 0.55, 0.45, 1)";Dk(this.createButtonEl,new $l({duration:r,fn:s}).addProp("transform","scale(0.10)",""));let a=this.chooser.suggestions[0]?.getText()??"";this.createButtonEl.ariaDisabled=String(n.toLowerCase()===a.toLowerCase())}}}onNoSuggestion(){let n=this.inputEl.value.trim();if(n&&this.supportsCreate){this.chooser.setSuggestions([null]);return}let r=n?this.emptyStateText:"No recent files found. Type to search...";this.chooser.setSuggestions(null),this.chooser.addMessage(r)}renderSuggestion(n,r){r.addClass("mod-complex");let s=r.createDiv("suggestion-content"),a=r.createDiv("suggestion-aux");if(!n){s.createDiv({cls:"suggestion-title",text:this.inputEl.value}),a.createSpan({cls:"suggestion-action",text:"Enter to create"});return}if(n.downranked&&r.addClass("mod-downranked"),n.type==="file")(0,fe.renderResults)(s.createDiv("suggestion-title"),this.getSuggestionText(n.file?.path??""),n.match),a.createSpan({cls:"suggestion-flair"});else if(n.type==="alias")(0,fe.renderResults)(s.createDiv("suggestion-title"),n.alias??"",n.match),s.createDiv({cls:"suggestion-note",text:this.getSuggestionText(n.file?.path??"")}),a.createSpan({cls:"suggestion-flair"},l=>{(0,fe.setIcon)(l,"lucide-forward"),l.title="Alias"});else if(n.type==="unresolved"){let l=s.createDiv("suggestion-title suggestion-unresolved");(0,fe.renderResults)(l.createSpan(),n.linktext??"",n.match),l.createSpan({cls:"suggestion-unresolved-description",text:"(unresolved)"}),a.createSpan({cls:"suggestion-flair"},c=>{(0,fe.setIcon)(c,"lucide-file-plus"),(0,fe.setTooltip)(c,"Not created yet, select to create")})}else if(n.type==="bookmark"){let l=s.createDiv("suggestion-title"),c=s.createDiv("suggestion-note");(0,fe.renderResults)(l,this.getSuggestionText(n.bookmarkPath??""),n.match),a.createSpan({cls:"suggestion-flair"},d=>{if(n.item?.type==="file")(0,fe.setIcon)(d,"lucide-bookmark"),c.setText(this.getSuggestionText(n.item.path??"")+(n.item.subpath??""));else if(n.item?.type==="folder")(0,fe.setIcon)(d,"lucide-bookmark"),c.setText(this.getSuggestionText(n.item.path??""));else if(n.item?.type==="search")(0,fe.setIcon)(d,"lucide-search"),c.setText(n.item.query??"");else if(n.item?.type==="graph")(0,fe.setIcon)(d,"lucide-git-fork"),c.detach();else if(n.item?.type==="url"){let h=this.app.internalPlugins.getEnabledPluginById("webviewer");h?(d.addClass("webviewer-favicon-container"),ge(()=>h.db.setIcon(d,n.item?.url??""))):(0,fe.setIcon)(d,"globe-2"),c.setText(n.item.url??"")}})}}addAliasMatches(n,r,s,a,l){let c=this.app.metadataCache.getFileCache(n);if(!c)return;let d=(0,fe.parseFrontMatterAliases)(c.frontmatter)??[];for(let h of d){let p=r(h);p&&(a&&(p.score-=l),s.push({alias:h,downranked:a,file:n,match:p,type:"alias"}))}}getDisplayText(n){switch(n.type){case"alias":case"file":return Ul(n.file?.path??"");case"bookmark":return n.bookmarkPath??"";case"unresolved":return n.linktext??"";default:return""}}getRecentFiles(){let n=this.app.workspace.getRecentFiles({showImages:this.shouldShowImages,showMarkdown:this.shouldShowMarkdown,showNonAttachments:this.shouldShowNonAttachments,showNonImageAttachments:this.shouldShowNonImageAttachments}),r=[];for(let s of n){let a=this.app.vault.getFileByPath(s);a&&!this.app.metadataCache.isUserIgnored(a.path)&&this.shouldIncludeFile(a)&&r.push({file:a,match:{matches:[],score:0},type:"file"})}return r}getSuggestionText(n){let r=Ul(n);return this.composer.shouldAllowOnlyCurrentFolder&&(r=Hi(r,this.composer.sourceFile.parent?.getParentPrefix()??"")),r}handleCreateButtonClick(n){this.onChooseSuggestion(null,n),this.close()}handleTabKey(n){if(n.isComposing)return;let r=this.chooser.values?.[this.chooser.selectedItem];if(!r)return!1;let s=Rk(this.getDisplayText(r),r.match.matches);return s===this.inputEl.value&&(s+="/"),this.inputEl.value=s,this.inputEl.trigger("input"),!1}searchBookmarks(n){let r=this.app.internalPlugins.getEnabledPluginById("bookmarks");if(!r)return[];let s=[];function a(l,c){if(!r)return;let d=c+r.getItemTitle(l),h=n(d);h&&s.push({bookmarkPath:d,item:l,match:h,type:"bookmark"})}return i(a,"addBookmarkItem"),gh(r.items,(l,c)=>{if(l.type!=="file"||l.subpath)this.shouldShowNonFileBookmarks&&l.type!=="group"&&a(l,c);else{let d=this.app.vault.getFileByPath(l.path??"");d&&this.shouldIncludeFile(d)&&a(l,c)}}),s}searchFiles(n,r){let a=this.app.vault.getFiles().filter(this.shouldIncludeFile.bind(this)),l=[];for(let c of a){let d=this.app.metadataCache.isUserIgnored(c.path),h=Vk(r,Ul(c.path));h&&(d&&(h.score-=10),l.push({downranked:d,file:c,match:h,type:"file"})),this.shouldShowAlias&&this.addAliasMatches(c,r,l,d,10)}return l}searchUnresolvedLinks(n){if(!this.shouldShowUnresolved)return[];let r=new Set;for(let a of Object.values(this.app.metadataCache.unresolvedLinks))for(let l of Object.keys(a))this.composer.shouldAllowOnlyCurrentFolder&&!l.startsWith(this.composer.sourceFile.parent?.getParentPrefix()??"")||r.add(l);let s=[];for(let a of r){let l=n(a);l&&s.push({linktext:a,match:l,type:"unresolved"})}return s}shouldIncludeFile(n){return n===this.composer.sourceFile||this.composer.shouldAllowOnlyCurrentFolder&&n.parent!==this.composer.sourceFile.parent?!1:n.extension==="md"?this.shouldShowMarkdown:n.extension==="canvas"||n.extension==="base"?this.shouldShowNonAttachments:Nk.includes(n.extension)?this.shouldShowImages:this.shouldShowAllTypes?!0:this.shouldShowNonImageAttachments?(this.context==="view"?this.app.viewRegistry:this.app.embedRegistry).isExtensionRegistered(n.extension):!1}};function Dk(t,e,n){mh(t),t.setCssProps(e.from);let r={complete:n,fn:i(()=>{mh(t)},"fn"),props:e,timer:0,win:t.ownerDocument.defaultView??window};Hl.set(t,r),qr===null&&(qr=[],setTimeout(()=>{Lk();let s=qr;qr=null;for(let a of s??[])a()},0)),qr.push(()=>{t.style.transition=`all ${String(e.duration)}ms ${e.fn}`,t.style.transitionProperty=Object.keys(e.from).join(", "),t.setCssProps(e.to),t.addEventListener("transitionend",a=>{a.target===t&&r.fn()});let s=50;r.timer=r.win.setTimeout(r.fn,e.duration+s)})}i(Dk,"animateElement");function Lk(){document.body.offsetHeight&&void 0}i(Lk,"forceReflow");function mh(t,e=!1){let n=Hl.get(t);Hl.delete(t),n&&(t.style.transition="",t.style.transitionProperty="",t.setCssProps(n.props.end),n.win.clearTimeout(n.timer),t.removeEventListener("transitionend",n.fn),!e&&n.complete&&n.complete())}i(mh,"stopAnimation");function Ul(t){return Yt(t,".md")}i(Ul,"trimMarkdownExtension");function Rk(t,e){if(e&&e.length>0){let r=e[e.length-1]?.[1];if(!r)return t;let s=t.indexOf("/",r);if(s!==-1)return t.slice(0,s+1)}return t}i(Rk,"truncatePathToLastMatch");var Hl=new WeakMap,qr=null,Nk=["bmp","png","jpg","jpeg","gif","svg","webp","avif"];function Bk(t,e){for(let n of t??[])n[0]+=e,n[1]+=e}i(Bk,"adjustMatchPositions");function Vk(t,e){let n=tn(e),r=t(n);return r?(Bk(r.matches,e.length-n.length),r):(r=t(e),r&&r.score--,r)}i(Vk,"searchFilePath");function gh(t,e,n=""){for(let r of t){if(e(r,n))return;r.type==="group"&&r.items&&gh(r.items,e,`${n+r.title}/`)}}i(gh,"traverseBookmarks");var Zr=require("obsidian");var Wk={Enter:"\u21B5",UpDown:"\u2191\u2193"},fr=class{static{i(this,"SuggestModalCommandBuilder")}instructions=[];addCheckbox(e){return this.instructions.push({command:this.buildCommand(e),init:i((n,r)=>{let s=n.createEl("input",{type:"checkbox"});e.onInit(s),s.addEventListener("change",()=>{e.onChange(s.checked)}),r.register(e.modifiers??[],e.key,()=>{s.disabled||(s.checked=!s.checked,s.trigger("change"))})},"init"),purpose:e.purpose}),this}addDropDown(e){return this.instructions.push({command:this.buildCommand(e),init:i((n,r)=>{n.appendText(" ");let s=new Zr.DropdownComponent(n);e.onInit(s),s.onChange(a=>{e.onChange(a)}),r.register(e.modifiers??[],e.key,()=>{if(s.disabled)return;let a=s.selectEl;a.selectedIndex=(a.selectedIndex+1)%a.options.length,a.trigger("change")})},"init"),purpose:e.purpose}),this}addKeyboardCommand(e){return this.instructions.push({command:this.buildCommand(e),init:i((n,r)=>{e.onKey&&r.register(e.modifiers??[],e.key,e.onKey.bind(e))},"init"),purpose:e.purpose}),this}build(e){e.setInstructions(this.instructions);let n=Array.from(e.instructionsEl.findAll(".prompt-instruction > span:nth-child(2)"));for(let r=0;r<n.length;r++){let s=n[r];s&&this.instructions[r]?.init?.(s,e.scope)}}buildCommand(e){let n=Wk[e.key]??e.key;for(let r of e.modifiers??[])n=`${this.getModifierString(r)} ${n}`;return n}getModifierString(e){switch(e){case"Alt":return"alt";case"Ctrl":return"ctrl";case"Meta":return Zr.Platform.isMacOS?"cmd":"win";case"Mod":return Zr.Platform.isMacOS?"cmd":"ctrl";case"Shift":return"shift";default:return e}}};var Tt=class extends dr{static{i(this,"SplitFileSuggestModal")}treatTitleAsPathCheckboxEl;treatTitleAsPathCheckboxElValue;constructor(e){super(e),this.composer.action="split",this.allowCreateNewFile=!0,this.shouldShowUnresolved=this.composer.shouldAllowSplitIntoUnresolvedPath,this.shouldShowNonImageAttachments=!1,this.shouldShowImages=!1,this.shouldShowNonAttachments=!1,this.setPlaceholder("Select file to split into..."),ge(()=>this.buildInstructions())}onOpen(){super.onOpen(),this.inputEl.value=this.composer.heading,this.updateSuggestions()}async onChooseSuggestionAsync(e,n){await this.composer.selectItem(e,yh.Keymap.isModifier(n,"Mod"),this.inputEl.value),this.composer.mode=n.shiftKey?"prepend":"append",await this.composer.splitFile()}async buildInstructions(){let e=await this.composer.canIncludeFrontmatter(),n=new fr;n.addKeyboardCommand({key:"UpDown",purpose:"to navigate"}),n.addKeyboardCommand({key:"Enter",purpose:"to move to bottom"}),n.addKeyboardCommand({key:"Enter",modifiers:["Mod"],onKey:i(r=>(this.selectActiveSuggestion(r),!1),"onKey"),purpose:"to create new"}),n.addKeyboardCommand({key:"Enter",modifiers:["Shift"],onKey:i(r=>(this.selectActiveSuggestion(r),!1),"onKey"),purpose:"to move to top"}),n.addKeyboardCommand({key:"Esc",purpose:"to dismiss"}),n.addCheckbox({key:"1",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldIncludeFrontmatter=r},"onChange"),onInit:i(r=>{r.checked=e&&this.composer.shouldIncludeFrontmatter},"onInit"),purpose:"Include frontmatter"}),n.addCheckbox({key:"2",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldTreatTitleAsPath=r,this.treatTitleAsPathCheckboxElValue=r},"onChange"),onInit:i(r=>{this.treatTitleAsPathCheckboxEl=r,this.treatTitleAsPathCheckboxElValue=this.composer.shouldTreatTitleAsPath,r.checked=this.composer.shouldTreatTitleAsPath},"onInit"),purpose:"Treat title as path"}),n.addCheckbox({key:"3",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldFixFootnotes=r},"onChange"),onInit:i(r=>{r.checked=this.composer.shouldFixFootnotes},"onInit"),purpose:"Fix footnotes"}),n.addCheckbox({key:"4",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldAllowOnlyCurrentFolder=r,this.updateSuggestions(),this.treatTitleAsPathCheckboxEl!==void 0&&this.treatTitleAsPathCheckboxElValue!==void 0&&(this.composer.shouldAllowOnlyCurrentFolder?(this.treatTitleAsPathCheckboxEl.checked=!1,this.treatTitleAsPathCheckboxEl.disabled=!0,this.composer.shouldTreatTitleAsPath=!1):(this.treatTitleAsPathCheckboxEl.checked=this.treatTitleAsPathCheckboxElValue,this.treatTitleAsPathCheckboxEl.disabled=!1,this.composer.shouldTreatTitleAsPath=this.treatTitleAsPathCheckboxElValue))},"onChange"),onInit:i(r=>{r.checked=this.composer.shouldAllowOnlyCurrentFolder},"onInit"),purpose:"Allow only current folder"}),n.addCheckbox({key:"5",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldMergeHeadings=r,this.updateSuggestions()},"onChange"),onInit:i(r=>{r.checked=this.composer.shouldMergeHeadings},"onInit"),purpose:"Merge headings"}),n.addCheckbox({key:"6",modifiers:["Alt"],onChange:i(r=>{this.composer.shouldAllowSplitIntoUnresolvedPath=r,this.shouldShowUnresolved=r,this.updateSuggestions()},"onChange"),onInit:i(r=>{r.checked=this.composer.shouldAllowSplitIntoUnresolvedPath},"onInit"),purpose:"Allow split into unresolved path"}),n.addDropDown({key:"7",modifiers:["Alt"],onChange:i(r=>{this.composer.frontmatterMergeStrategy=r},"onChange"),onInit:i(r=>{r.addOptions({MergeAndPreferNewValues:"Merge and prefer new values",MergeAndPreferOriginalValues:"Merge and prefer original values",KeepOriginalFrontmatter:"Keep original frontmatter",ReplaceWithNewFrontmatter:"Replace with new frontmatter",PreserveBothOriginalAndNewFrontmatter:"Preserve both original and new frontmatter"}),r.setValue(this.composer.frontmatterMergeStrategy)},"onInit"),purpose:"Frontmatter merge strategy"}),n.build(this)}};var jl=class extends je{static{i(this,"ExtractAfterCursorEditorCommandInvocation")}constructor(e,n,r){super(e,n,r)}canExecute(){return!!super.canExecute()}async execute(){await super.execute(),this.editor.setSelection({ch:this.editor.getLine(this.editor.lastLine()).length,line:this.editor.lastLine()},this.editor.getCursor());let e=new Le(this.plugin,this.file,this.editor);new Tt(e).open()}},_s=class extends He{static{i(this,"ExtractAfterCursorEditorCommand")}editorMenuItemName="Advanced extract after cursor...";constructor(e){super({icon:"lucide-arrow-down-from-line",id:"extract-after-cursor",name:"Extract after cursor...",plugin:e})}createEditorCommandInvocation(e,n){return new jl(this.plugin,e,n)}shouldAddToEditorMenu(){return!0}};var Kl=class extends je{static{i(this,"ExtractBeforeCursorEditorCommandInvocation")}constructor(e,n,r){super(e,n,r)}canExecute(){return!!super.canExecute()}async execute(){await super.execute(),this.editor.setSelection({ch:0,line:0},this.editor.getCursor());let e=new Le(this.plugin,this.file,this.editor);new Tt(e).open()}},Is=class extends He{static{i(this,"ExtractBeforeCursorEditorCommand")}editorMenuItemName="Advanced extract before cursor...";constructor(e){super({icon:"lucide-arrow-up-from-line",id:"extract-before-cursor",name:"Extract before cursor...",plugin:e})}createEditorCommandInvocation(e,n){return new Kl(this.plugin,e,n)}shouldAddToEditorMenu(){return!0}};var Gl=class extends je{static{i(this,"ExtractCurrentSelectionEditorCommandInvocation")}constructor(e,n,r){super(e,n,r)}canExecute(){return!(!super.canExecute()||!this.editor.somethingSelected())}async execute(){await super.execute();let e=new Le(this.plugin,this.file,this.editor);new Tt(e).open()}},Ms=class extends He{static{i(this,"ExtractCurrentSelectionEditorCommand")}editorMenuItemName="Advanced extract current selection...";editorMenuSection="selection";constructor(e){super({icon:"lucide-scissors",id:"extract-current-selection",name:"Extract current selection...",plugin:e})}createEditorCommandInvocation(e,n){return new Gl(this.plugin,e,n)}shouldAddToEditorMenu(){return!0}};var ql=class extends je{static{i(this,"ExtractThisHeadingEditorCommandInvocation")}headingInfo;constructor(e,n,r){super(e,n,r)}canExecute(){if(!super.canExecute())return!1;let e=this.editor.getCursor().line,n=this.editor.getLine(e);if(!zl(n))return!1;let s=cr(this.app,this.file,this.editor,e);return s?(this.headingInfo=s,!0):!1}async execute(){if(await super.execute(),!this.headingInfo)return;this.editor.setSelection(this.headingInfo.start,this.headingInfo.end);let e=new Le(this.plugin,this.file,this.editor,this.headingInfo.heading);new Tt(e).open()}},Os=class extends He{static{i(this,"ExtractThisHeadingEditorCommand")}editorMenuItemName="Advanced extract this heading...";constructor(e){super({icon:"lucide-scissors",id:"extract-this-heading",name:"Extract this heading...",plugin:e})}createEditorCommandInvocation(e,n){return new ql(this.plugin,e,n)}shouldAddToEditorMenu(){return!0}};var Ns=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ds=class extends Un{static{i(this,"NonEditorCommandBase")}checkCallback(e){return this.createCommandInvocation().invoke(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ls=class extends Ds{static{i(this,"AbstractFileCommandBase")}fileMenuItemName;fileMenuSection;filesMenuItemName;filesMenuSection;checkCallback(e){return this.shouldAddToCommandPalette()?super.checkCallback(e):!1}register(){super.register(),this.plugin.registerEvent(this.app.workspace.on("file-menu",this.handleAbstractFileMenu.bind(this))),this.plugin.registerEvent(this.app.workspace.on("files-menu",this.handleAbstractFilesMenu.bind(this)))}shouldAddToAbstractFileMenu(e,n,r){return!1}shouldAddToCommandPalette(){return!0}handleAbstractFileMenu(e,n,r,s){this.shouldAddToAbstractFileMenu(n,r,s)&&this.createCommandInvocation().invoke(!0,n)&&e.addItem(a=>{a.setTitle(this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.fileMenuSection??"").onClick(()=>this.createCommandInvocation().invoke(!1,n))})}handleAbstractFilesMenu(e,n,r,s){for(let a of n)if(!this.shouldAddToAbstractFileMenu(a,r,s)||!this.createCommandInvocation().invoke(!0,a))return;e.addItem(a=>{a.setTitle(this.filesMenuItemName??this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.filesMenuSection??this.fileMenuSection??"").onClick(()=>{for(let l of n)this.createCommandInvocation().invoke(!1,l)})})}},Rs=class extends $n{static{i(this,"AbstractFileCommandInvocationBase")}get abstractFile(){if(!this._abstractFile)throw new Error("Abstract file not set");return this._abstractFile}set abstractFile(e){this._abstractFile=e}_abstractFile;invoke(e,n){return n&&(this._abstractFile=n),super.invoke(e)}canExecute(){if(!super.canExecute())return!1;let e=this._abstractFile??this.app.workspace.getActiveFile();return e?(this._abstractFile=e,!0):!1}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bs=class extends Ls{static{i(this,"FileCommandBase")}shouldAddToAbstractFileMenu(e,n,r){return e instanceof Ns.TFile?this.shouldAddToFileMenu(e,n,r):!1}shouldAddToFileMenu(e,n,r){return!1}},Vs=class extends Rs{static{i(this,"FileCommandInvocationBase")}get file(){if(!(this.abstractFile instanceof Ns.TFile))throw new Error("Abstract file is not a file");return this.abstractFile}set file(e){this.abstractFile=e}canExecute(){if(!super.canExecute())return!1;if(!(this.abstractFile instanceof Ns.TFile)){let e=this.app.workspace.getActiveFile();if(!e)return!1;this.file=e}return!0}};var zs=require("obsidian");var wh=require("obsidian");var Ws=class extends wh.Modal{static{i(this,"DynamicModal")}buttonContainerEl;constructor(e){super(e),this.containerEl.addClass("mod-confirmation"),this.buttonContainerEl=this.modalEl.createDiv("modal-button-container")}addButton(e,n,r){let s=Array.isArray(e)?e:[e],a=this.buttonContainerEl.createEl("button",{cls:s.join(" "),text:n});return a.addEventListener("click",l=>{ge(async()=>{try{a.addClass("mod-loading"),await r(l)||this.close()}catch(c){console.error("Error in button click handler:",c)}finally{a.removeClass("mod-loading")}})}),this}addCancelButton(e){return this.addButton("mod-cancel","Cancel",()=>{e?.()})}addCheckbox(e,n){return this.buttonContainerEl.createEl("label",{cls:"mod-checkbox"},r=>{r.createEl("input",{attr:{tabindex:-1},type:"checkbox"}),r.addEventListener("click",n),r.appendText(e)}),this}};var Ys=class extends dr{constructor(n,r){super(r);this.plugin=n;this.composer.action="merge",this.emptyStateText="No files found.",this.shouldShowNonImageAttachments=!1,this.shouldShowImages=!1,this.shouldShowNonAttachments=!1,this.setPlaceholder("Select file to merge into...");let s=new fr;s.addKeyboardCommand({key:"UpDown",purpose:"to navigate"}),s.addKeyboardCommand({key:"Enter",purpose:"to move to bottom"}),s.addKeyboardCommand({key:"Enter",modifiers:["Mod"],onKey:i(a=>(this.selectActiveSuggestion(a),!1),"onKey"),purpose:"to create new"}),s.addKeyboardCommand({key:"Enter",modifiers:["Shift"],onKey:i(a=>(this.selectActiveSuggestion(a),!1),"onKey"),purpose:"to merge at top"}),s.addKeyboardCommand({key:"Esc",purpose:"to dismiss"}),s.addCheckbox({key:"1",modifiers:["Alt"],onChange:i(a=>{this.composer.shouldFixFootnotes=a},"onChange"),onInit:i(a=>{a.checked=this.composer.shouldFixFootnotes},"onInit"),purpose:"Fix footnotes"}),s.addCheckbox({key:"2",modifiers:["Alt"],onChange:i(a=>{this.composer.shouldAllowOnlyCurrentFolder=a,this.updateSuggestions()},"onChange"),onInit:i(a=>{a.checked=this.composer.shouldAllowOnlyCurrentFolder},"onInit"),purpose:"Allow only current folder"}),s.addCheckbox({key:"3",modifiers:["Alt"],onChange:i(a=>{this.composer.shouldMergeHeadings=a,this.updateSuggestions()},"onChange"),onInit:i(a=>{a.checked=this.composer.shouldMergeHeadings},"onInit"),purpose:"Merge headings"}),s.addCheckbox({key:"4",modifiers:["Alt"],onChange:i(a=>{this.composer.shouldAllowSplitIntoUnresolvedPath=a,this.shouldShowUnresolved=a,this.updateSuggestions()},"onChange"),onInit:i(a=>{a.checked=this.composer.shouldAllowSplitIntoUnresolvedPath},"onInit"),purpose:"Allow split into unresolved path"}),s.addDropDown({key:"5",modifiers:["Alt"],onChange:i(a=>{this.composer.frontmatterMergeStrategy=a},"onChange"),onInit:i(a=>{a.addOptions({MergeAndPreferNewValues:"Merge and prefer new values",MergeAndPreferOriginalValues:"Merge and prefer original values",KeepOriginalFrontmatter:"Keep original frontmatter",ReplaceWithNewFrontmatter:"Replace with new frontmatter",PreserveBothOriginalAndNewFrontmatter:"Preserve both original and new frontmatter"}),a.setValue(this.composer.frontmatterMergeStrategy)},"onInit"),purpose:"Frontmatter merge strategy"}),s.build(this)}static{i(this,"MergeFileSuggestModal")}doNotAskAgain=!1;async onChooseSuggestionAsync(n,r){if(await this.composer.selectItem(n,zs.Keymap.isModifier(r,"Mod"),this.inputEl.value),this.composer.targetFile!==this.composer.sourceFile)if(this.doNotAskAgain=!1,this.plugin.settings.shouldAskBeforeMerging){let s=new Ws(this.app).setTitle("Merge file").setContent(createFragment(a=>{a.appendText("Are you sure you want to merge "),ve(a,this.composer.sourceFile.path),a.appendText(" into "),ve(a,this.composer.targetFile.path),a.appendText("? "),ve(a,this.composer.sourceFile.path),a.appendText(" will be deleted.")}));zs.Platform.isMobile?s.addButton("mod-warning","Delete and don't ask again",async()=>{await this.performMerge(r)}):s.addCheckbox("Don't ask again",a=>{a.target instanceof HTMLInputElement&&(this.doNotAskAgain=a.target.checked)}),s.addButton("mod-warning","Merge",async()=>{await this.performMerge(r)}).addCancelButton().open()}else await this.performMerge(r)}async performMerge(n){this.composer.mode=n.shiftKey?"prepend":"append",await this.composer.mergeFile(this.doNotAskAgain)}};var Zl=class extends Vs{static{i(this,"MergeFileCommandInvocation")}constructor(e){super(e)}canExecute(){return super.canExecute()?mt(this.app,this.file):!1}async execute(){await super.execute(),new Ys(this.plugin,new Le(this.plugin,this.file)).open()}},Us=class extends Bs{static{i(this,"MergeFileCommand")}fileMenuItemName="Advanced merge entire file with...";fileMenuSection="action";constructor(e){super({icon:"lucide-git-merge",id:"merge-file",name:"Merge current file with another file...",plugin:e})}createCommandInvocation(){return new Zl(this.plugin)}shouldAddToFileMenu(e,n){return n!=="link-context-menu"}};var bh=require("obsidian");var Jl=class extends je{constructor(n,r,s,a){super(n,r,s);this.headingLevel=a}static{i(this,"SplitNoteByHeadingsEditorContentCommandInvocation")}canExecute(){if(!super.canExecute())return!1;let n=this.app.metadataCache.getFileCache(this.file);if(!n)return!1;let r=n.headings?.filter(s=>s.level===this.headingLevel);return!(!r||r.length===0)}async execute(){await super.execute();let n=0;for(;;){let r=await gt(this.app,this.file);if(!r)break;let s=(r.headings??[]).filter(d=>d.level===this.headingLevel)[n];if(!s)break;let a=cr(this.app,this.file,this.editor,s.position.start.line);if(!a){new bh.Notice("Failed to find heading");return}let l={ch:1,line:a.start.line+1};this.editor.setSelection(l,a.end),await new Le(this.plugin,this.file,this.editor,a.heading).splitFile(),n++}}},$s=class extends He{constructor(n,r){super({icon:"lucide-scissors-line-dashed",id:`split-note-by-headings-content-h${String(r)}`,name:`Split note by headings content - H${String(r)}`,plugin:n});this.headingLevel=r}static{i(this,"SplitNoteByHeadingsContentEditorCommand")}createEditorCommandInvocation(n,r){return new Jl(this.plugin,n,r,this.headingLevel)}};var kh=require("obsidian");var Ql=class extends je{constructor(n,r,s,a){super(n,r,s);this.headingLevel=a}static{i(this,"SplitNoteByHeadingsEditorCommandInvocation")}canExecute(){if(!super.canExecute())return!1;let n=this.app.metadataCache.getFileCache(this.file);if(!n)return!1;let r=n.headings?.filter(s=>s.level===this.headingLevel);return!(!r||r.length===0)}async execute(){for(await super.execute();;){let n=await gt(this.app,this.file);if(!n)break;let r=(n.headings??[]).find(l=>l.level===this.headingLevel);if(!r)break;let s=cr(this.app,this.file,this.editor,r.position.start.line);if(!s){new kh.Notice("Failed to find heading");return}this.editor.setSelection(s.start,s.end),await new Le(this.plugin,this.file,this.editor,s.heading).splitFile()}}},Hs=class extends He{constructor(n,r){super({icon:"lucide-scissors-line-dashed",id:`split-note-by-headings-h${String(r)}`,name:`Split note by headings - H${String(r)}`,plugin:n});this.headingLevel=r}static{i(this,"SplitNoteByHeadingsEditorCommand")}icon="lucide-scissors-line-dashed";createEditorCommandInvocation(n,r){return new Ql(this.plugin,n,r,this.headingLevel)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ln=class{static{i(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let a={};for(let l of Kn(e)){let c=e[l],d=this.transformValueRecursively(c,l);a[l]=d}return a}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var at=class extends ln{static{i(this,"TypedTransformer")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var js=class extends at{static{i(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var xh=Je(en(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ks=class extends at{static{i(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,xh.duration)(e)}transformValue(e){return e.toISOString()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gs=class extends ln{static{i(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??_i(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qs=class extends at{static{i(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zs=class extends at{static{i(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yk="_",Js=class extends ln{static{i(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(Yk)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jr=class{static{i(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qs=class extends at{static{i(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Jr}restoreValue(e){return new Jr(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zk=new Gs([new Js,new js,new Ks,new qs,new Zs,new Qs]),Xs=class extends xt{static{i(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Kn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,s=await this.rawRecordToSettings(r),a=await this.validate(s);for(let c of this.propertyNames)this.setPropertyImpl(c,s[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);Ke(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Vt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){Ke(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,s]of this.validators.entries()){let a=await s(e[r],e);a&&(n[r]=a)}return n}getTransformer(){return zk}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await vt()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(s);function s(a){let l=new Set(Object.keys(new e)),c=new Set(r.propertyNames),d=a;n(d);for(let h of Object.keys(d))c.has(h)||l.has(h)&&delete a[h]}i(s,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),s=JSON.parse(r);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let s=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=s,this.currentSettingsWrapper.safeSettings[r]=s?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,s]of Object.entries(e)){if(!this.isValidPropertyName(r)){Qe("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof s!=typeof this.defaultSettings[r]&&Qe("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:s}),n[r]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var eo=class extends Xs{static{i(this,"PluginSettingsManager")}createDefaultSettings(){return new Fs}registerValidators(){this.registerValidator("replacement",e=>{if(Ts.test(e)||e==="/")return"Invalid replacement string"})}};var Tn=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function to(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(Y.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();le(r,Y.SettingComponentWrapper);for(let s of n)r.appendChild(s);return e.appendChild(r),r}i(to,"ensureWrapped");var vh=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xl=class{static{i(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Ch(t){return Uk(t)?t:t instanceof vh.AbstractTextComponent?new Xl(t):null}i(Ch,"getTextBasedComponentValue");function Uk(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}i(Uk,"isTextBasedComponent");var Re=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var no=class{static{i(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=to(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),le(this._validatorEl,Y.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},un=class{static{i(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Ah(t){return $k(t)?t:t instanceof Re.ColorComponent?new un(t.colorPickerEl):t instanceof Re.DropdownComponent?new un(t.selectEl):t instanceof Re.ProgressBarComponent?new no(t.progressBar):t instanceof Re.SearchComponent?new un(t.inputEl):t instanceof Re.SliderComponent?new un(t.sliderEl):t instanceof Re.TextAreaComponent?new un(t.inputEl):t instanceof Re.TextComponent?new un(t.inputEl):t instanceof Re.ToggleComponent?new no(t.toggleEl):null}i(Ah,"getValidatorComponent");function $k(t){return!!t.validatorEl}i($k,"isValidatorComponent");var Hk=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Sh(t){return t.validationMessage!==void 0}i(Sh,"isValidationMessageHolder");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eu="PluginSettingsTab",ro=class extends Tn.PluginSettingTab{static{i(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,le(this.containerEl,Y.PluginSettingsTab),this.saveSettingsDebounced=(0,Tn.debounce)(zn(()=>this.plugin.settingsManager.saveToFile(eu)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Vi,this.asyncEvents=new xt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let a={...{componentToPluginSettingsValueConverter:i(D=>D,"componentToPluginSettingsValueConverter"),onChanged:Vt,pluginSettingsToComponentValueConverter:i(D=>D,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=Ah(e)?.validatorEl,c=Ch(e),d=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n],p=a.pluginSettingsToComponentValueConverter(h);c?.setPlaceholderValue(p);let g,y=null,w=null;if(l){let D=to(l);y=D.createDiv(),le(y,Y.Tooltip,Y.TooltipValidator),w=y.createSpan();let W=y.createDiv();le(W,Y.TooltipArrow),y.hide(),D.appendChild(y)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(D,W)=>{n===D&&(g=W,F())}));let C=!1,P=!1;c&&a.shouldShowPlaceholderForDefaultValues&&Ke(d,h)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(d));let S=!1,F=(0,Tn.debounce)(()=>{requestAnimationFrame(()=>{I()})},100);return e.onChange(async D=>{if(S){S=!1;return}C=!1;let W=this.pluginSettings[n],E,K=!0;if(P=!!c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty,P)E=h;else{let G=a.componentToPluginSettingsValueConverter(D);Sh(G)?(g=G.validationMessage,K=!1):E=G}K&&(g=await this.plugin.settingsManager.setProperty(n,E),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&Ke(E,h)&&(C=!0)),F(),K&&await a.onChanged(E,W),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{F()}),l?.addEventListener("blur",()=>{F()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{F()})}),g=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",F(),e;function I(){l?.isActiveElement()||(C?(C=!1,c?.isEmpty()||(S=!0,c?.empty())):P&&(P=!1,c?.isEmpty()&&(S=!0,e.setValue(p)))),l&&(g===""&&(l.setCustomValidity(""),l.checkValidity(),g=l.validationMessage),l.setCustomValidity(g),a.shouldShowValidationMessage?(w&&(w.textContent=g),y?.toggle(!!g)):g&&(0,Tn.setTooltip)(l,g))}i(I,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ge(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(eu)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await vt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===eu){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Oh=require("obsidian");var Eh=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var io=class extends Eh.ValueComponent{static{i(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),le(e,Y.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var hr=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var so=class extends hr.ValueComponent{static{i(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),le(e,Y.CodeHighlighterComponent);let n=e.createDiv();le(n,Y.SettingComponentWrapper),this.textAreaComponent=new hr.TextAreaComponent(n),this.preEl=n.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",zn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let s of Array.from(r.classList))s.startsWith(n)&&r.classList.remove(s);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ge(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ge(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let p=Array.from(document.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),g=p.indexOf(this.inputEl),y=e.shiftKey?-1:1;p[(g+y+p.length)%p.length]?.focus();return}let n=this.getValue(),r=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,a=n.slice(0,r),l=n.slice(s),c=" ".repeat(this.tabSize),d=a;e.shiftKey?a.endsWith(c)&&(d=a.slice(0,-this.tabSize)):d=a+c;let h=`${d}${l}`;this.setValue(h),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,hr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(Y.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":ju(n)}),this.handleScroll()})}};var tu=Je(en(),1);var oo=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fe=class extends oo.ValueComponent{static{i(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new oo.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,le(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ze=class extends Fe{static{i(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Th="YYYY-MM-DD",ao=class extends Ze{static{i(this,"DateComponent")}constructor(e){super(e,"date",Y.DateComponent)}valueFromString(e){return(0,tu.default)(e,Th).toDate()}valueToString(e){return(0,tu.default)(e).format(Th)}};var nu=Je(en(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fh="YYYY-MM-DDTHH:mm",lo=class extends Ze{static{i(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",Y.DateTimeComponent)}valueFromString(e){return(0,nu.default)(e,Fh).toDate()}valueToString(e){return(0,nu.default)(e).format(Fh)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo=class extends Fe{static{i(this,"EmailComponent")}constructor(e){super(e,"email",Y.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var co=class extends Fe{static{i(this,"FileComponent")}constructor(e){super(e,"file",Y.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var ru=Je(en(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ph="YYYY-MM",fo=class extends Ze{static{i(this,"MonthComponent")}constructor(e){super(e,"month",Y.MonthComponent)}valueFromString(e){let n=(0,ru.default)(e,Ph);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,ru.default)().year(e.year).month(e.month-1).format(Ph)}};var ho=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pr=class extends ho.ValueComponent{static{i(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new ho.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,le(e,Y.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var po=class extends Fe{static{i(this,"MultipleEmailComponent")}constructor(e){super(e,"email",Y.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mo=class extends Fe{static{i(this,"MultipleFileComponent")}constructor(e){super(e,"file",Y.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var yo=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var go=class extends yo.ValueComponent{static{i(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new yo.TextAreaComponent(e),le(e,Y.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo=class extends Ze{static{i(this,"NumberComponent")}constructor(e){super(e,"number",Y.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bo=class extends Fe{static{i(this,"PasswordComponent")}constructor(e){super(e,"password",Y.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ko=class extends Fe{static{i(this,"TelephoneComponent")}constructor(e){super(e,"tel",Y.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var vo=Je(en(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xo=class extends Ze{static{i(this,"TimeComponent")}constructor(e){super(e,"time",Y.TimeComponent)}valueFromString(e){return(0,vo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,vo.utc)(e.asMilliseconds()).format(n)}};var _h=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Co=class extends _h.ValueComponent{static{i(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),le(e,Y.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var So=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ao=class extends So.ValueComponent{static{i(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new So.DropdownComponent(e),le(e,Y.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Ih=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Eo=class extends Ih.ValueComponent{static{i(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new pr(e),le(e,Y.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var To=class extends Fe{static{i(this,"UrlComponent")}constructor(e){super(e,"url",Y.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var iu=Je(en(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mh="YYYY-[W]WW",Fo=class extends Ze{static{i(this,"WeekComponent")}constructor(e){super(e,"week",Y.WeekComponent)}valueFromString(e){let n=(0,iu.default)(e,Mh);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,iu.default)().year(e.year).isoWeek(e.weekNumber).format(Mh)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ce=class extends Oh.Setting{static{i(this,"SettingEx")}addCheckbox(e){return this.addComponent(io,e)}addCodeHighlighter(e){return this.addComponent(so,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(ao,e)}addDateTime(e){return this.addComponent(lo,e)}addEmail(e){return this.addComponent(uo,e)}addFile(e){return this.addComponent(co,e)}addMonth(e){return this.addComponent(fo,e)}addMultipleDropdown(e){return this.addComponent(pr,e)}addMultipleEmail(e){return this.addComponent(po,e)}addMultipleFile(e){return this.addComponent(mo,e)}addMultipleText(e){return this.addComponent(go,e)}addNumber(e){return this.addComponent(wo,e)}addPassword(e){return this.addComponent(bo,e)}addTelephone(e){return this.addComponent(ko,e)}addTime(e){return this.addComponent(xo,e)}addTriStateCheckbox(e){return this.addComponent(Co,e)}addTypedDropdown(e){return this.addComponent(Ao,e)}addTypedMultipleDropdown(e){return this.addComponent(Eo,e)}addUrl(e){return this.addComponent(To,e)}addWeek(e){return this.addComponent(Fo,e)}};var Io=require("obsidian");var Po="advanced-note-composer-template",_o=class extends Io.Component{static{i(this,"PrismComponent")}onload(){super.onload(),ge(this.initPrism.bind(this))}async initPrism(){let e=await(0,Io.loadPrism)();e.languages[Po]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\{\{/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}\}/}},pattern:/\{\{.+?\}\}/}},this.register(()=>{delete e.languages[Po]})}};var Mo=class extends ro{static{i(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new Ce(this.containerEl).setName("Should replace invalid characters").setDesc(createFragment(e=>{e.appendText("Whether to replace invalid characters in the title."),e.createEl("br"),e.appendText("If disabled, the error will be shown for invalid titles.")})).addToggle(e=>{this.bind(e,"shouldReplaceInvalidTitleCharacters",{onChanged:i(()=>{this.display()},"onChanged")})}),new Ce(this.containerEl).setName("Replacement string").setDesc(createFragment(e=>{e.appendText("String to replace invalid characters with."),e.createEl("br"),e.appendText("Leave blank to remove invalid characters.")})).addText(e=>{this.bind(e,"replacement",{shouldResetSettingWhenComponentIsEmpty:!1}),e.setDisabled(!this.plugin.settings.shouldReplaceInvalidTitleCharacters)}),new Ce(this.containerEl).setName("Should add invalid title to note aliases").setDesc("Whether to add invalid title to the note alias.").addToggle(e=>{this.bind(e,"shouldAddInvalidTitleToNoteAlias")}),new Ce(this.containerEl).setName("Should add invalid title to frontmatter title key").setDesc("Whether to add invalid title to the frontmatter title key.").addToggle(e=>{this.bind(e,"shouldAddInvalidTitleToFrontmatterTitleKey")}),new Ce(this.containerEl).setName("Should open note after merge").setDesc("Whether to open the note after merge.").addToggle(e=>{this.bind(e,"shouldOpenNoteAfterMerge")}),new Ce(this.containerEl).setName("Should include frontmatter when splitting by default").setDesc("Whether to include frontmatter when splitting by default.").addToggle(e=>{this.bind(e,"shouldIncludeFrontmatterWhenSplittingByDefault")}),new Ce(this.containerEl).setName("Should treat title as path by default").setDesc("Whether to treat title as path by default.").addToggle(e=>{this.bind(e,"shouldTreatTitleAsPathByDefault")}),new Ce(this.containerEl).setName("Should fix footnotes by default").setDesc("Whether to fix footnotes by default.").addToggle(e=>{this.bind(e,"shouldFixFootnotesByDefault")}),new Ce(this.containerEl).setName("Should allow only current folder by default").setDesc("Whether to allow only current folder by default.").addToggle(e=>{this.bind(e,"shouldAllowOnlyCurrentFolderByDefault")}),new Ce(this.containerEl).setName("Should merge headings by default").setDesc("Whether to merge headings by default.").addToggle(e=>{this.bind(e,"shouldMergeHeadingsByDefault")}),new Ce(this.containerEl).setName("Should allow split into unresolved path by default").setDesc("Whether to allow split into unresolved path by default.").addToggle(e=>{this.bind(e,"shouldAllowSplitIntoUnresolvedPathByDefault")}),new Ce(this.containerEl).setName("Default frontmatter merge strategy").setDesc(createFragment(e=>{e.appendText("When merging frontmatter values from note A to note B:"),e.createEl("br"),ve(e,"Merge and prefer new values"),e.appendText(" - copy values from A to B that were not in B yet, and overwrite existing values in B with values from A."),e.createEl("br"),ve(e,"Merge and prefer original values"),e.appendText(" - copy values from A to B that were not in B yet, and keep existing values in B."),e.createEl("br"),ve(e,"Keep original frontmatter"),e.appendText(" - keep existing values in B, and ignore values from A."),e.createEl("br"),ve(e,"Replace with new frontmatter"),e.appendText(" - remove existing values in B, and copy values from A to B."),e.createEl("br"),ve(e,"Preserve both original and new frontmatter"),e.appendText(" - copies new frontmatter from A into a separate frontmatter key in B."),e.createEl("br")})).addDropdown(e=>{e.addOptions({MergeAndPreferNewValues:"Merge and prefer new values",MergeAndPreferOriginalValues:"Merge and prefer original values",KeepOriginalFrontmatter:"Keep original frontmatter",ReplaceWithNewFrontmatter:"Replace with new frontmatter",PreserveBothOriginalAndNewFrontmatter:"Preserve both original and new frontmatter"}),this.bind(e,"defaultFrontmatterMergeStrategy")}),new Ce(this.containerEl).setName("Should ask before merging").setDesc("Whether to ask before merging notes.").addToggle(e=>{this.bind(e,"shouldAskBeforeMerging")}),new Ce(this.containerEl).setName("Text after extraction").setDesc("What to show in place of the selected text after extracting it.").addDropdown(e=>{e.addOptions({link:"Link to new file",embed:"Embed new file",none:"None"}),this.bind(e,"textAfterExtractionMode")}),new Ce(this.containerEl).setName("Template").setDesc(createFragment(e=>{e.appendText("Template to use when merging notes."),e.createEl("br"),e.appendText("Available variables: "),e.createEl("br"),e.appendText("- "),ve(e,"{{content}}"),e.createEl("br"),e.appendText("- "),ve(e,"{{fromTitle}}"),e.createEl("br"),e.appendText("- "),ve(e,"{{fromPath}}"),e.createEl("br"),e.appendText("- "),ve(e,"{{newTitle}}"),e.createEl("br"),e.appendText("- "),ve(e,"{{newPath}}"),e.createEl("br"),e.appendText("- "),ve(e,"{{date:FORMAT}}"),e.appendText(", e.g. "),ve(e,"{{date:YYYY-MM-DD}}")})).addCodeHighlighter(e=>{e.setLanguage(Po),this.bind(e,"template")}),new Ce(this.containerEl).setName("Should show console debug messages").setDesc("Whether to show console debug messages.").addToggle(e=>{let n=Di(),r=n.get().includes(this.plugin.manifest.id);e.setValue(r),e.onChange(s=>{s?n.enable(this.plugin.manifest.id):n.disable(this.plugin.manifest.id)})})}};var Oo=class extends Ui{static{i(this,"Plugin")}createSettingsManager(){return new eo(this)}createSettingsTab(){return new Mo(this)}async onLayoutReady(){await super.onLayoutReady(),await this.showReleaseNotes()}async onloadImpl(){await super.onloadImpl(),this.addChild(new _o),new Us(this).register(),new Ms(this).register(),new Os(this).register(),new Is(this).register(),new _s(this).register();let e=[1,2,3,4,5,6];for(let n of e)new Hs(this,n).register(),new $s(this,n).register()}async showReleaseNotes(){let e={"3.0.0":createFragment(s=>{s.appendText("The plugin no longer requires "),ve(s,"Note composer"),s.appendText(" core plugin. You can safely switch it off to avoid duplicated functionality.")})},n=createFragment(),r=[];for(let[s,a]of Object.entries(e))this.settings.releaseNotesShown.includes(s)||(r.push(s),n.createEl("h1",{text:s}),n.append(a));r.length!==0&&(await this.settingsManager.editAndSave(s=>{s.releaseNotesShown=[...s.releaseNotesShown,...r]}),await Yc({app:this.app,message:n,title:"Release notes"}))}};var jk=Oo;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */